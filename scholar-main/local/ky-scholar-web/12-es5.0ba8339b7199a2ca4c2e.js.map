{"version":3,"sources":["webpack:///node_modules/util/support/isBufferBrowser.js","webpack:///layout/section-task/exercises-lib/model/exercise.ts","webpack:///layout/section-task/exercises-lib/choice-question/qkc-checkbox/qkc-checkbox.component.html","webpack:///layout/section-task/exercises-lib/choice-question/qkc-checkbox/qkc-checkbox.component.ts","webpack:///layout/section-task/exercises-lib/choice-question/choice-question.component.html","webpack:///layout/section-task/exercises-lib/choice-question/choice-question.component.ts","webpack:///layout/section-task/exercises-lib/sketch/sketch.component.html","webpack:///layout/section-task/exercises-lib/sketch/sketch.component.ts","webpack:///layout/section-task/exercises-lib/fill-blanks/fill-blanks.component.html","webpack:///layout/section-task/exercises-lib/fill-blanks/fill-blanks.component.ts","webpack:///layout/section-task/exercises-lib/entry-subject/base-entry-subject/base-entry-subject.component.html","webpack:///layout/section-task/exercises-lib/entry-subject/base-entry-subject/base-entry-subject.component.ts","webpack:///layout/section-task/exercises-lib/entry-subject/entry-subject.component.html","webpack:///layout/section-task/exercises-lib/entry-subject/entry-subject.component.ts","webpack:///layout/section-task/exercises-lib/form-subject/form-subject.component.html","webpack:///layout/section-task/exercises-lib/form-subject/form-subject.component.ts","webpack:///layout/section-task/exercises-lib/complex/complex.component.html","webpack:///layout/section-task/exercises-lib/complex/complex.component.ts","webpack:///layout/section-task/exercises-lib/exercises-lib.module.ts","webpack:///node_modules/js-base64/base64.mjs","webpack:///core/services/task-center.service.ts","webpack:///layout/section-task/exercise-task/exercise-task.service.ts","webpack:///core/services/api.service.ts","webpack:///core/base/task.ts","webpack:///layout/section-task/task-list/section-task-item/section-task-item.component.html","webpack:///layout/section-task/task-list/section-task-item/section-task-item.component.ts","webpack:///layout/section-task/task-list/task-list.component.html","webpack:///layout/section-task/task-list/task-list.component.ts","webpack:///layout/section-task/read-task/read-task.component.html","webpack:///layout/section-task/read-task/read-task.component.ts","webpack:///components-qkc/qkc-upload/qkc-upload.component.ts","webpack:///components-qkc/qkc-upload/qkc-upload.component.html","webpack:///layout/section-task/case-complex-task/case-task/case-task.component.html","webpack:///layout/section-task/case-complex-task/case-task/case-task.component.ts","webpack:///layout/section-task/case-complex-task/speak-wall/speak-wall.component.html","webpack:///layout/section-task/case-complex-task/speak-wall/speak-wall.component.ts","webpack:///layout/section-task/case-complex-task/case-complex-task.component.html","webpack:///layout/section-task/case-complex-task/case-complex-task.component.ts","webpack:///layout/section-task/exercise-task/exercise-radio/exercise-radio.component.html","webpack:///layout/section-task/exercise-task/exercise-radio/exercise-radio.component.ts","webpack:///layout/section-task/exercise-task/exercise-task.component.html","webpack:///layout/section-task/exercise-task/exercise-task.component.ts","webpack:///core/dashboard/dashboard.ts","webpack:///layout/section-task/train-task/train-task.component.html","webpack:///layout/section-task/train-task/train-task.component.ts","webpack:///layout/section-task/test-task/test-task.component.html","webpack:///layout/section-task/test-task/test-task.component.ts","webpack:///layout/section-task/question-task/question-task.component.html","webpack:///layout/section-task/question-task/question-task.component.ts","webpack:///layout/section-task/section-task.component.html","webpack:///layout/section-task/section-task.component.ts","webpack:///layout/section-task/tiku-exercise-set/tiku-exercise-set.component.html","webpack:///layout/section-task/tiku-exercise-set/tiku-exercise-set.component.ts","webpack:///layout/section-task/tiku-wrong-exercise-set/tiku-wrong-exercise-set.component.html","webpack:///layout/section-task/tiku-wrong-exercise-set/tiku-wrong-exercise-set.component.ts","webpack:///layout/section-task/tiku-collection/tiku-collection.component.html","webpack:///layout/section-task/tiku-collection/tiku-collection.component.ts","webpack:///layout/section-task/tiku-profile/tiku-profile.component.html","webpack:///layout/section-task/tiku-profile/tiku-profile.component.ts","webpack:///layout/section-task/tiku-task-item/tiku-task-item.component.html","webpack:///layout/section-task/tiku-task-item/tiku-task-item.component.ts","webpack:///layout/section-task/tiku-exercise-task/tiku-exercise-task.component.html","webpack:///layout/section-task/tiku-exercise-task/tiku-exercise-task.component.ts","webpack:///layout/section-task/section-task.module.ts","webpack:///node_modules/util/node_modules/inherits/inherits_browser.js","webpack:///node_modules/lodash/lodash.js","webpack:///src/app/busi-services/my-class.service.ts","webpack:///node_modules/util/util.js","webpack:///(webpack)/buildin/module.js"],"names":["module","exports","arg","copy","fill","readUInt8","ExerciseKindEnum","JudgeChoice","SingleChoice","TwiceChoice","IndefiniteMultiple","MultipleChoice","EntrySubject","FillBlanks","FormSubject","Sketch","Complex","QkcCheckboxComponent","anwser","changes","exerciseData","currentValue","this","transformAnswer","exeOpts","populateAnswer","populateMyAnswer","exerciseKind","label","shift","myAnswer","filter","el","join","includes","idx","findIndex","length","push","splice","id","optionList","forEach","item","isMyAnswer","split","answer","status","isRight","content","ChoiceQuestionComponent","SketchComponent","files","FillBlanksComponent","replace","BaseEntrySubjectComponent","answerModel","data","isJie","subject","jd","val","index","EntrySubjectComponent","caterysTree","getCaterysTree","key","category","fullName","FormSubjectComponent","ComplexComponent","ExercisesLibModule","a","tab","TaskCenterService","ExerciseTaskService","ApiService","ZORRO_MODULES","_hasatob","atob","_hasBuffer","Buffer","_TD","TextDecoder","b64tab","TextEncoder","c","i","b64re","_fromCC","String","fromCharCode","bind","_U8Afrom","Uint8Array","from","it","fn","x","Array","prototype","slice","call","map","_tidyB64","s","re_btou","cb_btou","cccc","offset","charCodeAt","_atob","asc","toString","test","TypeError","u24","r1","r2","bin","charAt","_toUint8Array","_decode","decode","http","params","post","page","limit","getHttpOptions","courseTimeId","taskId","postBody","postBody2","url","get","stuId","taskService","tikuService","originalExerciseList","originalAnswerList","originalCollectionList","orgianlErrorQuestionList","exerciseList","filterExerciseList","exerciseKindMap","1","2","24","7","3","6","22","12","18","23","exeMode","exeStatus","subjectHandler","NotComplex","exercise","isSubject","checkQuesSubject","questionList","some","question","commonHandler","isDone","orginalAnswer","isCorrect","evaluateExp","toInt","score","isEvalute","markStatus","every","commonHandlerWithSubmit","formatMyAnswerWithSingle","toUpperCase","formatRightAnswer","originalExp","formatMyAnswerWithMulti","sort","sortRightAnswer","reduce","acc","cur","statusHandlerWithSubmit","doneHandler","checkDoneWithOriginalAnswer","doneHandlerWithMyAnswer","checkDoneWithMyAnswer","doneWithWrongExerciseHandler","mode","doneWithRedoHandler","doneWithCollectionHandler","optionHandler","orginalExercise","questionOptions","option","answerOption","answerContent","myAnswerHandler","oldMyAnswer","cloneDeep","answerItem","tkuDataUrl","Observable","observe","taskUrl","startsWith","window","location","protocol","task$","getResource","Date","getTime","caterys$","getAccountingCaterysTree","forkJoin","subscribe","caterysRes","taskRes","code","console","log","error","next","quesList","complete","err","pipe","examId","arr","uuid","uid","getUser","thirdId","lastRecord$","getExamedRecord","parseInt","of","anwserRes","examRecords","getCollectionByUidPid","collectionRes","errorQuestionList","questions","answerList","collectionList","standard","typeId","videoAnalysis","environment","commonViewer","indexOf","ques","decodeAnswer","toDecodeAnswer","getExerciseKind","orginalCollection","find","collection","questionId","orginalErrorExeInfo","errExe","getVideoAnalysisUrl","baseExercise","exerciseId","title","exerciseKindName","questionTypeName","analysis","textAnalysis","isCollected","collectionLoading","exerciseLoading","isSelected","isShowAnswer","transformEntrySubjectAnswer","transformFillBlanksAnswer","header","info","transformFormSubjectAnswer","complexExeIdx","questionChildrenList","handlers","handlerList","processExerciseHander","filterHandler","copyAnswer2Old","isEqual","isArray","answerText","f","num","Number","isFinite","list","doneBitQuesFunc","tikuType","taskInfo","tikuTaskStatus","studentTaskId","studentTaskStatus","skipUndone","answers","getSubmitAnswer","userAnswer","formatSubmitAnswer","initAnswer","type","JSON","stringify","handler","Object","keys","assign","m0","decodeAnswerObj","parse","userAnswerObj","contents","DaiOptions","d","Key","Value","JieOptions","flat","tableInfo","trInfo","row","tr","td","col","inputType","rowSpan","colSpan","httpService","studentId","orgCode","statusRemark","0","98","99","speakTypeRemark","SectionTaskItemComponent","myClassService","qcData","taskType","selectChange","urlParams","statusName","statusName1","taskTypeName","unreadCount","clearUnreadMsg","emit","getBaseParams","res","taskBox","nativeElement","scrollIntoView","behavior","endTime","TaskListComponent","message","hideBtnChange","taskItemChanges","refresh","isLoading","tabIdx","hideBtn","typeList","onTaskList","allTaskList","lessonTimeId","selectedId","curTask","getDefaultTask","OutlineData","mainFileTaskList","taskList","chngs","refreshList","taskForm","getStudentTaskList","hide","implicit","getTask","orderDetailId","chapterId","section","sectionId","putBaseParams","sectionTastData","classifyData","selectedTask","setSelect","setDefaultTask","selectedItem","taskItem","isJump","setTimeout","getview","items","scrollToView","ReadTaskComponent","QkcUploadComponent","sanitizer","taskCenterService","notificationService","aliOss","finishTaskCallBack","isShow","timerHandler","readTime","canRead","attachmentPath","getUrl","resourceUrl","tmpUrl","ow365","OSS_URL","baoliUrl","bypassSecurityTrustResourceUrl","sourceType","clearTimeout","clearReadTimeOut","showReadTime","taskFinish","ckeckCanRedo","setInterval","startReadingTask","busId","success","exp","totalExp","filename","taskName","download","attachmentName","injector","httpClient","aliOssService","acceptType","uploadDir","materialType","listType","isDrag","disabled","uploadData","imageList","showUploadList","showPreviewIcon","showRemoveIcon","showDownloadIcon","previewPath","previewVisible","onModelChange","_","handlePreview","file","thumbUrl","remove","ele","formatNgModel","beforeUpload","fileList","isPermitUpload","name","mesService","fileType","getFileType","maxSize","size","courseware_video","courseware_doc","courseware_case_audio","courseware_case_doc","courseware_case_static","customReq","uploadXhrArgs","upload2AliOSS","isNullOrUndefined","createRandomNum","path","getThumbUrl","lastModifiedDate","isDisabled","Math","random","isPicture","toLowerCase","getFileTyeIcon","originFileObj","fileName","Error","ext","getExt","uploadFileArr","provide","useExisting","multi","onChange","CaseTaskComponent","nzMsg","materialLibraryService","pageChange","isRedo","isAnswerAnalysis","isSaveLoading","speakContent","speakContentId","isVisible","initData","getResourceDetail","resourceId","attchArr","attachment","audioInfo","aattachmentExt","caseAttch","isPic","isVideo","thumbnail","attachmentInfo","showPath","speakwallSingle","children","fileAttch","curShowItem","saveSpeakWall","getPostData","saveStuSpeakwall","postData","studentGroupId","courseTaskId","isLeader","speakType","speakwallAttachment","redo","attachmentExt","substring","lastIndexOf","attachments","patchDownloadFileStudent","SpeakWallComponent","isGroupLeader","color","resultName","scoreName","scoreType","taskData","speakwallAll","selectedData","groupSpeak","initScoreType","getAllSpeak","getOssUrl","initilizeAttachmentData","floor","resultType","CaseComplexTaskComponent","finishTask","ExerciseRadioComponent","qcSelectChange","setItemSelect","quesId","ExerciseTaskComponent","tskCenterService","router","exerciseTaskService","exeNum","unDoneExeNum","isContainSubjectQues","isCahceExe","statusVisible","evaluteModal","visible","passRecord","exeIdx","isSubmitLoading","getExercises","cacheExercise","filterFun","groups","pre","apply","paperInfo","paper","formatAnswers","toExerciseMode","toExerciseStatus","initialize","process","processWithComplex","exe","errQues","parentId","getFilterExerciseList","defaultSelected","getSubjectQuesStatus","getPaperUrl","getExercise","resp","getExercisesReal","nextExercise","direction","direct","switchExercise","isChange","setExerciseStatus","skipUpdateStatus","action","finishCb","checkExerciseChange","setExerciseDone","nextExeIdx","exeRadio","isValid","finishOption","getTaskStatus","skipSubmitPaper","switchMap","submitPaper","updateStudentTask","allDone","doneBit","isDoneBitQuestion","observer","exeList","getExerciseList","quesNum","extraParams","rightQuesNum","undoneNum","teacherProcStatus","finishQuesNum","getUndoneExerciseNum","allComplexAnswers","complexAnswers","getComplexAnswer","evaluteExe","curExe","setExeEvaluteStatus","allEvalute","putTikuTask","navigateByUrl","exeCollected","cancelCollectExecrise","collectExecrise","complexExe","Gauge","options","properties","drawStarIf","drawStartStopNumIf","drawTriangleIf","outRadius","outStartAngleUnComplete","outEndAngleUnComplete","innerStartAngleUnComplete","innerEndAngleUnComplete","grayCircleStartAngleUnComplete","grayCircleEndAngleUnComplete","innerRadius","unCompleteStrikeBg","completeStrikeBg","outLineCap","outLineWidth","innerLineWidth","innerLineCap","grayCircleStrikeBg","tick_length","large_tick_length","tick_thickness","tick_group_length","ticks_groups_begin","tick_color","tick_on_color","total_tick","total_degrees","startTickAngle","num_offset","show_num","tick_text_inner","num_gap","num_begin","num_font_size","num_font_family","bg_image","gauge_scale","animation_duration","show_center_num","only_percentage","show_percent","center_bottom_text","center_bottom_text_color","center_bottom_font_size","center_bottom_font_family","center_text_color","center_font_size","center_num_font_family","center_percentage_font","triangle_height","triangle_width","triangle_offset","start_percent","value","end_num","container","origin","origin_center","starSize","starDistance","document","getElementById","k","end_percent","_property_list","parentNodeWidth","offsetWidth","canvas","createElement","context","getContext","style","width","height","pRatio","devicePixelRatio","delatLength","_percent","_target_percent","appendChild","updatePercent","_requestAnimFrame","win","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","element","getCurrentState","state","prop","percent","_applyBG","bg_color","save","fillStyle","fillRect","restore","bg_image_obj","bg_image_loaded","drawImage","xoffset","yoffset","Image","self","onload","src","_prepareStage","clearRect","y","translate","scale","drawCenterPercentage","drawCenterNum","isLargeTick","currentNum","font","textAlign","textBaseline","centerText","fillText","drawTriangle","beginX","beginY","rotate","PI","beginPath","moveTo","lineTo","drawGaugeNum","tickLength","tickIndex","text","drawStartStopNum","drawgroundCircle","startRadian","endRadian","radius","strokeStyle","lineWidth","lineCap","arc","stroke","closePath","radianPrecent","drawgrayCircle","argument","drawStar","ratio","line1","cos","line2","sin","line3","line4","render","numTicks","rotationDeg","isOn","duration","lastUpdate","changePerms","increasing","update","now","total","TrainTaskComponent","trainManageService","nzMesService","today","getDay","initializeDashboard","getAccountPeriodId","getPracticalDetail","accountId","resP","open","warning","getHours","goToTrain","TestTaskComponent","courseMgService","userInfo","testType","getExamination","paperType","answerTimes","examLength","isComputer","resultWay","passScore","computerType","previewTestTask","taskTimes","target","href","tkPage","click","QuestionTaskComponent","questionTask","SectionTaskComponent","apiService","notifyService","knowledgeManageService","fromParams","selectedTask$","Subject","lessonPlanType","lessonTimeData","liveStudioId","liveAddress","showLiveBtn","lessonPlanId","recordUrl","sectionName","getInfoList","getTaskListInfo","source2","isDownloadType","downloadType","isNeed","concat","getDetail","selectTask","getLive","sectionFileList_courseSectionFile","courseSectionId","getTaskList","getLiveAddress","showLive","h","goBack","TikuExerciseSetComponent","nodes","selectedCourse","getStudyOutline","coursePacketId","chapterList","active","getChapterTask","chapter","loading","maintasks","task","sectionIdxName","tasks","taskStatus","getExamTaskInfo","taskStautsResult","examTaskList","examTasks$","examTask","examTaskRes","taskEle","examTaskPreview","mes","totalTimes","TikuWrongExerciseSetComponent","uuids","examIds","getErrorExecrise","errDoRes","errorRedo","errKey","errorExeNum","parentQuestionCount","Set","errorList","add","TikuCollectionComponent","route","node","getDefaultChapter","getCollectionByUidPids","myCollections","collectKey","collectionExeNum","count","courseChapterId","snapshot","queryParamMap","TikuProfileComponent","backUrl","courseList","chapters","menusNav","curMenu","orderId","getClassMarketData","defaultSelectMenu","getCourse","getCourses","orderDetails","coursePacktet","defaultCoursePacket","courseChange","course","menu","selectMenu","TikuTaskItemComponent","dateFinal","dateInitial","diffDate","diffTime","hour","TikuExerciseTaskComponent","SectionTaskModule","queryParam","getTikuTask","loadData","history","go","routes","component","forChild","create","ctor","superCtor","super_","constructor","enumerable","writable","configurable","TempCtor","FUNC_ERROR_TEXT","PLACEHOLDER","wrapFlags","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","RegExp","source","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrim","reTrimStart","reTrimEnd","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsComboRange","rsComboMarksRange","rsBreakRange","rsMathOpRange","rsBreak","rsCombo","rsDigits","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","reOptMod","rsModifier","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","freeParseFloat","parseFloat","freeParseInt","freeGlobal","global","freeSelf","root","Function","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","require","types","binding","e","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","func","thisArg","args","arrayAggregator","array","setter","iteratee","accumulator","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","result","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","arrayPush","values","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","eachFunc","baseFindIndex","fromIndex","fromRight","baseIsNaN","baseIndexOfWith","baseMean","baseSum","object","basePropertyOf","baseReduce","current","baseTimes","n","baseUnary","baseValues","props","cacheHas","cache","has","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","countHolders","placeholder","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","string","mapToArray","overArg","transform","replaceHolders","setToArray","set","setToPairs","stringSize","lastIndex","stringToArray","match","unescapeHtmlChar","runInContext","defaults","pick","arrayProto","objectProto","coreJsData","funcToString","hasOwnProperty","idCounter","maskSrcKey","exec","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","Symbol","allocUnsafe","getPrototype","getPrototypeOf","objectCreate","propertyIsEnumerable","spreadableSymbol","isConcatSpreadable","symIterator","iterator","symToStringTag","toStringTag","defineProperty","getNative","ctxClearTimeout","ctxNow","ctxSetTimeout","nativeCeil","ceil","nativeFloor","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeIsFinite","nativeJoin","nativeKeys","nativeMax","max","nativeMin","min","nativeNow","nativeParseInt","nativeRandom","nativeReverse","reverse","DataView","Map","Promise","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","lodash","isObjectLike","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","proto","isObject","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","entries","clear","entry","ListCache","MapCache","SetCache","__data__","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","paths","skip","number","lower","upper","baseClone","bitmask","customizer","stack","isDeep","isFlat","isFull","input","tag","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","keysIn","getSymbols","Ctor","cloneArrayBuffer","dataView","buffer","byteOffset","byteLength","cloneTypedArray","regexp","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","wait","baseDifference","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","pop","getMapData","pairs","LARGE_ARRAY_SIZE","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","isFunction","baseGet","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","baseGt","other","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","caches","maxLength","Infinity","seen","baseInvoke","parent","last","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","convert","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","isPartial","objProps","objLength","objStacked","othStacked","skipCtor","othValue","compared","objCtor","othCtor","baseIsMatch","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","baseIsNative","baseIteratee","identity","baseMatchesProperty","baseMatches","property","baseKeys","isPrototype","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","isPlainObject","toPlainObject","undefined","baseNth","baseOrderBy","iteratees","orders","getIteratee","comparer","objCriteria","criteria","othCriteria","ordersLength","compareAscending","basePickBy","baseSet","basePullAll","basePullAt","indexes","previous","baseUnset","baseRepeat","baseRest","start","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","end","baseSome","baseSortedIndex","retHighest","low","high","MAX_ARRAY_LENGTH","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","actions","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","iterable","createCaseFirst","methodName","trailing","createCompounder","words","deburr","createCtor","arguments","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","getData","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","newHolders","createRecurry","reorder","createInverter","toIteratee","createMathOperation","operator","defaultValue","createOver","arrayFunc","createPadding","chars","charsLength","createRange","step","toFinite","createRelationalOperation","toNumber","wrapFunc","isCurry","newData","setData","setWrapToString","createRound","precision","toInteger","pair","noop","createToPairs","createWrap","srcBitmask","newBitmask","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrLength","arrStacked","arrValue","flatten","otherFunc","symbol","stubArray","hasPath","hasFunc","isLength","ArrayBuffer","resolve","ctorString","isMaskable","stubFalse","otherArgs","oldArray","shortOut","reference","details","lastCalled","stamp","remaining","rand","memoize","quote","subString","clone","difference","differenceBy","differenceWith","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","union","unionBy","unionWith","unzip","group","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","chain","interceptor","wrapperAt","countBy","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","before","bindKey","WRAP_BIND_FLAG","debounce","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","time","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","debounced","isInvoking","cancel","flush","defer","delay","resolver","memoized","Cache","negate","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","gte","isError","isInteger","isNumber","isString","lt","lte","toArray","done","remainder","toLength","isBinary","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","invoke","isProto","merge","omit","CLONE_DEEP_FLAG","pickBy","toPairs","toPairsIn","camelCase","word","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","pattern","attempt","bindAll","methodNames","flow","flowRight","method","methodOf","mixin","over","overEvery","overSome","range","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","round","subtract","minuend","subtrahend","after","castArray","chunk","compact","cond","conforms","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matches","matchesProperty","nthArg","omitBy","once","orderBy","propertyOf","pullAllBy","pullAllWith","reject","rest","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","spread","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniq","uniqBy","uniqWith","unset","updateWith","valuesIn","wrap","zipObject","zipObjectDeep","entriesIn","extend","extendWith","clamp","cloneDeepWith","cloneWith","conformsTo","defaultTo","endsWith","position","escape","escapeRegExp","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","isBoolean","isElement","isEmpty","isEqualWith","isMatch","isMatchWith","isNaN","isNative","isNil","isNull","isSafeInteger","isUndefined","isWeakMap","isWeakSet","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","pad","strLength","padEnd","padStart","radix","floating","temp","reduceRight","repeat","sample","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","sum","sumBy","template","settings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","times","toLower","toSafeInteger","toUpper","trim","trimEnd","trimStart","truncate","omission","search","newEnd","unescape","uniqueId","prefix","each","eachRight","first","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","dir","view","iterLength","takeCount","iterIndex","commit","wrapped","toJSON","MyClassService","classId","packetId","knowledgePointCode","stage","getUserId","questionBankApi","param","userid","polywayApi","getOwnPropertyDescriptors","obj","descriptors","getOwnPropertyDescriptor","formatRegExp","format","objects","inspect","len","str","deprecate","msg","noDeprecation","warned","throwDeprecation","traceDeprecation","trace","debugEnviron","debugs","opts","ctx","stylize","stylizeNoColor","colors","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","styles","recurseTimes","ret","primitive","simple","visibleKeys","hash","getOwnPropertyNames","formatError","output","base","braces","toUTCString","l","formatProperty","prev","desc","line","substr","ar","re","objectToString","o","debuglog","NODE_DEBUG","pid","isPrimitive","months","timestamp","getMinutes","getSeconds","getDate","getMonth","inherits","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","cb","newReason","promisify","original","promiseResolve","promiseReject","promise","setPrototypeOf","defineProperties","custom","callbackify","callbackified","maybeCb","then","nextTick","rej","webpackPolyfill"],"mappings":"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","file":"x","sourcesContent":["module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","export interface BaseExercise {\r\n  orginalExercise: any;\r\n  orginalCollection: any;\r\n  orginalAnswer: any;\r\n  orginalErrorExeInfo: any;\r\n  /** 习题id，唯一标志 */\r\n  exerciseId: string;\r\n  /** 是否正确 */\r\n  isRight: boolean;\r\n  /** 是否做题 */\r\n  isDone: boolean;\r\n  /** 是否收藏 */\r\n  isCollected: boolean;\r\n  /** 是否评分 */\r\n  isEvalute: boolean;\r\n  /** 是否主观题 */\r\n  isSubject: boolean;\r\n  /** 是否显示答案，主动的显示 */\r\n  isShowAnswer: boolean;\r\n  /** 题目分数 */\r\n  originalExp: number;\r\n  /** 评估分数 */\r\n  evaluateExp: number;\r\n  /** 视频解析 */\r\n  videoAnalysis: string;\r\n  /** 文本解析 */\r\n  analysis: string;\r\n  /** 标题 */\r\n  title: string;\r\n  /** 题干 */\r\n  content: string;\r\n  /** 习题类型名称 */\r\n  exerciseKindName: string;\r\n  /** 收藏加载 */\r\n  collectionLoading: boolean;\r\n  /** 习题是否在加载 */\r\n  exerciseLoading: boolean;\r\n  /** 是否被选中 */\r\n  isSelected: boolean;\r\n  /** 模式 */\r\n  mode: ExerciseMode;\r\n  /** 状态 */\r\n  status: ExerciseStatus;\r\n}\r\n\r\nexport enum ExerciseKindEnum {\r\n  /** 判断题 */\r\n  JudgeChoice = 'JudgeChoice',\r\n  /** 单选题 */\r\n  SingleChoice = 'SingleChoice',\r\n  /** 双选题 */\r\n  TwiceChoice = 'TwiceChoice',\r\n  /** 不定项选择题 */\r\n  IndefiniteMultiple = 'IndefiniteMultiple',\r\n  /** 多选题 */\r\n  MultipleChoice = 'MultipleChoice',\r\n  /** 分录题 */\r\n  EntrySubject = 'EntrySubject',\r\n  /** 填空题 */\r\n  FillBlanks = 'FillBlanks',\r\n  /** 表格题 */\r\n  FormSubject = 'FormSubject',\r\n  /** 问答题 */\r\n  Sketch = 'Sketch',\r\n  /** 综合题 */\r\n  Complex = 'Complex'\r\n}\r\n\r\n\r\n/** 判断题 */\r\nexport interface JudgeChoiceExercise extends BaseExercise {\r\n  exerciseKind: 'JudgeChoice';\r\n  /** 自己作答 */\r\n  myAnswer: string;\r\n  /** 旧的自己作答，可以用来对比有没有修改过 */\r\n  oldMyAnswer?: string;\r\n  /** 题目答案 */\r\n  answer: string;\r\n  optionList: any[];\r\n}\r\n\r\n/** 单选题 */\r\nexport interface SingleChoiceExercise extends BaseExercise {\r\n  exerciseKind: 'SingleChoice';\r\n  myAnswer: string;\r\n  oldMyAnswer?: string;\r\n  answer: string;\r\n  optionList: any[];\r\n}\r\n\r\n/** 双选题 */\r\nexport interface TwiceChoiceExercise extends BaseExercise {\r\n  exerciseKind: 'TwiceChoice';\r\n  myAnswer: string;\r\n  oldMyAnswer?: string;\r\n  answer: string;\r\n  optionList: any[];\r\n}\r\n\r\n/** 不定项选择题 */\r\nexport interface IndefiniteMultipleExercise extends BaseExercise {\r\n  exerciseKind: 'IndefiniteMultiple';\r\n  myAnswer: string;\r\n  oldMyAnswer?: string;\r\n  answer: string;\r\n  optionList: any[];\r\n}\r\n\r\n/** 多选题 */\r\nexport interface MultipleChoiceExercise extends BaseExercise {\r\n  exerciseKind: 'MultipleChoice';\r\n  myAnswer: string;\r\n  oldMyAnswer?: string;\r\n  answer: string;\r\n  optionList: any[];\r\n}\r\n\r\n/** 分录题 */\r\nexport interface EntrySubjectExercise extends BaseExercise {\r\n  exerciseKind: 'EntrySubject';\r\n  myAnswer: any[];\r\n  oldMyAnswer?: any[];\r\n  answer: any[];\r\n}\r\n\r\n/** 填空题 */\r\nexport interface FillBlanksExercise extends BaseExercise {\r\n  exerciseKind: 'FillBlanks';\r\n  myAnswer: any[];\r\n  oldMyAnswer?: any[];\r\n  answer: any[];\r\n}\r\n\r\n/** 表格题 */\r\nexport interface FormSubjectExercise extends BaseExercise {\r\n  exerciseKind: 'FormSubject';\r\n  header: string;\r\n  myAnswer: any[];\r\n  oldMyAnswer?: any[];\r\n  answer: any[];\r\n}\r\n\r\n/** 问答题 */\r\nexport interface SketchExercise extends BaseExercise {\r\n  exerciseKind: 'Sketch';\r\n  myAnswer: string;\r\n  oldMyAnswer?: any[];\r\n  answer: string;\r\n}\r\n\r\n/** 综合题 */\r\nexport interface ComplexExercise extends BaseExercise {\r\n  exerciseKind: 'Complex';\r\n  questionList: Exercise[];\r\n  /** 综合题的习题序号 */\r\n  complexExeIdx: number;\r\n\r\n  myAnswer?: string;\r\n  oldMyAnswer?: string;\r\n  answer?: string;\r\n}\r\n\r\nexport type ChoiceExercise = JudgeChoiceExercise | SingleChoiceExercise | TwiceChoiceExercise | IndefiniteMultipleExercise | MultipleChoiceExercise;\r\n\r\n/** 习题 */\r\nexport type Exercise = ChoiceExercise | EntrySubjectExercise | FillBlanksExercise | FormSubjectExercise | SketchExercise | ComplexExercise;\r\nexport type ExerciseKind = Exercise['exerciseKind'];\r\nexport type ExerciseHandlerType = ExerciseKind | 'NotComplex';\r\nexport type ExerciseHandlerFunction = (exe: Exercise) => Exercise;\r\nexport interface ExerciseHandler  {\r\n  [handleKey: string]: ExerciseHandlerFunction;\r\n}\r\nexport type ExerciseFilterHandlerFunction = (exe: Exercise) => boolean;\r\nexport type ExerciseMode = 'redo' | 'collection' | 'wrong' | '';\r\nexport type ExerciseStatus = 'init' | 'selfEvalute' | 'finish' | 'ongoing';\r\n","<div class=\"question-list\">\r\n  <ng-container *ngFor=\"let item of exerciseData.optionList\">\r\n    <ng-container *ngIf=\"exerciseData.status === 'init'; else endChoiceContainerTpl;\">\r\n      <ng-container\r\n        *ngTemplateOutlet=\"choiceTpl; context: {$implicit: item }\">\r\n      </ng-container>\r\n    </ng-container>\r\n\r\n    <ng-template #endChoiceContainerTpl>\r\n      <ng-container\r\n        *ngTemplateOutlet=\"endChoiceTpl; context:{ $implicit: item }\">\r\n      </ng-container>\r\n    </ng-template>\r\n  </ng-container>\r\n</div>\r\n\r\n<ng-template #choiceTpl let-item>\r\n  <div class=\"list-content\" [ngClass]=\"{actived: item.isMyAnswer}\" (click)=\"chooseAnswer(item)\">\r\n    <div style=\"display: flex;\">\r\n      <span> {{item.label}}.</span>&nbsp;&nbsp;      \r\n      <span class=\"embed-html\" [innerHTML]=\"item.content | safeHtml\"></span>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #endChoiceTpl let-item>\r\n  <div class=\"list-content\" [ngClass]=\"{actived: item.isMyAnswer && item.isRight, wrong: item.isMyAnswer && !item.isRight}\">\r\n    <div style=\"display: flex;\">\r\n      <span>{{item.label}}.</span> &nbsp;&nbsp;\r\n      <span class=\"embed-html\" [innerHTML]=\"item.content | safeHtml\"></span>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n","import { Component, OnInit, Input, OnChanges, SimpleChange } from '@angular/core';\r\nimport { ChoiceExercise, ExerciseKindEnum } from '../../model/exercise';\r\n/**\r\n * 单选，多选，判断题\r\n */\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'qkc-checkbox',\r\n  templateUrl: './qkc-checkbox.component.html',\r\n  styleUrls: ['./qkc-checkbox.component.less']\r\n})\r\nexport class QkcCheckboxComponent implements OnInit, OnChanges {\r\n\r\n  @Input() exerciseData: ChoiceExercise;\r\n\r\n  anwser: string[] = [];\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnChanges(changes: { [propKey: string]: SimpleChange }) {\r\n    if (changes.exerciseData && changes.exerciseData.currentValue) {\r\n      this.transformAnswer();\r\n    }\r\n  }\r\n\r\n  chooseAnswer(exeOpts: any) {\r\n    this.populateAnswer(exeOpts);\r\n    this.populateMyAnswer();\r\n  }\r\n\r\n  // 填充答案\r\n  populateAnswer(exeOpts: any) {\r\n    if (this.exerciseData.exerciseKind === ExerciseKindEnum.SingleChoice) {\r\n        // 单选题\r\n      if (this.anwser[0] === exeOpts.label) {\r\n        this.anwser.shift();\r\n      } else {\r\n        this.anwser[0] = exeOpts.label;\r\n      }\r\n      this.exerciseData.myAnswer = this.anwser.filter(el => el !== '').join(',');\r\n\r\n    } else if (['MultipleChoice', 'TwiceChoice', 'IndefiniteMultiple'].includes(this.exerciseData.exerciseKind))  {\r\n      const idx = this.anwser.findIndex(el => el === exeOpts.label);\r\n      if (idx === -1) {\r\n        if (this.exerciseData.exerciseKind === ExerciseKindEnum.TwiceChoice) { // 双选题 选两个，其他随便\r\n          if (this.anwser.length >= 2) {\r\n            return;\r\n          }\r\n        }\r\n        this.anwser.push(exeOpts.label);\r\n      } else {\r\n        this.anwser.splice(idx, 1);\r\n      }\r\n\r\n      this.exerciseData.myAnswer = this.anwser.filter(el => el !== '').join(',');\r\n    } else if (this.exerciseData.exerciseKind === ExerciseKindEnum.JudgeChoice) {\r\n      // 判断题\r\n      this.exerciseData.myAnswer = exeOpts.id;\r\n    }\r\n\r\n  }\r\n\r\n  // 填充答案\r\n  populateMyAnswer() {\r\n    if (this.exerciseData.exerciseKind === ExerciseKindEnum.JudgeChoice) {\r\n      this.exerciseData.optionList.forEach(item => {\r\n        item.isMyAnswer =  this.exerciseData.myAnswer === item.id;\r\n      });\r\n    } else {\r\n      this.exerciseData.optionList.forEach(item => {\r\n        item.isMyAnswer = this.anwser.includes(item.label);\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  transformAnswer() {\r\n    if (['SingleChoice', 'MultipleChoice', 'TwiceChoice', 'IndefiniteMultiple'].includes(this.exerciseData.exerciseKind)) {\r\n      const myAnswer = this.exerciseData.myAnswer.split(',');\r\n      const answer = this.exerciseData.answer.split(',');\r\n      this.exerciseData.optionList.forEach(item => {\r\n        item.isMyAnswer = myAnswer.includes(item.label);\r\n        if (['finish', 'selfEvalute'].includes(this.exerciseData.status)) {\r\n          item.isRight = answer.includes(item.label);\r\n        }\r\n        this.anwser = myAnswer;\r\n      });\r\n    } else if (this.exerciseData.exerciseKind === ExerciseKindEnum.JudgeChoice) {\r\n      this.exerciseData.optionList = [\r\n        { label: 'A', content: '正确', id: 'A'},\r\n        { label: 'B', content: '错误', id: 'B'}\r\n      ];\r\n      this.exerciseData.optionList.forEach(item => {\r\n        item.isMyAnswer = item.id === this.exerciseData.myAnswer;\r\n        if (['finish', 'selfEvalute'].includes(this.exerciseData.status)) {\r\n          item.isRight = item.id === this.exerciseData.answer;\r\n        }\r\n      });\r\n    }\r\n\r\n    this.anwser = this.anwser.filter(anwser => anwser !== '');\r\n  }\r\n\r\n}\r\n"," <!-- 题干 -->\r\n <div class=\"question-header\">\r\n  <div class=\"green-bg\" *ngIf=\"!isComplex\">{{ exerciseData.exerciseKindName }}</div>\r\n  <div class=\"ques-num\" *ngIf=\"quesNum\">{{quesNum}}、</div>\r\n  <div class=\"question-title\" [innerHTML]=\"exerciseData.content\"></div>\r\n  <div *ngIf=\"['finish','selfEvalute'].includes(exerciseData.status)\" class=\"question-score\">\r\n    <div>\r\n      {{ exerciseData.evaluateExp }}/{{ exerciseData.originalExp }}&nbsp;分\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- 答题 -->\r\n<qkc-checkbox\r\n  [(exerciseData)]=\"exerciseData\">\r\n</qkc-checkbox>\r\n\r\n<!-- 正确答案 -->\r\n<div class=\"question-answer\" *ngIf=\"['finish','selfEvalute'].includes(exerciseData.status)\">\r\n  <p>\r\n    <span *ngIf=\"exerciseData.mode === 'collection'; else notHideTpl\">正确答案是</span>\r\n    <ng-template #notHideTpl>\r\n      <span *ngIf=\"exerciseData.isRight\">\r\n        <i nz-icon nzType=\"check-circle\" nzTheme=\"fill\"></i>&nbsp;&nbsp;\r\n        你答对了，正确答案是\r\n      </span>\r\n      <span *ngIf=\"!exerciseData.isRight\">\r\n        <i nz-icon nzType=\"close-circle\" nzTheme=\"fill\"></i>&nbsp;&nbsp;\r\n        {{ exerciseData.isDone ? '你答错了' : '你尚未作答'}}，正确答案是\r\n      </span>\r\n    </ng-template>\r\n    <span class=\"primary-text\">{{exerciseData.answer}}</span>\r\n  </p>\r\n</div>\r\n\r\n<!-- 解析 -->\r\n<div class=\"question-analysis\" *ngIf=\"['finish','selfEvalute'].includes(exerciseData.status)\">\r\n  <p class=\"analysis-title\">解析：</p>\r\n  <div class=\"analysis-content\" [innerHTML]=\"exerciseData.analysis\"></div>\r\n\r\n  <a *ngIf=\"exerciseData.videoAnalysis\"\r\n    class=\"analysis-video-title\"\r\n    [href]=\"exerciseData.videoAnalysis\"\r\n    target=\"__blank\">\r\n    点击视频观看解答\r\n  </a>\r\n</div>\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ChoiceExercise } from '../model/exercise';\r\n/**\r\n * 单选 多选 判断\r\n */\r\n@Component({\r\n  selector: 'app-choice-question',\r\n  templateUrl: './choice-question.component.html',\r\n  styleUrls: ['./choice-question.component.less']\r\n})\r\nexport class ChoiceQuestionComponent implements OnInit {\r\n\r\n  @Input() exerciseData: ChoiceExercise;\r\n  @Input() isComplex: boolean;\r\n  @Input() quesNum: number;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n\r\n}\r\n","<!-- 题干 -->\r\n<div class=\"question-header\">\r\n  <div class=\"green-bg\" *ngIf=\"!isComplex\">{{ exerciseData.exerciseKindName }}</div>\r\n  <div class=\"ques-num\" *ngIf=\"quesNum\">{{quesNum}}、</div>\r\n  <div class=\"question-title\" [innerHTML]=\"exerciseData.content | safeHtml\"></div>\r\n  <div *ngIf=\"['finish','selfEvalute'].includes(exerciseData.status)\" class=\"question-score\">\r\n    <div>\r\n      {{ exerciseData.evaluateExp }}/{{ exerciseData.originalExp }}&nbsp;分\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- 答题 -->\r\n<div class=\"answer-content\" *ngIf=\"exerciseData.mode !== 'collection'\">\r\n  <textarea rows=\"7\"\r\n    nz-input\r\n    placeholder=\"请输入答案\"\r\n    [(ngModel)]=\"exerciseData.myAnswer\"\r\n    [disabled]=\"['finish','selfEvalute'].includes(exerciseData.status)\">\r\n  </textarea>\r\n</div>\r\n\r\n<!-- 正确答案 -->\r\n<div class=\"question-analysis\" *ngIf=\"['finish','selfEvalute'].includes(exerciseData.status)\">\r\n  <p class=\"analysis-title\">正确答案：</p>\r\n  <p class=\"fill-answer\" [innerHTML]=\"exerciseData.answer | safeHtml\">\r\n  </p>\r\n</div>\r\n\r\n<!-- 解析 -->\r\n<div class=\"question-analysis\" *ngIf=\"['finish','selfEvalute'].includes(exerciseData.status)\">\r\n  <p class=\"analysis-title\">解析：</p>\r\n  <div class=\"analysis-content\" [innerHTML]=\"exerciseData.analysis | safeHtml\"></div>\r\n  <a *ngIf=\"exerciseData.videoAnalysis\" \r\n    class=\"analysis-video-title\" \r\n    [href]=\"exerciseData.videoAnalysis\" \r\n    target=\"__blank\">\r\n    点击视频观看解答\r\n  </a>\r\n</div>\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { SketchExercise } from '../model/exercise';\r\n\r\n@Component({\r\n  selector: 'app-sketch',\r\n  templateUrl: './sketch.component.html',\r\n  styleUrls: ['./sketch.component.less']\r\n})\r\nexport class SketchComponent implements OnInit {\r\n  @Input() exerciseData: SketchExercise;\r\n  @Input() isComplex: boolean;\r\n  @Input() quesNum: number;\r\n  files = [];\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<!-- 题干 -->\r\n<div class=\"question-header\">\r\n  <div class=\"green-bg\" *ngIf=\"!isComplex\">{{ exerciseData.exerciseKindName }}</div>\r\n  <div class=\"ques-num\" *ngIf=\"quesNum\">{{quesNum}}、</div>\r\n  <div class=\"question-title\" [innerHTML]=\"exerciseData.content | safeHtml\"></div>\r\n  <div *ngIf=\"['finish','selfEvalute'].includes(exerciseData.status)\" class=\"question-score\">\r\n    <div>\r\n      {{ exerciseData.evaluateExp }}/{{ exerciseData.originalExp }}&nbsp;分\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"answer-list\" *ngIf=\"exerciseData.mode !== 'collection'\">\r\n  <ng-container *ngFor=\"let item of exerciseData.myAnswer;let idx= index\">\r\n    <p class=\"fill-spacing\">填空({{idx+1}})</p>\r\n    <nz-input-group class=\"spacing\" >\r\n      <input nz-input\r\n        placeholder=\"请输入答案\"\r\n        [disabled]=\"['finish','selfEvalute'].includes(exerciseData.status)\"\r\n        [(ngModel)]=\"exerciseData.myAnswer[idx].answer\" />\r\n    </nz-input-group>\r\n  </ng-container>\r\n</div>\r\n\r\n<!-- 正确答案 -->\r\n<div class=\"question-analysis\" *ngIf=\"['finish','selfEvalute'].includes(exerciseData.status)\">\r\n  <p class=\"analysis-title\">正确答案：</p>\r\n  <ng-container *ngFor=\"let item of exerciseData.answer;let idx= index\">\r\n    <p class=\"fill-answer\">\r\n      （{{idx+1}}）{{item.answer}}\r\n    </p>\r\n  </ng-container>\r\n</div>\r\n\r\n<div class=\"score-description\" *ngIf=\"!['finish','selfEvalute'].includes(exerciseData.status)\">\r\n  得分说明：全对才得分\r\n</div>\r\n\r\n<!-- 解析 -->\r\n<div class=\"question-analysis\" *ngIf=\"['finish','selfEvalute'].includes(exerciseData.status)\">\r\n  <p class=\"analysis-title\">解析：</p>\r\n  <div class=\"analysis-content\" [innerHTML]=\"exerciseData.analysis | safeHtml\"></div>\r\n  <a *ngIf=\"exerciseData.videoAnalysis\" \r\n    class=\"analysis-video-title\" \r\n    [href]=\"exerciseData.videoAnalysis\" \r\n    target=\"__blank\">\r\n    点击视频观看解答\r\n  </a>\r\n</div>\r\n","import { Component, OnInit, Input, SimpleChange, OnChanges } from '@angular/core';\r\nimport { FillBlanksExercise } from '../model/exercise';\r\n\r\n@Component({\r\n  selector: 'app-fill-blanks',\r\n  templateUrl: './fill-blanks.component.html',\r\n  styleUrls: ['./fill-blanks.component.less']\r\n})\r\nexport class FillBlanksComponent implements OnInit, OnChanges {\r\n\r\n  @Input() exerciseData: FillBlanksExercise;\r\n  @Input() isComplex: boolean;\r\n  @Input() quesNum: number;\r\n\r\n  content = '';\r\n\r\n  constructor() { }\r\n\r\n  ngOnChanges(changes: { [propKey: string]: SimpleChange }) {\r\n    if (changes.exerciseData && this.exerciseData && this.exerciseData.content) {\r\n      this.exerciseData.content = this.exerciseData.content.replace(/&amp;&amp;|&&/g, '___');\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"question-list\">\r\n  <div class=\"list-item\" *ngFor=\"let item of exerciseData.myAnswer;let idx=index;\">\r\n\r\n    <div class=\"top\" nz-row>\r\n      <div  nz-col nzSpan=\"4\">选择借贷</div>\r\n      <div  nz-col nzSpan=\"8\">科目</div>\r\n      <div  nz-col nzSpan=\"8\">金额</div>\r\n      <div  nz-col nzSpan=\"4\"></div>\r\n    </div>\r\n    <div class=\"middle\" nz-row>\r\n      <div  nz-col nzSpan=\"4\">\r\n        <nz-switch [ngModel]=\"item.jd === '1'\" \r\n        [nzDisabled]=\"['finish', 'selfEvalute'].includes(this.exerciseData.status)\" \r\n        (ngModelChange)=\"changeRelation($event, item)\" \r\n        nzCheckedChildren=\"借\" nzUnCheckedChildren=\"贷\">\r\n      </nz-switch>\r\n      </div>\r\n      <div  nz-col nzSpan=\"8\" class=\"subject\" [ngClass]=\"statusClass()\">\r\n        <input nz-input \r\n        [disabled]=\"['finish', 'selfEvalute'].includes(this.exerciseData.status)\" \r\n        [(ngModel)]=\"item.subject\" />\r\n      </div>\r\n      <div  nz-col nzSpan=\"8\" class=\"answer\" [ngClass]=\"statusClass()\">\r\n        <nz-input-number  class=\"input-number\" placeholder=\"请输入金额…\"\r\n         [disabled]=\"['finish', 'selfEvalute'].includes(this.exerciseData.status)\" \r\n         [(ngModel)]=\"item.answer\" >\r\n        </nz-input-number>\r\n      </div>\r\n      <div  nz-col nzSpan=\"4\" *ngIf=\"!['finish', 'selfEvalute'].includes(this.exerciseData.status)\">\r\n        <a (click)=\"del(idx)\"> <i nz-icon nzType=\"close-circle\" nzTheme=\"fill\" style=\"color: #FF7674;\"></i> </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"bottom add-footer\" *ngIf=\"!['finish', 'selfEvalute'].includes(this.exerciseData.status)\">\r\n    <button nz-button style=\"margin-right: 10px;\" nzType=\"link\" (click)=\"add('1')\"><i nz-icon nzType=\"plus-circle\" nzTheme=\"fill\"></i>  新增借</button>\r\n    <button nz-button nzType=\"link\" (click)=\"add('-1')\"><i nz-icon nzType=\"plus-circle\" nzTheme=\"fill\"></i> 新增贷</button>\r\n  </div>\r\n</div>","import { Component, OnInit, Input } from '@angular/core';\r\nimport { EntrySubjectExercise } from '../../model/exercise';\r\n\r\n@Component({\r\n  selector: 'app-base-entry-subject',\r\n  templateUrl: './base-entry-subject.component.html',\r\n  styleUrls: ['./base-entry-subject.component.less']\r\n})\r\nexport class BaseEntrySubjectComponent implements OnInit {\r\n\r\n  @Input() exerciseData: EntrySubjectExercise;\r\n\r\n  /**\r\n   * 答案模式，答案模式没有对错，也就是没有statusClass\r\n   */\r\n  @Input() answerModel = false;\r\n\r\n  data: any[] = [];\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  statusClass() {\r\n    if (['finish', 'selfEvalute'].includes(this.exerciseData.status)) {\r\n      if (this.answerModel) {\r\n        return {\r\n          'right-answer': true,\r\n        };\r\n      } else {\r\n        return {\r\n          'right-answer': this.exerciseData.isRight,\r\n          'wrong-answer': !this.exerciseData.isRight\r\n        };\r\n      }\r\n    } else {\r\n      return { };\r\n    }\r\n  }\r\n\r\n  changeRelation(isJie, subject: any): void {\r\n    subject.jd = subject.jd === '-1' ? '1' : '-1';\r\n  }\r\n\r\n  del(idx: number): void {\r\n    this.exerciseData.myAnswer = this.exerciseData.myAnswer.filter((val, index) => index !== idx);\r\n  }\r\n\r\n  add(jd: string): void {\r\n    const opt: any = {\r\n      answer: 0,\r\n      subject: '',\r\n      jd\r\n    };\r\n\r\n    this.exerciseData.myAnswer = [...this.exerciseData.myAnswer, opt];\r\n  }\r\n\r\n}\r\n"," <!-- 题干 -->\r\n<div class=\"question-header\">\r\n  <div class=\"green-bg\" *ngIf=\"!isComplex\">{{ exerciseData.exerciseKindName }}</div>\r\n  <div class=\"ques-num\" *ngIf=\"quesNum\">{{quesNum}}、</div>\r\n  <div class=\"question-title\" [innerHTML]=\"exerciseData.content | safeHtml\"></div>\r\n  <div *ngIf=\"['finish','selfEvalute'].includes(exerciseData.status)\" class=\"question-score\">\r\n    <div>\r\n      {{ exerciseData.evaluateExp }}/{{ exerciseData.originalExp }}&nbsp;分\r\n    </div>\r\n  </div>\r\n</div>\r\n \r\n<ng-container>\r\n  <app-base-entry-subject\r\n    *ngIf=\"exerciseData.mode !== 'collection'\"\r\n    [answerModel]=\"false\"\r\n    [exerciseData]=\"exerciseData\">\r\n  </app-base-entry-subject>\r\n\r\n  <ng-container *ngIf=\"['finish','selfEvalute'].includes(exerciseData.status)\">\r\n    <!-- 正确答案 -->\r\n    <div class=\"question-answer\">\r\n      <span>正确答案</span>\r\n    </div>\r\n    <div class=\"list-item\" *ngFor=\"let item of exerciseData.answer;let idx=index;\">\r\n      <div class=\"middle\" nz-row>\r\n        <div  nz-col nzSpan=\"4\">\r\n          <a >{{item.jd === '1' ? '借' : '贷' }}</a>\r\n        </div>\r\n        <div  nz-col nzSpan=\"10\" class=\"subject\">\r\n          <p>{{getCaterysName(item.subject)}}</p>\r\n        </div>\r\n        <div  nz-col nzSpan=\"10\" class=\"answer\" >\r\n          <p>{{item.answer}}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 解析 -->\r\n    <div class=\"question-analysis\">\r\n      <p class=\"analysis-title\">解析：</p>\r\n      <div class=\"analysis-content\" [innerHTML]=\"exerciseData.analysis | safeHtml \"></div>\r\n     \r\n      <a *ngIf=\"exerciseData.videoAnalysis\" \r\n        class=\"analysis-video-title\" \r\n        [href]=\"exerciseData.videoAnalysis\" \r\n        target=\"__blank\">\r\n        点击视频观看解答\r\n      </a>\r\n    </div>\r\n  </ng-container>\r\n</ng-container>","import { Component, OnInit, Input } from '@angular/core';\r\nimport { EntrySubjectExercise } from '../model/exercise';\r\nimport {LocalStorageUtil} from 'core/utils/localstorage.util';\r\n/**\r\n * 分录题\r\n */\r\n@Component({\r\n  selector: 'app-entry-subject',\r\n  templateUrl: './entry-subject.component.html',\r\n  styleUrls: ['./entry-subject.component.less']\r\n})\r\nexport class EntrySubjectComponent implements OnInit {\r\n\r\n  @Input() exerciseData: EntrySubjectExercise;\r\n  @Input() isComplex: boolean;\r\n  @Input() quesNum: number;\r\n\r\n  caterysTree = {};\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.caterysTree = LocalStorageUtil.getCaterysTree() || {};\r\n  }\r\n\r\n  getCaterysName(key: string) {\r\n    const item = this.caterysTree[key];\r\n    if (item) {\r\n      return item.category + '/' + item.fullName;\r\n    } else {\r\n      return '--';\r\n    }\r\n  }\r\n\r\n}\r\n","<!-- 题干 -->\r\n<div class=\"question-header\">\r\n  <div class=\"green-bg\" *ngIf=\"!isComplex\">{{ exerciseData.exerciseKindName }}</div>\r\n  <div class=\"ques-num\" *ngIf=\"quesNum\">{{quesNum}}、</div>\r\n  <div class=\"question-title\" [innerHTML]=\"exerciseData.content | safeHtml\"></div>\r\n  <div *ngIf=\"['finish','selfEvalute'].includes(exerciseData.status)\" class=\"question-score\">\r\n    <div>\r\n      {{ exerciseData.evaluateExp }}/{{ exerciseData.originalExp }}&nbsp;分\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"question-list\" *ngIf=\"exerciseData.mode !== 'collection'\">\r\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" class=\"form-table\">\r\n    <caption>{{exerciseData.header}}</caption>\r\n    <tbody>\r\n      <tr *ngFor=\"let row of exerciseData.myAnswer; let idx = index\">\r\n        <td *ngFor=\"let col of row;let i = index\">\r\n          <span *ngIf=\"col.inputType === 0\">{{col.content}}</span>\r\n          <ng-container *ngIf=\"col.inputType === 1 && ['finish','selfEvalute'].includes(exerciseData.status)\">\r\n            <span>{{col.myAnswer}}</span>\r\n            <!-- <span [ngClass]=\"col.isRight ? 'right-anwser': 'wrong-answer'\">{{col.myAnswer}}</span>\r\n            <span *ngIf=\"col.isRight\" class=\"icon right-anwser\"><i nz-icon nzType=\"check\" nzTheme=\"outline\"></i></span>\r\n            <span *ngIf=\"!col.isRight\" class=\"icon wrong-answer\"  nz-tooltip nzTooltipTitle=\"{{'正确答案：'+ col.content}}\">\r\n              <i nz-icon nzType=\"close\" nzTheme=\"outline\"></i>\r\n            </span> -->\r\n          </ng-container>\r\n          <input\r\n            *ngIf=\"col.inputType === 1 && !['finish','selfEvalute'].includes(exerciseData.status)\"\r\n            nz-input \r\n            type=\"text\" \r\n            style=\"text-align: center;\" \r\n            [(ngModel)]=\"col.myAnswer\" [placeholder]=\"'请输入'\"/>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n\r\n<!-- 正确答案 -->\r\n<div *ngIf=\"['finish','selfEvalute'].includes(exerciseData.status)\">\r\n  <div class=\"question-answer\">\r\n    <span>正确答案</span>\r\n  </div>\r\n\r\n  <div class=\"question-list\">\r\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" class=\"form-table\">\r\n      <caption>{{exerciseData.header}}</caption>\r\n      <tbody>\r\n        <tr *ngFor=\"let row of exerciseData.answer; let idx = index\">\r\n          <td *ngFor=\"let col of row;let i = index\">\r\n            <span *ngIf=\"col.inputType === 0\">{{col.content}}</span>\r\n            <span *ngIf=\"col.inputType === 1\" class=\"right-anwser\">{{col.content}}</span>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>\r\n\r\n<!-- 解析 -->\r\n<div class=\"question-analysis\" *ngIf=\"['collection','wrong','finish','selfEvalute'].includes(exerciseData.mode)\">\r\n  <p class=\"analysis-title\">解析：</p>\r\n  <div class=\"analysis-content\" [innerHTML]=\"exerciseData.analysis | safeHtml\"></div>\r\n  <a *ngIf=\"exerciseData.videoAnalysis\" \r\n    class=\"analysis-video-title\" \r\n    [href]=\"exerciseData.videoAnalysis\" \r\n    target=\"__blank\">\r\n    点击视频观看解答\r\n  </a>\r\n</div>\r\n\r\n<div class=\"score-description\">\r\n  <p>答题说明：仅支持电脑端作答和查看结果</p>\r\n  <p>得分说明：按答对数量得分</p>\r\n</div>","import { Component, OnInit, Input } from '@angular/core';\r\nimport { FormSubjectExercise } from '../model/exercise';\r\n\r\n@Component({\r\n  selector: 'app-form-subject',\r\n  templateUrl: './form-subject.component.html',\r\n  styleUrls: ['./form-subject.component.less']\r\n})\r\nexport class FormSubjectComponent implements OnInit {\r\n\r\n  @Input() exerciseData: FormSubjectExercise;\r\n  @Input() isComplex: boolean;\r\n  @Input() quesNum: number;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<!-- 题干 -->\r\n<div class=\"question-header\">\r\n  <div class=\"green-bg\">{{ exerciseData.exerciseKindName }}</div>\r\n  <div class=\"question-title\" [innerHTML]=\"exerciseData.content | safeHtml\"></div>\r\n</div>\r\n<div class=\"question-btn\">\r\n  <nz-tabset [(nzSelectedIndex)]=\"exerciseData.complexExeIdx\" class=\"show-tab\">\r\n    <nz-tab *ngFor=\"let exerciseItem of exerciseData.questionList;let i=index;\" [nzTitle]=\"complexTabTitle\">\r\n      <ng-template #complexTabTitle>\r\n        <span class=\"dot\" *ngIf=\"exerciseItem.mode !== 'collection' && !exerciseItem.isEvalute\"></span>{{ exerciseItem.exerciseKindName }}\r\n      </ng-template>\r\n      <!-- 单选 多选 判断 -->\r\n      <app-choice-question\r\n      *ngIf=\"['JudgeChoice', 'SingleChoice', 'MultipleChoice', 'TwiceChoice', 'IndefiniteMultiple'].includes(exerciseItem.exerciseKind)\"\r\n      [exerciseData]=\"exerciseItem\"\r\n      [isComplex]=\"true\"\r\n      [quesNum]=\"i+1\">\r\n    </app-choice-question>\r\n\r\n    <!-- 填空 -->\r\n    <app-fill-blanks\r\n      *ngIf=\"exerciseItem.exerciseKind === 'FillBlanks'\"\r\n      [isComplex]=\"true\"\r\n      [quesNum]=\"i+1\"\r\n      [exerciseData]=\"exerciseItem\">\r\n    </app-fill-blanks>\r\n\r\n    <!-- 表格题 -->\r\n    <app-form-subject\r\n      *ngIf=\"exerciseItem.exerciseKind === 'FormSubject'\"\r\n      [exerciseData]=\"exerciseItem\"\r\n      [quesNum]=\"i+1\">\r\n    </app-form-subject>\r\n\r\n    <!-- 分录题 -->\r\n    <app-entry-subject\r\n      *ngIf=\"exerciseItem.exerciseKind === 'EntrySubject'\"\r\n      [exerciseData]=\"exerciseItem\"\r\n      [quesNum]=\"i+1\">\r\n    </app-entry-subject>\r\n\r\n    <!-- 问答 -->\r\n    <app-sketch\r\n      *ngIf=\"exerciseItem.exerciseKind === 'Sketch'\"\r\n      [exerciseData]=\"exerciseItem\"\r\n      [quesNum]=\"i+1\">\r\n    </app-sketch>\r\n    </nz-tab>\r\n  </nz-tabset>\r\n</div>\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ComplexExercise } from '../model/exercise';\r\n\r\n@Component({\r\n  selector: 'app-complex',\r\n  templateUrl: './complex.component.html',\r\n  styleUrls: ['./complex.component.less']\r\n})\r\nexport class ComplexComponent implements OnInit {\r\n\r\n  @Input() exerciseData: ComplexExercise;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\n// import { NzButtonModule } from 'ng-zorro-antd/button';\r\n// import { NzToolTipModule } from 'ng-zorro-antd/tooltip';\r\n// import { NzEmptyModule } from 'ng-zorro-antd/empty';\r\n// import { NzMessageModule } from 'ng-zorro-antd/message';\r\n// import { NzSpinModule } from 'ng-zorro-antd/spin';\r\n// import { NzAvatarModule } from 'ng-zorro-antd/avatar';\r\n// import { NzLayoutModule } from 'ng-zorro-antd/layout';\r\n// import { NzInputModule } from 'ng-zorro-antd/input';\r\n// import { NzIconModule } from 'ng-zorro-antd/icon';\r\n// import { NzGridModule } from 'ng-zorro-antd/grid';\r\n// import { NzTabsModule } from 'ng-zorro-antd/tabs';\r\n// import { NzUploadModule } from 'ng-zorro-antd/upload';\r\n// import { NzDividerModule } from 'ng-zorro-antd/divider';\r\n\r\n\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { QkcCheckboxComponent} from './choice-question/qkc-checkbox/qkc-checkbox.component';\r\nimport { ChoiceQuestionComponent } from './choice-question/choice-question.component';\r\nimport { SketchComponent } from './sketch/sketch.component';\r\nimport { FillBlanksComponent } from './fill-blanks/fill-blanks.component';\r\nimport { EntrySubjectComponent } from './entry-subject/entry-subject.component';\r\nimport { FormSubjectComponent } from './form-subject/form-subject.component';\r\nimport { BaseEntrySubjectComponent } from './entry-subject/base-entry-subject/base-entry-subject.component';\r\nimport { ComplexComponent } from './complex/complex.component';\r\nimport {NgZorroAntdModule} from '../../../components-qkc/ng-zorro-antd.module';\r\nimport {SharedModule} from '@app/shared/shared.module';\r\n\r\nconst CONPONMENTS = [\r\n  QkcCheckboxComponent,\r\n  ChoiceQuestionComponent,\r\n  SketchComponent,\r\n  FillBlanksComponent,\r\n  BaseEntrySubjectComponent,\r\n  EntrySubjectComponent,\r\n  FormSubjectComponent,\r\n  ComplexComponent,\r\n];\r\nconst ZORRO_MODULES = [\r\n  NgZorroAntdModule\r\n];\r\n\r\n@NgModule({\r\n  declarations: [...CONPONMENTS],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ...ZORRO_MODULES,\r\n    SharedModule\r\n  ],\r\n  exports: [...CONPONMENTS]\r\n})\r\nexport class ExercisesLibModule { }\r\n","/**\n *  base64.ts\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n *\n * @author Dan Kogai (https://github.com/dankogai)\n */\nconst version = '3.5.2';\n/**\n * @deprecated use lowercase `version`.\n */\nconst VERSION = version;\nconst _hasatob = typeof atob === 'function';\nconst _hasbtoa = typeof btoa === 'function';\nconst _hasBuffer = typeof Buffer === 'function';\nconst _TD = typeof TextDecoder === 'function' ? new TextDecoder() : undefined;\nconst _TE = typeof TextEncoder === 'function' ? new TextEncoder() : undefined;\nconst b64ch = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\nconst b64chs = [...b64ch];\nconst b64tab = ((a) => {\n    let tab = {};\n    a.forEach((c, i) => tab[c] = i);\n    return tab;\n})(b64chs);\nconst b64re = /^(?:[A-Za-z\\d+\\/]{4})*?(?:[A-Za-z\\d+\\/]{2}(?:==)?|[A-Za-z\\d+\\/]{3}=?)?$/;\nconst _fromCC = String.fromCharCode.bind(String);\nconst _U8Afrom = typeof Uint8Array.from === 'function'\n    ? Uint8Array.from.bind(Uint8Array)\n    : (it, fn = (x) => x) => new Uint8Array(Array.prototype.slice.call(it, 0).map(fn));\nconst _mkUriSafe = (src) => src\n    .replace(/[+\\/]/g, (m0) => m0 == '+' ? '-' : '_')\n    .replace(/=+$/m, '');\nconst _tidyB64 = (s) => s.replace(/[^A-Za-z0-9\\+\\/]/g, '');\n/**\n * polyfill version of `btoa`\n */\nconst btoaPolyfill = (bin) => {\n    // console.log('polyfilled');\n    let u32, c0, c1, c2, asc = '';\n    const pad = bin.length % 3;\n    for (let i = 0; i < bin.length;) {\n        if ((c0 = bin.charCodeAt(i++)) > 255 ||\n            (c1 = bin.charCodeAt(i++)) > 255 ||\n            (c2 = bin.charCodeAt(i++)) > 255)\n            throw new TypeError('invalid character found');\n        u32 = (c0 << 16) | (c1 << 8) | c2;\n        asc += b64chs[u32 >> 18 & 63]\n            + b64chs[u32 >> 12 & 63]\n            + b64chs[u32 >> 6 & 63]\n            + b64chs[u32 & 63];\n    }\n    return pad ? asc.slice(0, pad - 3) + \"===\".substring(pad) : asc;\n};\n/**\n * does what `window.btoa` of web browsers do.\n * @param {String} bin binary string\n * @returns {string} Base64-encoded string\n */\nconst _btoa = _hasbtoa ? (bin) => btoa(bin)\n    : _hasBuffer ? (bin) => Buffer.from(bin, 'binary').toString('base64')\n        : btoaPolyfill;\nconst _fromUint8Array = _hasBuffer\n    ? (u8a) => Buffer.from(u8a).toString('base64')\n    : (u8a) => {\n        // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326\n        const maxargs = 0x1000;\n        let strs = [];\n        for (let i = 0, l = u8a.length; i < l; i += maxargs) {\n            strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));\n        }\n        return _btoa(strs.join(''));\n    };\n/**\n * converts a Uint8Array to a Base64 string.\n * @param {boolean} [urlsafe] URL-and-filename-safe a la RFC4648 §5\n * @returns {string} Base64 string\n */\nconst fromUint8Array = (u8a, urlsafe = false) => urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const utob = (src: string) => unescape(encodeURIComponent(src));\n// reverting good old fationed regexp\nconst cb_utob = (c) => {\n    if (c.length < 2) {\n        var cc = c.charCodeAt(0);\n        return cc < 0x80 ? c\n            : cc < 0x800 ? (_fromCC(0xc0 | (cc >>> 6))\n                + _fromCC(0x80 | (cc & 0x3f)))\n                : (_fromCC(0xe0 | ((cc >>> 12) & 0x0f))\n                    + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n                    + _fromCC(0x80 | (cc & 0x3f)));\n    }\n    else {\n        var cc = 0x10000\n            + (c.charCodeAt(0) - 0xD800) * 0x400\n            + (c.charCodeAt(1) - 0xDC00);\n        return (_fromCC(0xf0 | ((cc >>> 18) & 0x07))\n            + _fromCC(0x80 | ((cc >>> 12) & 0x3f))\n            + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n            + _fromCC(0x80 | (cc & 0x3f)));\n    }\n};\nconst re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-8 string\n * @returns {string} UTF-16 string\n */\nconst utob = (u) => u.replace(re_utob, cb_utob);\n//\nconst _encode = _hasBuffer\n    ? (s) => Buffer.from(s, 'utf8').toString('base64')\n    : _TE\n        ? (s) => _fromUint8Array(_TE.encode(s))\n        : (s) => _btoa(utob(s));\n/**\n * converts a UTF-8-encoded string to a Base64 string.\n * @param {boolean} [urlsafe] if `true` make the result URL-safe\n * @returns {string} Base64 string\n */\nconst encode = (src, urlsafe = false) => urlsafe\n    ? _mkUriSafe(_encode(src))\n    : _encode(src);\n/**\n * converts a UTF-8-encoded string to URL-safe Base64 RFC4648 §5.\n * @returns {string} Base64 string\n */\nconst encodeURI = (src) => encode(src, true);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const btou = (src: string) => decodeURIComponent(escape(src));\n// reverting good old fationed regexp\nconst re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\nconst cb_btou = (cccc) => {\n    switch (cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                | ((0x3f & cccc.charCodeAt(1)) << 12)\n                | ((0x3f & cccc.charCodeAt(2)) << 6)\n                | (0x3f & cccc.charCodeAt(3)), offset = cp - 0x10000;\n            return (_fromCC((offset >>> 10) + 0xD800)\n                + _fromCC((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return _fromCC(((0x0f & cccc.charCodeAt(0)) << 12)\n                | ((0x3f & cccc.charCodeAt(1)) << 6)\n                | (0x3f & cccc.charCodeAt(2)));\n        default:\n            return _fromCC(((0x1f & cccc.charCodeAt(0)) << 6)\n                | (0x3f & cccc.charCodeAt(1)));\n    }\n};\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-16 string\n * @returns {string} UTF-8 string\n */\nconst btou = (b) => b.replace(re_btou, cb_btou);\n/**\n * polyfill version of `atob`\n */\nconst atobPolyfill = (asc) => {\n    // console.log('polyfilled');\n    asc = asc.replace(/\\s+/g, '');\n    if (!b64re.test(asc))\n        throw new TypeError('malformed base64.');\n    asc += '=='.slice(2 - (asc.length & 3));\n    let u24, bin = '', r1, r2;\n    for (let i = 0; i < asc.length;) {\n        u24 = b64tab[asc.charAt(i++)] << 18\n            | b64tab[asc.charAt(i++)] << 12\n            | (r1 = b64tab[asc.charAt(i++)]) << 6\n            | (r2 = b64tab[asc.charAt(i++)]);\n        bin += r1 === 64 ? _fromCC(u24 >> 16 & 255)\n            : r2 === 64 ? _fromCC(u24 >> 16 & 255, u24 >> 8 & 255)\n                : _fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255);\n    }\n    return bin;\n};\n/**\n * does what `window.atob` of web browsers do.\n * @param {String} asc Base64-encoded string\n * @returns {string} binary string\n */\nconst _atob = _hasatob ? (asc) => atob(_tidyB64(asc))\n    : _hasBuffer ? (asc) => Buffer.from(asc, 'base64').toString('binary')\n        : atobPolyfill;\n//\nconst _toUint8Array = _hasBuffer\n    ? (a) => _U8Afrom(Buffer.from(a, 'base64'))\n    : (a) => _U8Afrom(_atob(a), c => c.charCodeAt(0));\n/**\n * converts a Base64 string to a Uint8Array.\n */\nconst toUint8Array = (a) => _toUint8Array(_unURI(a));\n//\nconst _decode = _hasBuffer\n    ? (a) => Buffer.from(a, 'base64').toString('utf8')\n    : _TD\n        ? (a) => _TD.decode(_toUint8Array(a))\n        : (a) => btou(_atob(a));\nconst _unURI = (a) => _tidyB64(a.replace(/[-_]/g, (m0) => m0 == '-' ? '+' : '/'));\n/**\n * converts a Base64 string to a UTF-8 string.\n * @param {String} src Base64 string.  Both normal and URL-safe are supported\n * @returns {string} UTF-8 string\n */\nconst decode = (src) => _decode(_unURI(src));\n//\nconst _noEnum = (v) => {\n    return {\n        value: v, enumerable: false, writable: true, configurable: true\n    };\n};\n/**\n * extend String.prototype with relevant methods\n */\nconst extendString = function () {\n    const _add = (name, body) => Object.defineProperty(String.prototype, name, _noEnum(body));\n    _add('fromBase64', function () { return decode(this); });\n    _add('toBase64', function (urlsafe) { return encode(this, urlsafe); });\n    _add('toBase64URI', function () { return encode(this, true); });\n    _add('toBase64URL', function () { return encode(this, true); });\n    _add('toUint8Array', function () { return toUint8Array(this); });\n};\n/**\n * extend Uint8Array.prototype with relevant methods\n */\nconst extendUint8Array = function () {\n    const _add = (name, body) => Object.defineProperty(Uint8Array.prototype, name, _noEnum(body));\n    _add('toBase64', function (urlsafe) { return fromUint8Array(this, urlsafe); });\n    _add('toBase64URI', function () { return fromUint8Array(this, true); });\n    _add('toBase64URL', function () { return fromUint8Array(this, true); });\n};\n/**\n * extend Builtin prototypes with relevant methods\n */\nconst extendBuiltins = () => {\n    extendString();\n    extendUint8Array();\n};\nconst gBase64 = {\n    version: version,\n    VERSION: VERSION,\n    atob: _atob,\n    atobPolyfill: atobPolyfill,\n    btoa: _btoa,\n    btoaPolyfill: btoaPolyfill,\n    fromBase64: decode,\n    toBase64: encode,\n    encode: encode,\n    encodeURI: encodeURI,\n    encodeURL: encodeURI,\n    utob: utob,\n    btou: btou,\n    decode: decode,\n    fromUint8Array: fromUint8Array,\n    toUint8Array: toUint8Array,\n    extendString: extendString,\n    extendUint8Array: extendUint8Array,\n    extendBuiltins: extendBuiltins,\n};\n// makecjs:CUT //\nexport { version };\nexport { VERSION };\nexport { _atob as atob };\nexport { atobPolyfill };\nexport { _btoa as btoa };\nexport { btoaPolyfill };\nexport { decode as fromBase64 };\nexport { encode as toBase64 };\nexport { utob };\nexport { encode };\nexport { encodeURI };\nexport { encodeURI as encodeURL };\nexport { btou };\nexport { decode };\nexport { fromUint8Array };\nexport { toUint8Array };\nexport { extendString };\nexport { extendUint8Array };\nexport { extendBuiltins };\n// and finally,\nexport { gBase64 as Base64 };\n","import { Injectable } from '@angular/core';\r\nimport {HttpService} from './http.service';\r\nimport {ToolsUtil} from '../utils/tools.util';\r\nimport {ServicesModule} from '@app/service/service.module';\r\n\r\n\r\n@Injectable({\r\n  providedIn: ServicesModule\r\n})\r\nexport class TaskCenterService {\r\n\r\n  constructor(private http: HttpService) { }\r\n\r\n  /**\r\n   * 获取学生任务\r\n   * @param params 根据任务不同传入对应的参数\r\n   * classId 班级id\r\n   * 参数： taskForm-任务形式：课堂(0)、预习(1)、复习(2)\r\n   * teachCourseSectionId-教学课程节id',\r\n   */\r\n  getStudentTaskList(params: {classId?: string, lessonTimeId?: string, taskForm?: any}) {\r\n    return this.http.post('tsk/studentTask/list', { ...params, page: 1, limit: 1000 }, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 资料任务\r\n  getZLTask(courseTimeId) {\r\n    return this.http.post('tsk/studentTask/zlList', {courseTimeId}, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n\r\n  // 获取课次状态\r\n  getLessonTime(id) {\r\n    return this.http.post('tch/lessonTime/get', {id}, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  /**\r\n   * 开始答题\r\n   * @param taskId 任务id\r\n   */\r\n  startAnswer(taskId: string) {\r\n    return this.http.post('tsk/courseTask/startAnswer', { taskId }, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  /**\r\n   * 答题\r\n   */\r\n  submitQuestion(params: any) {\r\n    return this.http.postBody('tsk/courseTask/submitQuestion', params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  /**\r\n   * 交卷\r\n   * @param taskId 任务id\r\n   * @param id id\r\n   */\r\n  finishTask(taskId: string, id: string) {\r\n    return this.http.post('tsk/courseTask/finishTask', { taskId, id }, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  /**\r\n   * 获取用户答案\r\n   * @param taskId 任务id\r\n   */\r\n  getStuExamAnswerUrl(taskId: string) {\r\n    return this.http.post('tsk/courseTask/getStuExamAnswerUrl', { taskId }, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  /**\r\n   * 加载阅读任务or加载案例任务\r\n   * @param id id\r\n   */\r\n  getStutaskDetail(id: string) {\r\n    return this.http.post('tsk/studentTask/getStutaskDetail', { id }, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 获取实训进度条\r\n  getTrainStatistics(id: string) {\r\n    return this.http.post('tsk/studentTask/trainStatistics', { id }, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 查看资料详情\r\n  resourceDetail(id: string) {\r\n    return this.http.post('res/resource/resourceDetail', { id }, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  /**\r\n   * 开始阅读任务\r\n   * @param taskId 任务id\r\n   */\r\n  startReadingTask(taskId: string) {\r\n    return this.http.post('tsk/courseTask/startReadingTask', { taskId }, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n\r\n  /**\r\n   * 查看所有用户发言\r\n   * @param id 主键id\r\n   */\r\n  getAllSpeak(id: string) {\r\n    return this.http.post('tsk/studentTask/getAllSpeak', { id }, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param params\r\n   * studentGroupId '学生组id',\r\n   *  classId  '班级id',\r\n   *  courseTaskId 课程任务id',\r\n   *  content '发言内容',\r\n   *  resourceId  '资源学生id'\r\n   *  isLeader:是否是组长,\r\n   *  speakType:案例任务属性-发言模式：默认(0)、个人模式(1)、小组模式(2)、组长模式(3)\r\n   *  speakwallAttachment :[{\r\n   *    attachmentName '附件名称',\r\n   *    attachmentPath '附件路径',\r\n   *    attachmentExt  '扩展名',\r\n   *    attachmentType '附件类型：预留字段，有需要再使用'\r\n   *  },{\r\n   *    attachmentName '附件名称',\r\n   *    attachmentPath '附件路径',\r\n   *    attachmentExt  '扩展名',\r\n   *    attachmentType '附件类型：预留字段，有需要再使用'\r\n   *    }]\r\n   */\r\n  saveStuSpeakwall(params: any) {\r\n    return this.http.postBody2('tsk/studentOperate/saveStuSpeakwall', params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  previewCourseTask(taskId: string, id: string) {\r\n    return this.http.post('tsk/courseTask/preview', {taskId, id}, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  getResource(url: string) {\r\n    return this.http.get(url, {}, {});\r\n  }\r\n\r\n  previewTestTask(taskId: string, id: string, stuId: string) {\r\n    return this.http.get('tsk/courseTask/preview', {taskId, id, stuId}, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  /**\r\n   * 修改学生任务\r\n   */\r\n  updateStudentTask(params: any) {\r\n    return this.http.postBody('tsk/courseTask/updateStudentTask', params, ToolsUtil.getHttpOptions());\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {forkJoin, Observable, of} from 'rxjs';\r\nimport {map} from 'rxjs/operators';\r\nimport {TikuService} from 'src/app/busi-services/tiku.service';\r\nimport {\r\n  Exercise, ExerciseKind,\r\n  ChoiceExercise, ComplexExercise, BaseExercise,\r\n  ExerciseHandler, ExerciseHandlerFunction, EntrySubjectExercise,\r\n  ExerciseKindEnum, FillBlanksExercise, SketchExercise, FormSubjectExercise,\r\n  ExerciseFilterHandlerFunction, ExerciseMode, ExerciseStatus\r\n} from '../exercises-lib/model/exercise';\r\nimport {Base64} from 'js-base64';\r\nimport {environment} from 'src/environments/environment';\r\nimport {cloneDeep, isEqual} from 'lodash';\r\nimport {TaskCenterService} from 'core/services/task-center.service';\r\nimport {LocalStorageUtil} from 'core/utils/localstorage.util';\r\n\r\n\r\n@Injectable()\r\nexport class ExerciseTaskService {\r\n  private originalExerciseList: any[] = [];\r\n  private originalAnswerList = {};\r\n  private originalCollectionList: any[] = [];\r\n  private orgianlErrorQuestionList: any[] = [];\r\n  private exerciseList: Exercise[] = [];\r\n  private filterExerciseList: Exercise[] = [];\r\n  private exerciseKindMap = {\r\n    1: 'SingleChoice',\r\n    2: 'MultipleChoice',\r\n    24: 'TwiceChoice',\r\n    7: 'IndefiniteMultiple',\r\n    3: 'JudgeChoice',\r\n    6: 'FillBlanks',\r\n    22: 'FormSubject',\r\n    12: 'EntrySubject',\r\n    18: 'Sketch',\r\n    23: 'Complex'\r\n  };\r\n\r\n  public exeMode: ExerciseMode = '';\r\n  public exeStatus: ExerciseStatus = 'init';\r\n\r\n  public subjectHandler: ExerciseHandler = {\r\n    NotComplex: (exercise: Exercise) => {\r\n      exercise.isSubject = this.checkQuesSubject(exercise.exerciseKind as ExerciseKindEnum);\r\n      return exercise;\r\n    },\r\n    Complex: (exercise: ComplexExercise) => {\r\n      exercise.isSubject = exercise.questionList.some(question => question.isSubject);\r\n      return exercise;\r\n    }\r\n  };\r\n\r\n  public commonHandler: ExerciseHandler = {\r\n    NotComplex: (exercise: Exercise) => {\r\n      const isDone = exercise.isDone;\r\n      if (isDone) {\r\n        // isCorrect: 0为错误，1为部分对，2为正确\r\n        exercise.isRight = exercise.orginalAnswer?.isCorrect === 2;\r\n        exercise.evaluateExp = this.toInt(exercise.orginalAnswer?.score);\r\n        if (exercise.isSubject) {\r\n          exercise.isEvalute = ['finish', 'selfEvalute'].includes(exercise.status) ? exercise.orginalAnswer?.markStatus === 1 : false;\r\n        } else {\r\n          exercise.isEvalute = true;\r\n        }\r\n      } else {\r\n        if (exercise.isSubject) {\r\n          if (['finish', 'selfEvalute'].includes(exercise.status) && exercise.orginalAnswer) {\r\n            exercise.isRight = exercise.orginalAnswer?.isCorrect === 2;\r\n            exercise.isEvalute = exercise.orginalAnswer?.markStatus === 1;\r\n            exercise.evaluateExp = this.toInt(exercise.orginalAnswer?.score);\r\n          } else {\r\n            exercise.isEvalute = false;\r\n            exercise.isRight = false;\r\n            exercise.evaluateExp = 0;\r\n          }\r\n        } else {\r\n          exercise.isEvalute = true;\r\n          exercise.isRight = false;\r\n          exercise.evaluateExp = 0;\r\n        }\r\n      }\r\n      return exercise;\r\n    },\r\n    Complex: (exercise: ComplexExercise) => {\r\n      exercise.isRight = exercise.questionList.every(question => question.isRight);\r\n      exercise.evaluateExp = this.toInt(exercise.orginalAnswer?.score);\r\n      exercise.isEvalute = exercise.questionList.every(question => question.isEvalute);\r\n      return exercise;\r\n    }\r\n  };\r\n\r\n  public commonHandlerWithSubmit: ExerciseHandler = {\r\n    NotComplex: (exercise: Exercise) => {\r\n      switch (exercise.exerciseKind) {\r\n        case ExerciseKindEnum.SingleChoice:\r\n        case ExerciseKindEnum.JudgeChoice:\r\n          const formatMyAnswerWithSingle = exercise.myAnswer ? exercise.myAnswer.toUpperCase() : '';\r\n          const formatRightAnswer = exercise.answer ? exercise.answer.toUpperCase() : '';\r\n          exercise.isRight = formatRightAnswer === formatMyAnswerWithSingle;\r\n          exercise.evaluateExp = exercise.isRight ? exercise.originalExp : 0;\r\n          exercise.isEvalute = true;\r\n          break;\r\n        case ExerciseKindEnum.TwiceChoice:\r\n        case ExerciseKindEnum.IndefiniteMultiple:\r\n        case ExerciseKindEnum.MultipleChoice:\r\n          const formatMyAnswerWithMulti = exercise.myAnswer ? exercise.myAnswer.toUpperCase().split(',').sort().join(',') : '';\r\n          const sortRightAnswer = exercise.answer ? exercise.answer.toUpperCase().split(',').sort().join(',') : '';\r\n          exercise.isRight = sortRightAnswer === formatMyAnswerWithMulti;\r\n          exercise.evaluateExp = exercise.isRight ? exercise.originalExp : 0;\r\n          exercise.isEvalute = true;\r\n          break;\r\n        case ExerciseKindEnum.EntrySubject:\r\n        case ExerciseKindEnum.Sketch:\r\n        case ExerciseKindEnum.FillBlanks:\r\n        case ExerciseKindEnum.FormSubject:\r\n          if (exercise.isDone) {\r\n            exercise.evaluateExp = exercise.isRight ? exercise.originalExp : 0;\r\n          } else {\r\n            exercise.isRight = false;\r\n            exercise.evaluateExp = 0;\r\n            exercise.isEvalute = false;\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      return exercise;\r\n    },\r\n    Complex: (exercise: ComplexExercise) => {\r\n      exercise.isRight = exercise.questionList.every(question => question.isRight);\r\n      exercise.evaluateExp = exercise.questionList.reduce((acc, cur) => {\r\n        acc = acc + cur.evaluateExp;\r\n        return acc;\r\n      }, 0);\r\n      exercise.isEvalute = exercise.questionList.every(question => question.isEvalute);\r\n      return exercise;\r\n    }\r\n  };\r\n\r\n  public statusHandlerWithSubmit: ExerciseHandler = {\r\n    NotComplex: (exercise: Exercise) => {\r\n      switch (exercise.exerciseKind) {\r\n        case ExerciseKindEnum.SingleChoice:\r\n        case ExerciseKindEnum.JudgeChoice:\r\n        case ExerciseKindEnum.TwiceChoice:\r\n        case ExerciseKindEnum.IndefiniteMultiple:\r\n        case ExerciseKindEnum.MultipleChoice:\r\n          exercise.status = this.exeStatus;\r\n          break;\r\n        case ExerciseKindEnum.EntrySubject:\r\n        case ExerciseKindEnum.Sketch:\r\n        case ExerciseKindEnum.FillBlanks:\r\n        case ExerciseKindEnum.FormSubject:\r\n          exercise.status = this.exeStatus;\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      return exercise;\r\n    },\r\n    Complex: (exercise: ComplexExercise) => {\r\n      exercise.status = this.exeStatus;\r\n      return exercise;\r\n    }\r\n  };\r\n\r\n\r\n  public doneHandler: ExerciseHandler = {\r\n    NotComplex: (exercise: Exercise) => {\r\n      switch (exercise.exerciseKind) {\r\n        case ExerciseKindEnum.SingleChoice:\r\n        case ExerciseKindEnum.JudgeChoice:\r\n        case ExerciseKindEnum.TwiceChoice:\r\n        case ExerciseKindEnum.IndefiniteMultiple:\r\n        case ExerciseKindEnum.MultipleChoice:\r\n        case ExerciseKindEnum.EntrySubject:\r\n        case ExerciseKindEnum.Sketch:\r\n        case ExerciseKindEnum.FillBlanks:\r\n        case ExerciseKindEnum.FormSubject:\r\n          if (!!exercise.orginalAnswer) {\r\n            exercise.isDone = this.checkDoneWithOriginalAnswer(exercise);\r\n          } else {\r\n            exercise.isDone = false;\r\n          }\r\n          return exercise;\r\n        default:\r\n          return exercise;\r\n      }\r\n    },\r\n    Complex: (exercise: ComplexExercise) => {\r\n      exercise.isDone = exercise.questionList.every(question => question.isDone);\r\n      return exercise;\r\n    }\r\n  };\r\n\r\n  public doneHandlerWithMyAnswer: ExerciseHandler = {\r\n    NotComplex: (exercise: Exercise) => {\r\n      switch (exercise.exerciseKind) {\r\n        case ExerciseKindEnum.SingleChoice:\r\n        case ExerciseKindEnum.JudgeChoice:\r\n        case ExerciseKindEnum.TwiceChoice:\r\n        case ExerciseKindEnum.IndefiniteMultiple:\r\n        case ExerciseKindEnum.MultipleChoice:\r\n        case ExerciseKindEnum.EntrySubject:\r\n        case ExerciseKindEnum.Sketch:\r\n        case ExerciseKindEnum.FillBlanks:\r\n        case ExerciseKindEnum.FormSubject:\r\n          if (!!exercise.myAnswer) {\r\n            exercise.isDone = this.checkDoneWithMyAnswer(exercise);\r\n          } else {\r\n            exercise.isDone = false;\r\n          }\r\n          return exercise;\r\n        default:\r\n          return exercise;\r\n      }\r\n    },\r\n    Complex: (exercise: ComplexExercise) => {\r\n      exercise.isDone = exercise.questionList.every(question => question.isDone);\r\n      return exercise;\r\n    }\r\n  };\r\n\r\n  public doneWithWrongExerciseHandler: ExerciseHandler = {\r\n    NotComplex: (exercise: Exercise) => {\r\n      switch (exercise.exerciseKind) {\r\n        case ExerciseKindEnum.SingleChoice:\r\n        case ExerciseKindEnum.JudgeChoice:\r\n        case ExerciseKindEnum.TwiceChoice:\r\n        case ExerciseKindEnum.IndefiniteMultiple:\r\n        case ExerciseKindEnum.MultipleChoice:\r\n        case ExerciseKindEnum.EntrySubject:\r\n        case ExerciseKindEnum.Sketch:\r\n        case ExerciseKindEnum.FillBlanks:\r\n        case ExerciseKindEnum.FormSubject:\r\n          if (!exercise.isRight) {\r\n            if (exercise.status === 'init' && exercise.mode === 'wrong') {\r\n              exercise.isDone = false;\r\n            }\r\n          }\r\n          return exercise;\r\n        default:\r\n          return exercise;\r\n      }\r\n    },\r\n    Complex: (exercise: ComplexExercise) => {\r\n      if (!exercise.isRight) {\r\n        if (exercise.status === 'init' && exercise.mode === 'wrong') {\r\n          exercise.isDone = false;\r\n          exercise.questionList.forEach(question => {\r\n            question.isDone = false;\r\n          });\r\n        }\r\n      }\r\n      return exercise;\r\n    }\r\n  };\r\n\r\n  public doneWithRedoHandler: ExerciseHandler = {\r\n    NotComplex: (exercise: Exercise) => {\r\n      switch (exercise.exerciseKind) {\r\n        case ExerciseKindEnum.SingleChoice:\r\n        case ExerciseKindEnum.JudgeChoice:\r\n        case ExerciseKindEnum.TwiceChoice:\r\n        case ExerciseKindEnum.IndefiniteMultiple:\r\n        case ExerciseKindEnum.MultipleChoice:\r\n        case ExerciseKindEnum.EntrySubject:\r\n        case ExerciseKindEnum.Sketch:\r\n        case ExerciseKindEnum.FillBlanks:\r\n        case ExerciseKindEnum.FormSubject:\r\n          if (exercise.mode === 'redo') {\r\n            exercise.isDone = false;\r\n          }\r\n          return exercise;\r\n        default:\r\n          return exercise;\r\n      }\r\n    },\r\n    Complex: (exercise: ComplexExercise) => {\r\n      if (exercise.mode === 'redo') {\r\n        exercise.isDone = false;\r\n      }\r\n      return exercise;\r\n    }\r\n  };\r\n\r\n  public doneWithCollectionHandler: ExerciseHandler = {\r\n    NotComplex: (exercise: Exercise) => {\r\n      switch (exercise.exerciseKind) {\r\n        case ExerciseKindEnum.SingleChoice:\r\n        case ExerciseKindEnum.JudgeChoice:\r\n        case ExerciseKindEnum.TwiceChoice:\r\n        case ExerciseKindEnum.IndefiniteMultiple:\r\n        case ExerciseKindEnum.MultipleChoice:\r\n        case ExerciseKindEnum.EntrySubject:\r\n        case ExerciseKindEnum.Sketch:\r\n        case ExerciseKindEnum.FillBlanks:\r\n        case ExerciseKindEnum.FormSubject:\r\n          if (exercise.mode === 'collection') {\r\n            exercise.isDone = false;\r\n          }\r\n          return exercise;\r\n        default:\r\n          return exercise;\r\n      }\r\n    },\r\n    Complex: (exercise: ComplexExercise) => {\r\n      if (exercise.mode === 'collection') {\r\n        exercise.isDone = false;\r\n      }\r\n      return exercise;\r\n    }\r\n  };\r\n\r\n  constructor(\r\n    private taskService: TaskCenterService,\r\n    private tikuService: TikuService) {\r\n  }\r\n\r\n  /** 获取作业详情 */\r\n  public getExercise(tkuDataUrl = ''): Observable<any> {\r\n    return new Observable<any>((observe) => {\r\n      const getTiKuData = (taskUrl) => {\r\n        if (!taskUrl) {\r\n          observe.error('任务缺少taskUrl');\r\n          return;\r\n        }\r\n        if (!taskUrl.startsWith('https') && !taskUrl.startsWith('http')) {\r\n          taskUrl = window.location.protocol + taskUrl;\r\n        }\r\n        const task$ = this.taskService.getResource(\r\n          `${taskUrl}?t=${new Date().getTime()}`\r\n        );\r\n        const caterys$ = this.tikuService.getAccountingCaterysTree();\r\n        forkJoin([task$, caterys$]).subscribe(\r\n          ([taskRes, caterysRes]) => {\r\n            // 字典\r\n            if (caterysRes.code === 200) {\r\n              console.log('获取题目字典成功');\r\n            } else {\r\n              console.error('获取题目字典失败');\r\n            }\r\n            observe.next({\r\n              quesList: taskRes || {},\r\n            });\r\n            observe.complete();\r\n          },\r\n          (err) => {\r\n            observe.error(err);\r\n          }\r\n        );\r\n      };\r\n      getTiKuData(tkuDataUrl);\r\n    });\r\n  }\r\n\r\n\r\n  public getQuestionList(taskUrl: string) {\r\n    return this.taskService.getResource(\r\n      `${taskUrl}?t=${new Date().getTime()}`\r\n    ).pipe(\r\n      map(taskRes => taskRes || {})\r\n    );\r\n  }\r\n\r\n  /** 获取作业答案 */\r\n  public getExeAnswer(taskUrl: string, examId: string): Observable<any> {\r\n    const arr = taskUrl.split('/');\r\n    const paperName = arr[arr.length - 1];\r\n    const uuid = paperName.split('.')[0];\r\n    const {thirdId: uid} = LocalStorageUtil.getUser();\r\n    const lastRecord$ = this.tikuService.getExamedRecord(\r\n      parseInt(uid, 10),\r\n      uuid,\r\n      examId\r\n    );\r\n\r\n    if (this.exeMode === 'collection') {\r\n      return of({});\r\n    }\r\n\r\n    return lastRecord$.pipe(\r\n      map(anwserRes => {\r\n        let answerList = {};\r\n        if (parseInt(anwserRes.code, 10) !== 200) {\r\n          answerList = {};\r\n        } else {\r\n          const {\r\n            data: {\r\n              examRecords: {answers},\r\n            },\r\n          } = anwserRes;\r\n          answerList = answers || {};\r\n        }\r\n        return answerList;\r\n      })\r\n    );\r\n  }\r\n\r\n  /** 获取作业收藏 */\r\n  public getCollections(taskUrl: string): Observable<any> {\r\n    const arr = taskUrl.split('/');\r\n    const paperName = arr[arr.length - 1];\r\n    const uuid = paperName.split('.')[0];\r\n    const {thirdId: uid} = LocalStorageUtil.getUser();\r\n    return this.tikuService.getCollectionByUidPid(parseInt(uid, 10), uuid).pipe(\r\n      map(collectionRes => {\r\n        let collectionList = [];\r\n        if (parseInt(collectionRes.code, 10) !== 200) {\r\n          collectionList = [];\r\n        } else {\r\n          const {\r\n            data: {myCollections},\r\n          } = collectionRes;\r\n          collectionList = myCollections || [];\r\n        }\r\n        return collectionList;\r\n      })\r\n    );\r\n  }\r\n\r\n  public getExerciseList() {\r\n    return this.exerciseList;\r\n  }\r\n\r\n  public getFilterExerciseList() {\r\n    return this.filterExerciseList;\r\n  }\r\n\r\n  public initialize({questions, answerList, collectionList, errorQuestionList}:\r\n                      { questions: any[], answerList: object, collectionList: any[], errorQuestionList: any[] }) {\r\n    this.originalExerciseList = questions || [];\r\n    this.originalAnswerList = answerList || {};\r\n    this.originalCollectionList = collectionList || [];\r\n    this.orgianlErrorQuestionList = errorQuestionList || [];\r\n    this.exerciseList = this.standard\r\n    (this.originalExerciseList, this.originalAnswerList, this.originalCollectionList, this.orgianlErrorQuestionList);\r\n    return this;\r\n  }\r\n\r\n  public getExerciseKind(typeId: string): ExerciseKind {\r\n    return this.exerciseKindMap[typeId];\r\n  }\r\n\r\n  private getVideoAnalysisUrl(videoAnalysis: string): string {\r\n    if (videoAnalysis) {\r\n      if (environment.commonViewer.indexOf('?') > -1) {\r\n        return `${environment.commonViewer}&polywayId=${videoAnalysis}`;\r\n      } else {\r\n        return `${environment.commonViewer}?polywayId=${videoAnalysis}`;\r\n      }\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  private standard(exerciseList: any[], answerList: object, collectionList: any[], errorQuestionList: any[]): Exercise[] {\r\n    // TODO 先过滤掉录音题，以后在补上\r\n    return exerciseList.filter(ques => ques.typeId !== '21').map(exercise => {\r\n      const decodeAnswer = this.toDecodeAnswer(exercise.answer);\r\n      const exerciseKind = this.getExerciseKind(exercise.typeId);\r\n      const orginalAnswer = answerList[exercise.id] ? answerList[exercise.id] : null;\r\n      const orginalCollection = collectionList.find(collection => collection.questionId === exercise.id);\r\n      const orginalErrorExeInfo = errorQuestionList.find(errExe => errExe.questionId === exercise.id);\r\n      const videoAnalysis = this.getVideoAnalysisUrl(exercise.videoAnalysis);\r\n      const mode = this.exeMode;\r\n      const status = this.exeStatus;\r\n      const isShowAnswer = false;\r\n      const baseExercise: Partial<BaseExercise> = {\r\n        orginalExercise: exercise,\r\n        orginalAnswer,\r\n        orginalCollection,\r\n        orginalErrorExeInfo,\r\n        exerciseId: exercise.id,\r\n        title: exercise.title,\r\n        content: exercise.title,\r\n        exerciseKindName: exercise.questionTypeName,\r\n        analysis: exercise.textAnalysis,\r\n        originalExp: this.toInt(exercise.score),\r\n        evaluateExp: 0,\r\n        isRight: false,\r\n        isDone: false,\r\n        isCollected: !!orginalCollection,\r\n        collectionLoading: false,\r\n        videoAnalysis,\r\n        exerciseLoading: false,\r\n        isSelected: false,\r\n        mode,\r\n        status,\r\n        isShowAnswer\r\n      };\r\n      switch (exerciseKind) {\r\n        case ExerciseKindEnum.SingleChoice:\r\n        case ExerciseKindEnum.JudgeChoice:\r\n        case ExerciseKindEnum.TwiceChoice:\r\n        case ExerciseKindEnum.IndefiniteMultiple:\r\n        case ExerciseKindEnum.MultipleChoice:\r\n          return {\r\n            ...baseExercise,\r\n            isEvalute: true,\r\n            exerciseKind,\r\n            answer: decodeAnswer,\r\n            myAnswer: '',\r\n            optionList: [],\r\n          } as ChoiceExercise;\r\n\r\n        case ExerciseKindEnum.EntrySubject:\r\n          return {\r\n            ...baseExercise,\r\n            isEvalute: false,\r\n            exerciseKind,\r\n            answer: this.transformEntrySubjectAnswer(decodeAnswer),\r\n            myAnswer: [],\r\n          } as EntrySubjectExercise;\r\n\r\n        case ExerciseKindEnum.FillBlanks:\r\n          return {\r\n            ...baseExercise,\r\n            isEvalute: false,\r\n            exerciseKind,\r\n            answer: this.transformFillBlanksAnswer(decodeAnswer),\r\n            myAnswer: [],\r\n          } as FillBlanksExercise;\r\n\r\n        case ExerciseKindEnum.FormSubject:\r\n          return {\r\n            ...baseExercise,\r\n            isEvalute: false,\r\n            exerciseKind,\r\n            header: decodeAnswer.info.content,\r\n            answer: this.transformFormSubjectAnswer(decodeAnswer),\r\n            myAnswer: [],\r\n          } as FormSubjectExercise;\r\n\r\n        case ExerciseKindEnum.Sketch:\r\n          return {\r\n            ...baseExercise,\r\n            isEvalute: false,\r\n            exerciseKind,\r\n            answer: decodeAnswer,\r\n          } as SketchExercise;\r\n\r\n        case ExerciseKindEnum.Complex:\r\n          return {\r\n            ...baseExercise,\r\n            isEvalute: false,\r\n            exerciseKind,\r\n            complexExeIdx: 0,\r\n            questionList: this.standard(exercise.questionChildrenList || [], answerList, collectionList, errorQuestionList)\r\n          } as ComplexExercise;\r\n      }\r\n    });\r\n  }\r\n\r\n  /** 遍历题目，遇到综合题，根据子题的状态去推断综合题的状态 */\r\n  public process(handlers: ExerciseHandler[], handlerList?: Exercise[]) {\r\n    const list = handlerList ? handlerList : this.exerciseList;\r\n    // 处理非综合题，包括综合题里的子题\r\n    list.forEach(exercise => {\r\n      if (exercise.exerciseKind !== 'Complex') {\r\n        this.processExerciseHander(exercise, handlers);\r\n      } else if (exercise.exerciseKind === 'Complex') {\r\n        exercise.questionList.forEach(question => {\r\n          this.processExerciseHander(question, handlers);\r\n        });\r\n      }\r\n    });\r\n\r\n    // 处理综合题\r\n    this.exerciseList.forEach(exercise => {\r\n      if (exercise.exerciseKind === 'Complex') {\r\n        this.processExerciseHander(exercise, handlers);\r\n      }\r\n    });\r\n    return this;\r\n  }\r\n\r\n  /** 遍历题目，遇到综合题，根据综合题的状态去推断子题的状态 */\r\n  public processWithComplex(handlers: ExerciseHandler[], handlerList?: Exercise[]) {\r\n    const list = handlerList ? handlerList : this.exerciseList;\r\n    list.forEach(exercise => {\r\n      if (exercise.exerciseKind !== 'Complex') {\r\n        this.processExerciseHander(exercise, handlers);\r\n      } else if (exercise.exerciseKind === 'Complex') {\r\n        this.processExerciseHander(exercise, handlers);\r\n      }\r\n    });\r\n    return this;\r\n  }\r\n\r\n  public filter(filterHandler: ExerciseFilterHandlerFunction) {\r\n    this.filterExerciseList = this.exerciseList.filter(exercise => filterHandler(exercise));\r\n    return this;\r\n  }\r\n\r\n  public optionHandler: ExerciseHandlerFunction = (exercise: Exercise) => {\r\n    switch (exercise.exerciseKind) {\r\n      case ExerciseKindEnum.SingleChoice:\r\n      case ExerciseKindEnum.JudgeChoice:\r\n      case ExerciseKindEnum.TwiceChoice:\r\n      case ExerciseKindEnum.IndefiniteMultiple:\r\n      case ExerciseKindEnum.MultipleChoice:\r\n        const questionOptions = exercise.orginalExercise.questionOptions || [];\r\n        exercise.optionList = questionOptions.map(option => ({\r\n          label: option.answerOption,\r\n          content: option.answerContent,\r\n        }));\r\n        return exercise;\r\n      default:\r\n        return exercise;\r\n    }\r\n  }\r\n\r\n  public myAnswerHandler: ExerciseHandlerFunction = (exercise: Exercise) => {\r\n    switch (exercise.exerciseKind) {\r\n      case ExerciseKindEnum.SingleChoice:\r\n      case ExerciseKindEnum.JudgeChoice:\r\n      case ExerciseKindEnum.TwiceChoice:\r\n      case ExerciseKindEnum.IndefiniteMultiple:\r\n      case ExerciseKindEnum.MultipleChoice:\r\n      case ExerciseKindEnum.Sketch:\r\n        exercise.myAnswer = exercise.isDone ? exercise.orginalAnswer.answer : '';\r\n        exercise.oldMyAnswer = exercise.myAnswer;\r\n        return exercise;\r\n      case ExerciseKindEnum.EntrySubject:\r\n        exercise.myAnswer = exercise.isDone ? exercise.orginalAnswer.answer : [];\r\n        exercise.oldMyAnswer = cloneDeep(exercise.myAnswer);\r\n        return exercise;\r\n      case ExerciseKindEnum.FillBlanks:\r\n        exercise.myAnswer = exercise.isDone ? exercise.orginalAnswer.answer : exercise.answer.map(answerItem => ({\r\n          label: answerItem.label,\r\n          answer: ''\r\n        }));\r\n        exercise.oldMyAnswer = cloneDeep(exercise.myAnswer);\r\n        return exercise;\r\n      case ExerciseKindEnum.FormSubject:\r\n        exercise.myAnswer = exercise.isDone ? exercise.orginalAnswer.answer : exercise.answer;\r\n        exercise.oldMyAnswer = cloneDeep(exercise.myAnswer);\r\n        return exercise;\r\n      default:\r\n        return exercise;\r\n    }\r\n  }\r\n\r\n  /** 复制新答案到旧答案里 */\r\n  public copyAnswer2Old(exercise: Exercise): void {\r\n    switch (exercise.exerciseKind) {\r\n      case ExerciseKindEnum.SingleChoice:\r\n      case ExerciseKindEnum.JudgeChoice:\r\n      case ExerciseKindEnum.TwiceChoice:\r\n      case ExerciseKindEnum.IndefiniteMultiple:\r\n      case ExerciseKindEnum.MultipleChoice:\r\n      case ExerciseKindEnum.Sketch:\r\n        exercise.oldMyAnswer = exercise.myAnswer;\r\n        break;\r\n      case ExerciseKindEnum.EntrySubject:\r\n        exercise.oldMyAnswer = cloneDeep(exercise.myAnswer);\r\n        break;\r\n      case ExerciseKindEnum.FillBlanks:\r\n        exercise.oldMyAnswer = cloneDeep(exercise.myAnswer);\r\n        break;\r\n      case ExerciseKindEnum.FormSubject:\r\n        exercise.oldMyAnswer = cloneDeep(exercise.myAnswer);\r\n        break;\r\n      case ExerciseKindEnum.Complex:\r\n        exercise.questionList.forEach(question => {\r\n          this.copyAnswer2Old(question);\r\n        });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  public checkExerciseChange(exercise: Exercise): boolean {\r\n    if (exercise.exerciseKind === ExerciseKindEnum.Complex) {\r\n      return exercise.questionList.some(question => {\r\n        if (question.exerciseKind !== ExerciseKindEnum.Complex) {\r\n          return !isEqual(question.myAnswer, question.oldMyAnswer);\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    } else {\r\n      return !isEqual(exercise.myAnswer, exercise.oldMyAnswer);\r\n    }\r\n  }\r\n\r\n  public setExerciseDone(exercise: Exercise): void {\r\n    exercise.isDone = true;\r\n  }\r\n\r\n  /** 检查是否作答 */\r\n  public checkDoneWithMyAnswer(exercise: Exercise): boolean {\r\n    switch (exercise.exerciseKind) {\r\n      case ExerciseKindEnum.SingleChoice:\r\n      case ExerciseKindEnum.JudgeChoice:\r\n      case ExerciseKindEnum.TwiceChoice:\r\n      case ExerciseKindEnum.IndefiniteMultiple:\r\n      case ExerciseKindEnum.MultipleChoice:\r\n      case ExerciseKindEnum.Sketch:\r\n        return !!exercise.myAnswer;\r\n      case ExerciseKindEnum.FillBlanks:\r\n        return Array.isArray(exercise.myAnswer)\r\n          ?\r\n          exercise.myAnswer.map(it => it.answer).filter(answerText => !!answerText).length === 0 ? false : true\r\n          : false;\r\n      case ExerciseKindEnum.EntrySubject:\r\n        return Array.isArray(exercise.myAnswer)\r\n          ?\r\n          exercise.myAnswer.length === 0 ? false : true\r\n          : false;\r\n      case ExerciseKindEnum.FormSubject:\r\n        if (Array.isArray(exercise.myAnswer)) {\r\n          for (const row of exercise.myAnswer) {\r\n            for (const col of row) {\r\n              if (col.myAnswer) { // 有一空作答算已作答\r\n                return true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        return false;\r\n      case ExerciseKindEnum.Complex: // 综合题，全部题答，算作答\r\n        return exercise.questionList.every(ques => this.checkDoneWithMyAnswer(ques));\r\n      default:\r\n        return true;\r\n    }\r\n  }\r\n\r\n  public checkDoneWithOriginalAnswer(exercise: Exercise): boolean {\r\n    switch (exercise.exerciseKind) {\r\n      case ExerciseKindEnum.SingleChoice:\r\n      case ExerciseKindEnum.JudgeChoice:\r\n      case ExerciseKindEnum.TwiceChoice:\r\n      case ExerciseKindEnum.IndefiniteMultiple:\r\n      case ExerciseKindEnum.MultipleChoice:\r\n      case ExerciseKindEnum.Sketch:\r\n        return !!exercise.orginalAnswer.answer;\r\n      case ExerciseKindEnum.FillBlanks:\r\n        return Array.isArray(exercise.orginalAnswer.answer)\r\n          ?\r\n          exercise.orginalAnswer.answer.map(it => it.answer).filter(answerText => !!answerText).length === 0 ? false : true\r\n          : false;\r\n      case ExerciseKindEnum.EntrySubject:\r\n        return Array.isArray(exercise.orginalAnswer.answer)\r\n          ?\r\n          exercise.orginalAnswer.answer.length === 0 ? false : true\r\n          : false;\r\n      case ExerciseKindEnum.FormSubject:\r\n        if (Array.isArray(exercise.orginalAnswer.answer)) {\r\n          for (const row of exercise.orginalAnswer.answer) {\r\n            for (const col of row) {\r\n              if (col.myAnswer) { // 有一空作答算已作答\r\n                return true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        return false;\r\n      case ExerciseKindEnum.Complex: // 综合题，全部题答，算作答\r\n        return exercise.questionList.every(ques => this.checkDoneWithOriginalAnswer(ques));\r\n      default:\r\n        return true;\r\n    }\r\n  }\r\n\r\n  public toInt(num: any): number {\r\n    if (Number.isFinite(num)) {\r\n      return num;\r\n    } else if (typeof num === 'string') {\r\n      return parseInt(num || '0', 10);\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 有没有做过了一些题\r\n   * @params list\r\n   */\r\n  public isDoneBitQuestion(exerciseList: Exercise[]): boolean {\r\n    const doneBitQuesFunc = (list: Exercise[]): boolean => {\r\n      for (const exercise of list) {\r\n        if (exercise.exerciseKind === ExerciseKindEnum.Complex) {\r\n          const doneBit = doneBitQuesFunc(exercise.questionList);\r\n          if (doneBit) {\r\n            return true;\r\n          }\r\n        } else {\r\n          if (exercise.isDone) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n    return doneBitQuesFunc(exerciseList);\r\n  }\r\n\r\n  public toExerciseMode(data: any): ExerciseMode {\r\n    const {tikuType} = data;\r\n    let exeMode: ExerciseMode = '';\r\n    if (tikuType && tikuType > 0) {\r\n      switch (tikuType) {\r\n        case 1:\r\n          exeMode = 'redo';\r\n          break;\r\n        case 2:\r\n          exeMode = 'wrong';\r\n          break;\r\n        case 3:\r\n          exeMode = 'collection';\r\n          break;\r\n        default:\r\n          exeMode = '';\r\n      }\r\n    }\r\n    return exeMode;\r\n  }\r\n\r\n  public toExerciseStatus(data: any): ExerciseStatus {\r\n    const {taskInfo, tikuTaskStatus, tikuType} = data;\r\n    // status: 未完成 0, 已完成 1, 重做 2, 待自评 3\r\n    let status = taskInfo.studentTaskId ? taskInfo.studentTaskStatus : taskInfo.status;\r\n    if (tikuType > 0) {\r\n      status = tikuTaskStatus.toString();\r\n    }\r\n    const isEndOfTask = status === '1';\r\n    const isSelfEvalute = status === '3';\r\n    const isOngoing = status === '4';\r\n    let exeStatus: ExerciseStatus = 'init';\r\n    if (isEndOfTask) {\r\n      exeStatus = 'finish';\r\n    } else if (isSelfEvalute) {\r\n      exeStatus = 'selfEvalute';\r\n    } else if (isOngoing) {\r\n      exeStatus = 'ongoing';\r\n    }\r\n    return exeStatus;\r\n  }\r\n\r\n  public toSubmitAnswer(list: Exercise[], skipUndone: boolean) {\r\n    const answers = {};\r\n    const getSubmitAnswer = (exerciseList: Exercise[]) => {\r\n      for (const exercise of exerciseList) {\r\n        if (exercise.exerciseKind !== ExerciseKindEnum.Complex) {\r\n          if (skipUndone) {\r\n            if (!exercise.isDone) {\r\n              if (exercise.mode !== '' && !!exercise.orginalAnswer) {\r\n                answers[exercise.exerciseId] = {\r\n                  typeId: exercise.orginalAnswer.typeId,\r\n                  userAnswer: this.formatSubmitAnswer(exercise.orginalAnswer.answer),\r\n                  initAnswer: '',\r\n                  isCorrect: exercise.orginalAnswer.isCorrect,\r\n                  score: exercise.orginalAnswer.score,\r\n                  markStatus: exercise.orginalAnswer.markStatus,\r\n                };\r\n              }\r\n              continue;\r\n            }\r\n          }\r\n          answers[exercise.exerciseId] = {\r\n            typeId: exercise.orginalExercise.typeId,\r\n            userAnswer: this.formatSubmitAnswer(exercise.myAnswer),\r\n            initAnswer: '',\r\n            isCorrect: exercise.isRight ? 2 : 0,\r\n            score: exercise.evaluateExp,\r\n            markStatus: exercise.isEvalute ? 1 : 0,\r\n            // recordDetailId:  exercise.orginalErrorExeInfo ? exercise.orginalErrorExeInfo.recordDetailId : ''\r\n          };\r\n        } else {\r\n          getSubmitAnswer(exercise.questionList);\r\n        }\r\n      }\r\n    };\r\n    getSubmitAnswer(this.exerciseList);\r\n    return answers;\r\n  }\r\n\r\n  private formatSubmitAnswer(item: any) {\r\n    const type = typeof item;\r\n    if (type === 'string') {\r\n      return item;\r\n    } else if (type === 'number') {\r\n      return item;\r\n    } else {\r\n      return JSON.stringify(item);\r\n    }\r\n  }\r\n\r\n  private processExerciseHander(exercise: Exercise, handlers: ExerciseHandler[]): void {\r\n    handlers.forEach(handler => {\r\n      const keys = Object.keys(handler);\r\n      keys.forEach(key => {\r\n        if (exercise.exerciseKind === key || key === 'NotComplex') {\r\n          const handlerFun = handler[key] as ExerciseHandlerFunction;\r\n          Object.assign(exercise, handlerFun(exercise));\r\n        } else if (exercise.exerciseKind === ExerciseKindEnum.Complex && key === 'Complex') {\r\n          const handlerFun = handler[key] as ExerciseHandlerFunction;\r\n          Object.assign(exercise, handlerFun(exercise));\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  private toDecodeAnswer(answer: string): any {\r\n    try {\r\n      const decodeAnswer = Base64.decode(answer);\r\n      const decodeAnswerObj = JSON.parse(decodeAnswer);\r\n      if (typeof decodeAnswerObj === 'object') {\r\n        return decodeAnswerObj;\r\n      } else {\r\n        return decodeAnswer;\r\n      }\r\n    } catch (error) {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  public formatAnswers(answers: object) {\r\n    const keys = Object.keys(answers);\r\n    keys.forEach(key => {\r\n      try {\r\n        const userAnswerObj = JSON.parse(answers[key].userAnswer);\r\n        if (typeof userAnswerObj === 'object') {\r\n          answers[key].userAnswer = userAnswerObj;\r\n        }\r\n      } catch (error) {\r\n\r\n      } finally {\r\n        answers[key].answer = answers[key].userAnswer;\r\n      }\r\n    });\r\n  }\r\n\r\n  /** 检查是否主观题 */\r\n  public checkQuesSubject(exerciseKind: ExerciseKindEnum): boolean {\r\n    switch (exerciseKind) {\r\n      case ExerciseKindEnum.SingleChoice:\r\n      case ExerciseKindEnum.JudgeChoice:\r\n      case ExerciseKindEnum.TwiceChoice:\r\n      case ExerciseKindEnum.IndefiniteMultiple:\r\n      case ExerciseKindEnum.MultipleChoice:\r\n        return false; // 客观题\r\n      case ExerciseKindEnum.FillBlanks:\r\n      case ExerciseKindEnum.EntrySubject:\r\n      case ExerciseKindEnum.FormSubject:\r\n      case ExerciseKindEnum.Sketch:\r\n      case ExerciseKindEnum.Complex: // 综合题： 有一道是主观题，就是主观题，否则不是\r\n        return true; // 主观题\r\n    }\r\n  }\r\n\r\n  private transformEntrySubjectAnswer(answer: any): any[] {\r\n    const contents: any[] = answer.contents || [];\r\n    const subjects: any[] = contents.map(el => ([\r\n      (el.DaiOptions as any[]).map(d => ({\r\n        jd: '-1',\r\n        subject: d.Key,\r\n        answer: d.Value\r\n      })),\r\n      (el.JieOptions as any[]).map(d => ({\r\n        jd: '1',\r\n        subject: d.Key,\r\n        answer: d.Value\r\n      }))])\r\n    );\r\n    // @ts-ignore\r\n    return subjects.flat(3);\r\n  }\r\n\r\n  private transformFillBlanksAnswer(answer: string): any[] {\r\n    return answer.split('&').map(el => ({label: el, answer: el}));\r\n  }\r\n\r\n  private transformFormSubjectAnswer(tableInfo: any) {\r\n    try {\r\n      const optionList = [];\r\n      tableInfo.contents.map((trInfo, row) => {\r\n        optionList[row] = trInfo.tr.map((td, col) => {\r\n          return ({\r\n            header: td.header,\r\n            col,\r\n            content: td.content || td.answer,\r\n            inputType: !!td.inputType ? 1 : 0,\r\n            row,\r\n            rowSpan: td.rowSpan,\r\n            colSpan: td.colSpan\r\n          });\r\n        });\r\n      });\r\n      return optionList;\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport {HttpService} from './http.service';\r\nimport {ToolsUtil} from '../utils/tools.util';\r\nimport {ServicesModule} from '@app/service/service.module';\r\n\r\n@Injectable({\r\n  providedIn: ServicesModule\r\n})\r\nexport class ApiService {\r\n\r\n  constructor(private httpService: HttpService) {}\r\n\r\n  login(params: any) {\r\n    return this.httpService.post('stu/student/login', params, ToolsUtil.getHttpOptions());\r\n  }\r\n  loginByPhone(params: any) {\r\n    return this.httpService.post('stu/student/getStuInfoByPhone', params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  getClassList(studentId) {\r\n    return this.httpService.get('tch/classMarketStudent/list/stuId', {studentId}, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  getInfo(orgCode) {\r\n    return this.httpService.post('sys/org/getByCode', {orgCode}, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  studentSign(params) {\r\n    return this.httpService.post('tsk/studentSign/signNew', params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n}\r\n","export const statusRemark = {\r\n  0: '未发布',\r\n  1: '已发布',\r\n  98: '撤回',\r\n  99: '已结束'\r\n};\r\nexport const speakTypeRemark = {\r\n  0: '个人发言',\r\n  1: '个人发言',\r\n  2: '我的小组发言',\r\n  3: '组长发言'\r\n};\r\n\r\nexport const exerciseTitle = {\r\n  201: '单选',\r\n  202: '多选',\r\n  203: '判断',\r\n  204: '填空',\r\n  205: '表格',\r\n  206: '分录',\r\n  207: '问答',\r\n  299: '综合'\r\n};\r\n","<!-- 大纲讲义与任务 -->\r\n<div *ngIf=\"urlParams.OutlineData\" class=\"box\" [class]=\"{'selected' : qcData?.id === selectedId }\" #taskBox>\r\n  <div class=\"title flex-title\">\r\n    <p class=\"task-name\" [title]=\"qcData?.name\">\r\n      {{ qcData?.name }}\r\n    </p>\r\n    <p class=\"end-time\" >\r\n      <span>进行中</span>\r\n    </p>\r\n  </div>\r\n  <!-- 资料任务除外 -->\r\n  <div class=\"desc\" >\r\n    <div [class]=\"{'orange-text': qcData?.taskStatus !== '1'}\">\r\n      <p style=\"padding-right: 24px;\">\r\n        <span class=\"gray-text\">{{taskTypeName[qcData?.taskType]}} • </span>\r\n        <span>{{getDaysDiffBetweenDates(qcData?.endTime)}}</span>\r\n<!--        <span style=\"float: right;font-size: 20px; color: red;\">0</span>-->\r\n      </p>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Component, OnInit, Input, ViewChild, ElementRef, HostListener, Output, EventEmitter} from '@angular/core';\r\nimport * as TASK from 'core/base/task';\r\nimport {MyClassService} from 'src/app/busi-services/my-class.service';\r\nimport {LocalStorageUtil} from 'core/utils/localstorage.util';\r\n\r\n@Component({\r\n  selector: 'app-section-task-item',\r\n  templateUrl: './section-task-item.component.html',\r\n  styleUrls: ['./section-task-item.component.less']\r\n})\r\nexport class SectionTaskItemComponent implements OnInit {\r\n\r\n  @Input() qcData: any = {\r\n    taskType: ''\r\n  };\r\n  @Input() selectedId: string;\r\n  @ViewChild('taskBox') taskBox: ElementRef;\r\n  @Output() selectChange = new EventEmitter<any>();\r\n  statusRemark = TASK.statusRemark;\r\n  urlParams: any = {};\r\n\r\n  statusName = ['未完成', '已完成', '重做', '待自评', '已删除'];\r\n  statusName1 = ['未完成', '已完成', '未解锁', '待自评'];\r\n  taskTypeName = ['阅读', '案例', '作业', '实训', '考试', '实战', '问卷', '测评'];\r\n\r\n  @HostListener('click')\r\n  onClick() {\r\n    if (this.qcData.unreadCount > 0) {\r\n      this.clearUnreadMsg();\r\n      return false;\r\n    }\r\n    this.selectChange.emit(this.qcData);\r\n  }\r\n\r\n  constructor(\r\n    private myClassService: MyClassService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.urlParams = LocalStorageUtil.getBaseParams();\r\n  }\r\n\r\n  clearUnreadMsg() {\r\n    this.myClassService.clearUnreadMsg({\r\n      taskId: this.qcData.id\r\n    }).subscribe(res => {\r\n      this.qcData.unreadCount = 0;\r\n      this.selectChange.emit(this.qcData);\r\n    });\r\n  }\r\n\r\n  scrollToView() {\r\n    const ele: HTMLDivElement = this.taskBox.nativeElement;\r\n    ele.scrollIntoView({behavior: 'smooth'});\r\n  }\r\n\r\n  // 获取两个日期相差几天\r\n  getDaysDiffBetweenDates(endTime, taskFinish = '0') {\r\n    return '剩余xx天'\r\n  }\r\n\r\n}\r\n","\r\n<nz-layout style=\"height: 100%;\" [style]=\"{'display': hideBtn ? 'none' : 'flex'}\">\r\n  <nz-content style=\"overflow: auto;border-radius: 6px;padding: 13px 0;\" class=\"white-bg\">\r\n    <nz-tabset nzSize=\"small\"\r\n    [nzShowPagination]=\"false\"\r\n    [nzSelectedIndex]=\"tabIdx\"\r\n    [nzTabBarStyle]=\"{display:'none'}\">\r\n      <nz-tab  *ngFor=\"let item of typeList\" [nzTitle]=\"item\">\r\n        <div *ngIf=\"onTaskList.length == 0\" class=\"load-spin\">\r\n          <nz-empty [nzNotFoundContent]=\"'暂未创建任务'\" style=\"margin-top: 100px;\"></nz-empty>\r\n        </div>\r\n        <div class=\"task-list\" *ngIf=\"onTaskList.length > 0\">\r\n          <ng-container *ngFor=\"let item of onTaskList\">\r\n            <app-section-task-item\r\n              [qcData]=\"item\"\r\n              [selectedId]=\"selectedId\"\r\n              (selectChange)=\"taskItemChange($event)\">\r\n            </app-section-task-item>\r\n          </ng-container>\r\n        </div>\r\n      </nz-tab>\r\n    </nz-tabset>\r\n  </nz-content>\r\n</nz-layout>\r\n<div class=\"hide-btn left-show\" (click)=\"btnChange(true)\" *ngIf=\"!hideBtn\"><i nz-icon nzType=\"left\" nzTheme=\"outline\"></i></div>\r\n<div class=\"hide-btn left-hide\" *ngIf=\"hideBtn\" (click)=\"btnChange(false)\"><i nz-icon nzType=\"right\"></i></div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ViewChildren,\r\n  QueryList,\r\n  OnChanges,\r\n  SimpleChange\r\n} from '@angular/core';\r\nimport {NzMessageService} from 'ng-zorro-antd/message';\r\nimport {SectionTaskItemComponent} from './section-task-item/section-task-item.component';\r\nimport {MyClassService} from 'src/app/busi-services/my-class.service';\r\nimport {LocalStorageUtil} from 'core/utils/localstorage.util';\r\n\r\n@Component({\r\n  selector: 'app-task-list',\r\n  templateUrl: './task-list.component.html',\r\n  styleUrls: ['./task-list.component.less']\r\n})\r\nexport class TaskListComponent implements OnInit, OnChanges {\r\n  // @Input() hideBtn: boolean\r\n  @Input() refreshList: boolean;\r\n  @Output() hideBtnChange = new EventEmitter<any>();\r\n  @Output() taskItemChanges = new EventEmitter<any>();\r\n\r\n  refresh = false;\r\n  isLoading = false;\r\n  // 当前高亮来源\r\n  tabIdx = 0;\r\n  hideBtn = false;\r\n  // 任务类型\r\n  typeList = ['课前', '课中', '课后', '资料'];\r\n  // 任务数据\r\n  onTaskList: any[] = [];\r\n  allTaskList = [];\r\n\r\n  // 课次id\r\n  lessonTimeId = '';\r\n  courseTimeId = '';\r\n\r\n  urlParams: any = {};\r\n\r\n  selectedId = '';\r\n\r\n  curTask: any = {};\r\n\r\n  @ViewChildren(SectionTaskItemComponent) items: QueryList<SectionTaskItemComponent>;\r\n\r\n  constructor(\r\n    private message: NzMessageService,\r\n    private myClassService: MyClassService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.urlParams = LocalStorageUtil.getBaseParams();\r\n    this.selectedId = LocalStorageUtil.getDefaultTask(); // 默认任务\r\n    this.onTaskList = [...(this.urlParams.OutlineData.mainFileTaskList || []), ...(this.urlParams.OutlineData.taskList || [])]; // 所有任务\r\n  }\r\n\r\n  ngOnChanges(chngs: { [key: string]: SimpleChange }) {\r\n    if (chngs.refreshList) {\r\n      if (this.refreshList === this.refresh) {\r\n        return false;\r\n      }\r\n      this.refresh = this.refreshList;\r\n      this.onTaskList[this.curTask.taskForm] = [];\r\n      this.getStudentTaskList(this.curTask.taskForm); // 获取任务列表\r\n    }\r\n  }\r\n\r\n  btnChange(hide) {\r\n    this.hideBtn = hide;\r\n    this.hideBtnChange.emit();\r\n  }\r\n\r\n  // 获取学生任务\r\n  getStudentTaskList(taskForm = null, implicit = false) { // implicit 隐式刷新\r\n    if (!implicit) {\r\n      this.isLoading = true;\r\n    }\r\n    const params = {\r\n      orderDetailId: this.urlParams.orderDetailId, // 课包id\r\n      chapterId: this.urlParams.chapterId // 章id\r\n    };\r\n    this.myClassService.getTask(params).subscribe((res) => {\r\n      if (res.status === 200) {\r\n        const section = res.data.filter((item) => {\r\n          return item.sectionId === this.urlParams.OutlineData.sectionId;\r\n        })[0];\r\n        // 更新缓存\r\n        this.urlParams.OutlineData.mainFileTaskList = section.mainFileTaskList;\r\n        this.urlParams.OutlineData.taskList = section.taskList;\r\n        LocalStorageUtil.putBaseParams(this.urlParams);\r\n        const sectionTastData = [...section.mainFileTaskList, ...section.taskList];\r\n        this.classifyData(sectionTastData);\r\n      }\r\n    });\r\n  }\r\n\r\n  classifyData(data: any[]) {\r\n    this.onTaskList = data;\r\n    if (this.selectedId) {\r\n      const selectedTask = this.onTaskList.filter(el => this.selectedId === el.id);\r\n      if (selectedTask[0]) {\r\n        this.setSelect(selectedTask[0], true);\r\n      } else {\r\n        LocalStorageUtil.setDefaultTask('');\r\n        this.taskItemChanges.emit({\r\n          taskType: '-999',\r\n          selectedItem: {}\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  // 左侧任务选择\r\n  taskItemChange(taskItem: any) {\r\n    if (taskItem.id === this.selectedId) {\r\n      return false;\r\n    }\r\n    this.selectedId = taskItem.id;\r\n    LocalStorageUtil.setDefaultTask(this.selectedId);\r\n    this.setSelect(taskItem, false);\r\n  }\r\n\r\n  // 任务选择\r\n  setSelect(taskItem: any, isJump: boolean) {\r\n    this.curTask = taskItem;\r\n    this.taskItemChanges.emit(taskItem);\r\n    if (isJump) {\r\n      setTimeout(() => {\r\n        this.getview(this.selectedId);\r\n      }, 600);\r\n    }\r\n  }\r\n\r\n  getview(id: string) {\r\n    const idx = this.onTaskList.findIndex(el => id === el.id);\r\n    if (idx === -1) {\r\n      return false;\r\n    }\r\n    const results: SectionTaskItemComponent[] = this.items['_results'];\r\n    const ele = results[idx];\r\n    ele.scrollToView();\r\n  }\r\n}\r\n","<nz-layout style=\"width: 100%;height:100%;\" *ngIf=\"isShow\">\r\n  <nz-header class=\"section-header border\">\r\n    <div class=\"package-name\">\r\n      <span class=\"section-header-title\">{{ data.taskType === '4' ? data.title : data?.taskName }}</span>\r\n    </div>\r\n    <div class=\"section-header-status\"  *ngIf=\"canRead\">\r\n      有效阅读30秒以上（{{readTime}}s）\r\n    </div>\r\n    <div class=\"padding-right\">\r\n      <button nz-button nzType=\"link\" class=\"gray-text\" [nzSize]=\"'small'\" *ngIf=\"data.downloadType === '2'\" (click)=\"download()\">\r\n        <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n        下载到本地\r\n      </button>\r\n      <button *ngIf=\"data.taskType === '0'\" nz-button nz-popover nzType=\"link\" class=\"gray-text\" [nzSize]=\"'small'\" nzPopoverTitle=\"阅读任务说明\" [nzPopoverContent]=\"contentTemplate\" nzPopoverPlacement=\"leftBottom\">\r\n        <i nz-icon nzType=\"question-circle\" nzTheme=\"outline\"></i>\r\n        任务说明\r\n      </button>\r\n      <ng-template #contentTemplate>\r\n        <div class=\"score-explain\" style=\"width: 300px;\">\r\n          <p>多次查看重新计时；</p>\r\n          <p>结束时间是当天的23:59自动结束</p>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n  </nz-header>\r\n  <div class=\"wrapper\" style=\"height: calc(100% - 70px)\">\r\n    <ng-container>\r\n      <iframe [src]=\"url\" style=\"width: 100%;height: 100%;border: none;\"></iframe>\r\n    </ng-container>\r\n  </div>\r\n</nz-layout>\r\n\r\n","import { Component, OnInit, Input, AfterViewInit, Output, EventEmitter, OnDestroy, OnChanges, SimpleChange} from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { environment } from 'src/environments/environment';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { NzNotificationService } from 'ng-zorro-antd/notification';\r\nimport {AliOssService} from 'core/services/ali-oss.service';\r\nimport {TaskCenterService} from 'core/services/task-center.service';\r\n\r\n@Component({\r\n  selector: 'app-read-task',\r\n  templateUrl: './read-task.component.html',\r\n  styleUrls: ['./read-task.component.less'],\r\n})\r\nexport class ReadTaskComponent implements OnInit, OnChanges, OnDestroy {\r\n\r\n  @Input() data: any;\r\n  @Input() id = '';\r\n  @Output() finishTaskCallBack = new EventEmitter<any>();\r\n  isShow = false;\r\n  url: any;\r\n  isLoading = false;\r\n  timerHandler: any = null;\r\n  readTime = 0;\r\n  canRead = false;\r\n  attachmentPath = '';\r\n  constructor(\r\n    private message: NzMessageService,\r\n    private sanitizer: DomSanitizer,\r\n    private taskCenterService: TaskCenterService,\r\n    private notificationService: NzNotificationService,\r\n    private aliOss: AliOssService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnChanges(changes: { [key: string]: SimpleChange }) {\r\n    if (changes.id && this.id) {\r\n      this.getUrl();\r\n    }\r\n  }\r\n\r\n  getUrl() {\r\n    this.isShow = false; // 阅读库 + 保利威\r\n    this.attachmentPath = this.data.taskType === '0' ? this.data.attachmentPath : this.data.resourceUrl;\r\n    const tmpUrl = environment.ow365 + environment.OSS_URL + this.attachmentPath;\r\n    const baoliUrl = environment.ow365.indexOf('?') === -1 ?\r\n      environment.ow365 + '?polywayId=' + this.attachmentPath :\r\n      environment.ow365.slice(0, environment.ow365.indexOf('?')) + '?polywayId=' + this.attachmentPath;\r\n    const url = this.data.sourceType === '2' ? baoliUrl : tmpUrl;\r\n    this.url = this.sanitizer.bypassSecurityTrustResourceUrl(url);\r\n    this.readTime = 0;\r\n    if ( this.timerHandler ) {\r\n      clearTimeout(this.timerHandler);\r\n    }\r\n    this.clearReadTimeOut();\r\n    this.canRead = this.showReadTime(this.data);\r\n    this.isShow = true;\r\n  }\r\n\r\n  // 判断能否开启重做\r\n  ckeckCanRedo(endTime) {\r\n    const nowTime = new Date().getTime();\r\n    return  nowTime - endTime < 0;\r\n  }\r\n\r\n  showReadTime(data) {\r\n    if ( data.taskType === '4' ) {\r\n      return false;\r\n    }\r\n    if (data.taskFinish === '1') {  // 任务结束\r\n      return data.status === '2' && this.ckeckCanRedo(data.endTime);\r\n    } else {\r\n      return data.status === '0';\r\n    }\r\n  }\r\n\r\n  clearReadTimeOut() {\r\n    this.timerHandler = setInterval(() => {\r\n      this.readTime = this.readTime + 1;\r\n      if (this.showReadTime(this.data) && this.readTime >= 30) {\r\n        // this.finishReadTask();\r\n        clearTimeout(this.timerHandler);\r\n        this.readTime = 0;\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  // 阅读任务完成\r\n  finishReadTask() {\r\n    this.isLoading = true;\r\n    this.taskCenterService.startReadingTask(this.data.busId).subscribe(res => {\r\n      this.isLoading = false;\r\n      if (res.status === 201) {\r\n        const modal = this.notificationService.success(\r\n          '任务已完成', ''\r\n        );\r\n        this.data.status = '1';\r\n        this.data.exp = this.data.totalExp;\r\n        this.finishTaskCallBack.emit(this.data);\r\n      } else {\r\n        this.message.error(res.message);\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.timerHandler) {\r\n      clearTimeout(this.timerHandler);\r\n      this.readTime = 0;\r\n    }\r\n  }\r\n\r\n  download() {\r\n    const filename = this.data.taskType === '4' ? this.data.title : this.data?.taskName;\r\n    this.aliOss.download({attachmentName: filename, ...this.data});\r\n  }\r\n\r\n}\r\n","import {Component, forwardRef, Injector, Input, OnInit} from '@angular/core';\r\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {NzUploadChangeParam, NzUploadFile, NzUploadXHRArgs} from 'ng-zorro-antd/upload';\r\nimport {NzMessageService} from 'ng-zorro-antd/message';\r\nimport {environment} from 'src/environments/environment';\r\nimport {isNullOrUndefined} from 'util';\r\nimport {AliOssService} from 'core/services/ali-oss.service';\r\nimport {HttpService} from 'core/services/http.service';\r\nimport {ToolsUtil} from 'core/utils/tools.util';\r\nimport {UploadDir} from 'core/utils/uploadDir';\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'qkc-upload',\r\n  templateUrl: './qkc-upload.component.html',\r\n  styleUrls: ['./qkc-upload.component.less'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => QkcUploadComponent),\r\n      multi: true\r\n    },\r\n  ]\r\n})\r\nexport class QkcUploadComponent implements OnInit, ControlValueAccessor {\r\n\r\n  @Input() acceptType = '';\r\n\r\n  @Input() limit = 0;\r\n\r\n  @Input() uploadDir = '';\r\n\r\n  @Input() materialType = 'case';\r\n\r\n  @Input() listType: 'text' | 'picture-card' | 'picture' | '' = 'text';\r\n\r\n  @Input() isDrag = false;\r\n\r\n  @Input() disabled = false;\r\n\r\n  uploadData: any = {};\r\n\r\n  imageList: NzUploadFile[] = [];\r\n\r\n  showUploadList = {\r\n    showPreviewIcon: true,\r\n    showRemoveIcon: true,\r\n    // hidePreviewIconInNonImage: true\r\n    showDownloadIcon: false\r\n  };\r\n\r\n  // showUploadList = true;\r\n\r\n  previewPath: string | undefined = '';\r\n\r\n  previewVisible = false;\r\n\r\n  private onModelChange = (_: any) => { };\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private httpClient: HttpClient,\r\n    private aliOssService: AliOssService\r\n    ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  private get httpService(): HttpService {\r\n    return this.injector.get(HttpService);\r\n  }\r\n\r\n  private get mesService(): NzMessageService {\r\n    return this.injector.get(NzMessageService);\r\n  }\r\n\r\n  writeValue(fileList: { name?: string, path: string }[]): void {\r\n    if (isNullOrUndefined(fileList)) {\r\n      this.imageList = [];\r\n    } else {\r\n      this.imageList = fileList.map(ele => {\r\n        return {\r\n          uid: this.createRandomNum(),\r\n          name: ele.name,\r\n          filename: ele.name ? ele.name : '启课程.jpg',\r\n          path: ele.path,\r\n          url: environment.OSS_URL + ele.path,\r\n          thumbUrl: ToolsUtil.getThumbUrl(ele.path),\r\n          lastModifiedDate: new Date(),\r\n          size: 1000,\r\n          status: 'done',\r\n          type: ''\r\n        } as NzUploadFile;\r\n      });\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n  }\r\n\r\n  setDisabledState?(isDisabled: boolean): void {\r\n\r\n  }\r\n\r\n  createRandomNum(): string {\r\n    return `qkc${new Date().getTime()}${Math.random() * 1000 + 1}`;\r\n  }\r\n\r\n  onChange(params: NzUploadChangeParam) {\r\n    if (params.type === 'success') {\r\n      this.imageList = params.fileList.map(file => {\r\n        if (file.uid === params.file.uid) {\r\n          if (ToolsUtil.isPicture(file.name.toLowerCase())) {\r\n            file.url = !isNullOrUndefined(file.originFileObj) ? environment.OSS_URL + file.originFileObj['key'] : file.path;\r\n          } else {\r\n            file.thumbUrl = this.getFileTyeIcon(file.type, file.name);\r\n            file.url = !isNullOrUndefined(file.originFileObj) ? environment.OSS_URL + file.originFileObj['key'] : file.path;\r\n          }\r\n        }\r\n        return file;\r\n      });\r\n\r\n      const data = this.formatNgModel(this.imageList);\r\n      this.onModelChange(data);\r\n    }\r\n  }\r\n\r\n  getFileTyeIcon(fileType: string, fileName: string) {\r\n    let thumbUrl = '';\r\n    if (fileType === 'application/msword' ||\r\n      fileType === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document') {\r\n      thumbUrl = environment.OSS_URL + '/common/doc.png';\r\n    } else if (fileType === 'application/vnd.ms-excel' ||\r\n      fileType === 'application/x-xls' ||\r\n      fileType === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet') {\r\n      thumbUrl = environment.OSS_URL + '/common/excel.png';\r\n    } else if (fileType === 'application/x-ppt' ||\r\n      fileType === 'application/vnd.ms-powerpoint' ||\r\n      fileType === 'application/vnd.openxmlformats-officedocument.presentationml.presentation') {\r\n      thumbUrl = environment.OSS_URL + '/common/ppt.png';\r\n    } else if (fileType === 'application/pdf') {\r\n      thumbUrl = environment.OSS_URL + '/common/pdf.png';\r\n    }\r\n\r\n    if (thumbUrl === '') {\r\n      console.log('找不到type：', fileType, fileName);\r\n      thumbUrl = ToolsUtil.getThumbUrl(fileName);\r\n      if (thumbUrl === '') {\r\n        throw new Error('找不到文件类型icon');\r\n      }\r\n    }\r\n\r\n    return thumbUrl;\r\n  }\r\n\r\n  handlePreview = (file: NzUploadFile) => {\r\n    this.previewPath = file.url || file.thumbUrl;\r\n    this.previewVisible = true;\r\n  }\r\n\r\n  remove = (file: NzUploadFile) => {\r\n    this.imageList = this.imageList.filter(ele => ele.uid !== file.uid);\r\n    const data = this.formatNgModel(this.imageList);\r\n    this.onModelChange(data);\r\n  }\r\n\r\n  isPermitUpload(filename: string): boolean {\r\n    const ext = ToolsUtil.getExt(filename);\r\n    return this.acceptType.indexOf(ext) >= 0;\r\n  }\r\n\r\n  beforeUpload = (file: NzUploadFile, fileList: NzUploadFile[]) => {\r\n    return new Observable<boolean>(observe => {\r\n\r\n      if (!this.isPermitUpload(file.name)) {\r\n        this.mesService.error('请上传正确的文件格式');\r\n        observe.next(false);\r\n        return;\r\n      }\r\n\r\n      if (this.imageList.length >= this.limit) {\r\n        this.mesService.error('资源只能上传一个，请删除再上传!');\r\n        observe.next(false);\r\n        return;\r\n      }\r\n      const fileType = ToolsUtil.getFileType(file.name);\r\n      let maxSize = 20;\r\n\r\n      if ( fileType === 'video' ) {\r\n        maxSize = 200;\r\n      }\r\n\r\n      if ( fileType === 'ppt' || fileType === 'pptx' ) {\r\n        maxSize = 500;\r\n      }\r\n\r\n      const isLt2M = file.size / 1024 / 1024 < maxSize;\r\n\r\n      if (!isLt2M) {\r\n        this.mesService.error('文件大小超出限制，请重新上传');\r\n        observe.next(false);\r\n        return;\r\n      }\r\n\r\n      let uploadDir = '';\r\n      if (this.materialType === 'other') {\r\n        uploadDir = fileType === 'video' ? UploadDir.courseware_video : UploadDir.courseware_doc;\r\n      } else {\r\n        if (fileType === 'video') {\r\n          uploadDir = UploadDir.courseware_video;\r\n        } else if (fileType === 'audio') {\r\n          uploadDir = UploadDir.courseware_case_audio;\r\n        } else if (fileType === 'pdf' || fileType === 'word' || fileType === 'ppt' || fileType === 'excel' ) {\r\n          uploadDir = UploadDir.courseware_case_doc;\r\n        } else {\r\n          uploadDir = UploadDir.courseware_case_static;\r\n        }\r\n      }\r\n      this.uploadDir = uploadDir;\r\n\r\n      observe.next(true);\r\n      observe.complete();\r\n    });\r\n\r\n  }\r\n\r\n  customReq = (uploadXhrArgs: NzUploadXHRArgs) => {\r\n    // @ts-ignore\r\n    return this.aliOssService.upload2AliOSS(uploadXhrArgs, this.uploadDir);\r\n  }\r\n\r\n  formatNgModel(uploadFileArr: NzUploadFile[]) {\r\n    return uploadFileArr.map(ele => {\r\n      return { name: ele.name, path: !isNullOrUndefined(ele.originFileObj) ? ele.originFileObj['key'] : ele.path };\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"clearfix\">\r\n  <nz-upload nzAction=\"\" [nzType]=\"isDrag ? 'drag' : null\" [nzListType]=\"listType\"\r\n    [(nzFileList)]=\"imageList\"\r\n    nzShowButton=\"{{ limit === 0 ? true : imageList.length < limit }}\"\r\n    [nzDisabled]=\"disabled\"\r\n    [nzShowUploadList]=\"showUploadList\" [nzPreview]=\"handlePreview\"\r\n    [nzRemove]=\"remove\" [nzBeforeUpload]=\"beforeUpload\"\r\n    [nzCustomRequest]=\"customReq\" (nzChange)=\"onChange($event)\">\r\n    <ng-content></ng-content>\r\n  </nz-upload>\r\n\r\n  <!-- <div style=\"margin-top:10px;\">\r\n    <div *ngFor=\"let item of imageList\" class=\"upload-list\">\r\n      <i class=\"close\" nz-icon nzType=\"close\" nzTheme=\"outline\" (click)=\"remove(item)\"></i>\r\n      <p><i style=\"font-size: 14px;\" nz-icon nzType=\"link\" nzTheme=\"outline\"></i>&nbsp;{{ item.name }}</p>\r\n      <ng-container *ngIf=\"item.status==='uploading'\">\r\n          <nz-progress nzStrokeWidth=\"3\"  [nzPercent]=\"item.percent\" nzSize=\"small\"></nz-progress>\r\n      </ng-container>\r\n    </div>\r\n  </div> -->\r\n\r\n\r\n  <!-- <nz-modal [nzVisible]=\"previewVisible\" [nzContent]=\"modalContent\"\r\n    [nzFooter]=\"null\"\r\n    (nzOnCancel)=\"previewVisible= false\">\r\n    <ng-template #modalContent>\r\n      <img [src]=\"previewPath\" [ngStyle]=\"{ width: '100%' }\" />\r\n    </ng-template>\r\n  </nz-modal> -->\r\n\r\n  <qkc-attachment-show-modal \r\n    [(isShow)]=\"previewVisible\"\r\n    [url]=\"previewPath\">\r\n</qkc-attachment-show-modal>\r\n\r\n</div>","<nz-layout style=\"width: 100%;height:100%;\" *ngIf=\"data\">\r\n  <nz-header class=\"section-header border\">\r\n    <div class=\"package-name\">\r\n      <span class=\"section-header-title\">{{ data?.name }}</span>\r\n    </div>\r\n    <div class=\"section-header-btn padding-right\">\r\n      <button nz-button nzType=\"link\" class=\"gray-text\" [nzSize]=\"'small'\" *ngIf=\"data.downloadType === '2'\" (click)=\"download()\">\r\n        <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n        下载到本地\r\n      </button>\r\n\r\n      <button nz-button nz-popover nzType=\"link\" [nzSize]=\"'small'\" class=\"gray-text\"  nzPopoverTitle=\"案例任务说明\"\r\n        [nzPopoverContent]=\"contentTemplate\" nzPopoverPlacement=\"leftBottom\">\r\n        <i nz-icon nzType=\"question-circle\" nzTheme=\"outline\"></i>\r\n        任务说明\r\n      </button>\r\n      <ng-template #contentTemplate>\r\n        <div class=\"score-explain\" style=\"width: 400px;\">\r\n          <p>作答可以回复文字，并上传图片、视频和word/excel/ppt/pdf等文件；</p>\r\n          <p>案例结束后由教师给每一位学生评价</p>\r\n          <p>在结束前及时完成作答，结束时间是当天的23:59自动结束</p>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n  </nz-header>\r\n  <nz-layout class=\"white-bg\" style=\"overflow: hidden;height: calc(100% - 70px);\">\r\n    <nz-content class=\"full-height white-bg body\" style=\"padding-left: 18px;\">\r\n\r\n      <div class=\"middle\">\r\n        <div class=\"material-section\">\r\n          <p class=\"middle-title\"><span>案例背景</span> </p>\r\n          <div class=\"middle-content\" [innerHtml]=\"data?.background\"></div>\r\n        </div>\r\n\r\n        <div class=\"material-section\">\r\n          <p class=\"middle-title\"><span>案例解析</span></p>\r\n          <div class=\"middle-content\" [innerHtml]=\"data?.analysis\"></div>\r\n        </div>\r\n\r\n        <div class=\"material-section attachment-block\">\r\n          <span class=\"middle-title\"><span>附件</span> </span>\r\n          <div class=\"middle-content\">\r\n            <div class=\"sider-attachment\">\r\n              <ng-container *ngFor=\"let item of data?.caseAttch\">\r\n                <div class=\"attach-block\" (click)=\"previewAttachment(item)\">\r\n                  <div class=\"img-block\">\r\n                    <img [src]=\"getPreview(item)\" alt=\"thumbnail\">\r\n                  </div>\r\n                  <p [title]=\"item.attachmentName\">{{ item.attachmentName }}</p>\r\n                </div>\r\n              </ng-container>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </nz-content>\r\n    <nz-sider [nzWidth]=\"500\" class=\"sider full-height white-bg right \" style=\"padding: 0;\">\r\n      <div class=\"sider-content full-height white-bg\">\r\n        <div class=\"sider-header\">我的发言</div>\r\n        <!-- 已结束 -->\r\n        <ng-container *ngIf=\"isAnswerAnalysis\">\r\n          <ng-container *ngIf=\"data?.speakwallSingle.length > 0\">\r\n            <pre class=\"sider-content\" [innerHTML]=\"data?.speakwallSingle[0].content\"></pre>\r\n            <div class=\"sider-attachment attachment\">\r\n              <ng-container *ngFor=\"let attachment of data?.speakwallSingle[0].fileAttch\">\r\n                <div class=\"attach-block\" (click)=\"previewAttachment(attachment)\">\r\n                  <div class=\"img-block\">\r\n                      <img *ngIf=\"attachment?.isPic\" [src]=\"attachment?.attachmentPath\" alt=\"thumbnail\">\r\n                      <img *ngIf=\"attachment?.thumbnail\" [src]=\"attachment?.thumbnail\" alt=\"thumbnail\">\r\n                  </div>\r\n                  <p [title]=\"attachment.attachmentName\">{{ attachment.attachmentName }}</p>\r\n                </div>\r\n              </ng-container>\r\n            </div>\r\n          </ng-container>\r\n          <div class=\"sider-button\">\r\n            <button nz-button nzType=\"primary\" [nzSize]=\"'large'\" nzShape=\"round\" nzBlock (click)=\"gotoSpeakWall()\">前往发言墙</button>\r\n          </div>\r\n        </ng-container>\r\n        <!-- 未完成 -->\r\n        <ng-container *ngIf=\"!isAnswerAnalysis\">\r\n          <div  class=\"sider-content\">\r\n            <textarea rows=\"15\" nz-input [(ngModel)]=\"speakContent\" placeholder=\"请输入内容\"></textarea>\r\n          </div>\r\n          <div class=\"sider-attachment attachment\">\r\n            <qkc-upload\r\n              acceptType=\"jpg,jpeg,png,doc,docx,xls,xlsx,ppt,pptx,pdf,mp4\"\r\n              limit=\"8\"\r\n              uploadDir=\"course\"\r\n              listType=\"picture-card\"\r\n              [(ngModel)]=\"fileList\">\r\n              <i nz-icon nzType=\"plus\"></i>\r\n              <div class=\"ant-upload-text\">上传</div>\r\n            </qkc-upload>\r\n          </div>\r\n        </ng-container>\r\n        <div class=\"sider-button\">\r\n          <button nz-button nzType=\"primary\" [nzSize]=\"'large'\" [disabled]=\"submitDisabled\" nzShape=\"round\" [nzLoading]=\"isSaveLoading\" nzBlock >提交</button>\r\n        </div>\r\n      </div>\r\n    </nz-sider>\r\n  </nz-layout>\r\n</nz-layout>\r\n\r\n\r\n<nz-modal [(nzVisible)]=\"isVisible\" [nzClassName]=\"'redo-modal'\" [nzWidth]=\"505\" [nzTitle]=\"''\" [nzMaskClosable]=\"false\" (nzOnCancel)=\"isVisible = false\">\r\n  <div class=\"moadl-container\">\r\n    <p class=\"large-title\">重做提交</p>\r\n    <div class=\"mask-content\">\r\n      <p class=\"read-mask\">*重做的案例提交回复后不能修改</p>\r\n    </div>\r\n\r\n  </div>\r\n  <div *nzModalFooter>\r\n    <div class=\"redo-btn\">\r\n      <button nz-button nzType=\"primary\" nzShape=\"round\" nzBlock (click)=\"saveSpeakWall()\" >确定</button>\r\n    </div>\r\n  </div>\r\n</nz-modal>\r\n\r\n\r\n\r\n<qkc-attachment-show-modal\r\n  [(isShow)]=\"isShow\"\r\n  [url]=\"curShowItem?.attachmentPath\">\r\n</qkc-attachment-show-modal>\r\n","import {Component, OnInit, Output, EventEmitter, Input, SimpleChange, OnChanges} from '@angular/core';\r\nimport {environment} from 'src/environments/environment';\r\nimport {NzMessageService} from 'ng-zorro-antd/message';\r\nimport {AliOssService} from 'core/services/ali-oss.service';\r\nimport {TaskCenterService} from 'core/services/task-center.service';\r\nimport {ToolsUtil} from 'core/utils/tools.util';\r\nimport {MaterialLibraryService} from '@app/busi-services';\r\nimport {getFileThumbUrl} from 'core/utils/common';\r\n\r\n@Component({\r\n  selector: 'app-case-task',\r\n  templateUrl: './case-task.component.html',\r\n  styleUrls: ['./case-task.component.less'],\r\n})\r\nexport class CaseTaskComponent implements OnInit, OnChanges {\r\n\r\n  @Input() data: any = {};\r\n  @Input() id = '';\r\n  @Output() finishTaskCallBack = new EventEmitter<any>();\r\n  @Output() pageChange = new EventEmitter<number>();\r\n  // 附件\r\n  curShowItem: any;\r\n  // 附件展示\r\n  isShow = false;\r\n\r\n  // 是否是重做\r\n  isRedo = false;\r\n\r\n  // 是否展示案例解析\r\n  isAnswerAnalysis = false;\r\n\r\n  // 保存按钮loading\r\n  isSaveLoading = false;\r\n\r\n  // 我的发言\r\n  speakContent = '';\r\n  speakContentId = '';\r\n\r\n  // 附件列表\r\n  fileList = [];\r\n  getFileType = ToolsUtil.getFileType;\r\n\r\n  // 重做提交查询\r\n  isVisible = false;\r\n\r\n  constructor(\r\n    private taskCenterService: TaskCenterService,\r\n    private nzMsg: NzMessageService,\r\n    private materialLibraryService: MaterialLibraryService,\r\n    private aliOss: AliOssService\r\n  ) {\r\n  }\r\n\r\n  get submitDisabled() {\r\n    return this.speakContent === '' && this.fileList.length === 0;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initData();\r\n  }\r\n\r\n  ngOnChanges(changes: { [key: string]: SimpleChange }) {\r\n    if (changes.id && this.id) {\r\n      this.initData();\r\n    }\r\n  }\r\n\r\n  isPicture(ext: string) {\r\n    const picExt = 'jpg,jpeg,png';\r\n    return picExt.indexOf(ext) > -1;\r\n  }\r\n\r\n  isVideo(ext: string) {\r\n    return /mp4|m2v|mkv|rmvb|wmv|avi|flv|mov/.test(ext);\r\n  }\r\n\r\n  getPreview(item) {\r\n    const attachmentPath = item.attachmentPath;\r\n    const ext = ToolsUtil.getExt(attachmentPath);\r\n    if (this.isPicture(ext)) {\r\n      if (attachmentPath.indexOf('http') > -1) {\r\n        return attachmentPath + '?x-oss-process=image/resize,m_fill,h_50,w_50';\r\n      } else {\r\n        return environment.OSS_URL + attachmentPath + '?x-oss-process=image/resize,m_fill,h_50,w_50';\r\n      }\r\n    } else {\r\n      return getFileThumbUrl(ext);\r\n    }\r\n  }\r\n\r\n  initData() {\r\n    this.materialLibraryService.getResourceDetail(this.data.resourceId, '104').subscribe((res) => {\r\n      if (res.status === 200) {\r\n        const attchArr: any[] = res.data.attachment;\r\n        const audioInfo = attchArr.find(el => el.aattachmentExt === 'mp3');\r\n        if (audioInfo) {\r\n          audioInfo.attachmentPath = environment.OSS_URL + audioInfo.attachmentPath;\r\n        }\r\n        const caseAttch = attchArr.filter(el => el.aattachmentExt !== 'mp3').map(el => {\r\n          const isPic = this.isPicture(el.aattachmentExt);\r\n          const isVideo = this.isVideo(el.aattachmentExt);\r\n          const path = environment.OSS_URL + el.attachmentPath;\r\n          const attachmentPath = (isPic || isVideo) ? path : environment.ow365 + path;\r\n          const thumbnail = getFileThumbUrl(el.aattachmentExt);\r\n          return {...el, attachmentPath, isPic, isVideo, thumbnail};\r\n        });\r\n        res.data.audioInfo = audioInfo;\r\n        res.data.caseAttch = caseAttch;\r\n        this.data = Object.assign({}, this.data, res.data);\r\n      }\r\n    });\r\n    // if (!this.data) {\r\n    //   return;\r\n    // }\r\n    // this.isRedo = this.data.status === '2' && this.ckeckCanRedo(this.data.endTime);\r\n    // this.isAnswerAnalysis = this.data.taskFinish === '1' && !this.isRedo;\r\n    // this.fileList = [];\r\n    // if (this.data.speakwallSingle && this.data.speakwallSingle.length > 0) {\r\n    //   const speakData = this.data.speakwallSingle[0];\r\n    //   this.speakContent = speakData.content;\r\n    //   this.speakContentId = speakData.id;\r\n    // } else {\r\n    //   this.speakContent = '';\r\n    //   this.speakContentId = '';\r\n    // }\r\n    // // 附件初始化\r\n    // this.initilizeAttachmentData();\r\n  }\r\n\r\n  // 判断能否开启重做\r\n  ckeckCanRedo(endTime) {\r\n    const nowTime = new Date().getTime();\r\n    return nowTime - endTime < 0;\r\n  }\r\n\r\n  initilizeAttachmentData() {\r\n    const attchArr: any[] = this.data.attachmentInfo;\r\n    if (Array.isArray(attchArr)) {\r\n      const caseAttch = attchArr.filter(el => el.aattachmentExt !== 'mp3').map(el => {\r\n        const attachmentPath = environment.OSS_URL + el.attachmentPath;\r\n        el.showPath = ToolsUtil.getThumbUrl(el.attachmentPath);\r\n        return {...el, attachmentPath};\r\n      });\r\n      this.data.caseAttch = caseAttch;\r\n    }\r\n\r\n    // 个人发言的附件\r\n    if ((this.data.speakwallSingle instanceof Array) &&\r\n      this.data.speakwallSingle.length > 0 &&\r\n      (this.data.speakwallSingle[0].children instanceof Array)) {\r\n\r\n      this.fileList = this.data.speakwallSingle[0].children.map(item => {\r\n        return {\r\n          name: item.attachmentName || item.attachmentPath,\r\n          path: item.attachmentPath\r\n        };\r\n      });\r\n      const fileAttch = this.data.speakwallSingle[0].children.map(el => {\r\n        const attachmentPath = environment.OSS_URL + el.attachmentPath;\r\n        el.showPath = ToolsUtil.getThumbUrl(el.attachmentPath);\r\n        return {...el, attachmentPath};\r\n      });\r\n\r\n      this.data.speakwallSingle[0].fileAttch = fileAttch;\r\n    }\r\n  }\r\n\r\n  previewAttachment(item: any) {\r\n    this.curShowItem = item;\r\n    this.isShow = true;\r\n  }\r\n\r\n  gotoSpeakWall() {\r\n    this.pageChange.emit(1);\r\n  }\r\n\r\n  checkSubmit() {\r\n    if (this.speakContent === '' && this.fileList.length === 0) {\r\n      return false;\r\n    }\r\n    this.isRedo ? this.isVisible = true : this.saveSpeakWall();\r\n  }\r\n\r\n  saveSpeakWall() {\r\n    if (this.speakContent === '' && this.fileList.length === 0) {\r\n      return false;\r\n    }\r\n    const data = this.getPostData();\r\n    this.isSaveLoading = true;\r\n    this.taskCenterService.saveStuSpeakwall(data).subscribe(res => {\r\n      this.isSaveLoading = false;\r\n      if (res.status === 201) {\r\n        this.nzMsg.success('保存成功！');\r\n        this.finishTaskCallBack.emit(this.data);\r\n        this.speakContentId = res.data.id;\r\n        this.isVisible = false;\r\n      } else {\r\n        this.nzMsg.error(res.message);\r\n      }\r\n    });\r\n  }\r\n\r\n  getPostData() {\r\n    const postData = {\r\n      id: this.speakContentId,\r\n      studentGroupId: this.data.studentGroupId ? this.data.studentGroupId : '',\r\n      courseTaskId: this.data.busId,\r\n      content: this.speakContent,\r\n      resourceId: this.data.resourceId,\r\n      isLeader: this.data.isLeader ? this.data.isLeader : '',\r\n      speakType: this.data.speakType,\r\n      speakwallAttachment: [],\r\n      redo: this.isRedo ? 1 : 0,\r\n      studentTaskId: this.data.id || this.data.studentTaskId\r\n    };\r\n    this.fileList.forEach(item => {\r\n      const attachmentExt = item.path.substring(item.path.lastIndexOf('.'), item.path.length);\r\n      postData.speakwallAttachment.push({\r\n        attachmentName: item.name,\r\n        attachmentPath: item.path,\r\n        attachmentExt\r\n      });\r\n    });\r\n    return postData;\r\n  }\r\n\r\n  download() {\r\n    const attachments = (this.data.attachmentInfo as any[])\r\n      .filter(ele => ele.aattachmentExt !== 'mp3')\r\n      .map(file => {\r\n        return {\r\n          filename: file.attachmentName.indexOf(file.aattachmentExt) !== -1\r\n            ?\r\n            file.attachmentName\r\n            :\r\n            `${file.attachmentName}.${file.aattachmentExt}`,\r\n          path: file.attachmentPath\r\n        };\r\n      });\r\n    this.aliOss.patchDownloadFileStudent(attachments).subscribe(\r\n      res => {\r\n      },\r\n      err => {\r\n        this.nzMsg.error(err);\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n}\r\n","<nz-layout class=\"l-main full-height\">\r\n  <nz-spin class=\"spin\" nzSimple  nzTip=\"加载中...\" [nzSpinning]=\"isLoading\"></nz-spin>\r\n  <ng-container *ngIf=\"!isLoading\" class=\"full-height\">\r\n    <nz-header class=\"section-header border\">\r\n      <div class=\"package-name\">\r\n        <span class=\"section-header-title\">{{ taskData?.taskName }}</span>\r\n      </div>\r\n\r\n      <div class=\"section-header-btn padding-right\">\r\n        <button nz-button nzType=\"link\" class=\"gray-text\" [nzSize]=\"'small'\" (click)=\"getAllSpeak()\">\r\n          刷新\r\n        </button>\r\n        <button nz-button nzType=\"link\" class=\"gray-text\" [nzSize]=\"'small'\" (click)=\"gotoCase()\">\r\n          返回\r\n        </button>\r\n      </div>\r\n    </nz-header>\r\n\r\n    <nz-layout class=\"white-bg\" style=\"overflow: hidden;height: calc(100% - 70px)\">\r\n      <nz-content class=\"full-height white-bg\" style=\"padding-left: 18px;\">\r\n        <div *ngIf=\"taskData.speakwallAll[0]\"  style=\"margin-top: 24px; height: calc(100% - 24px); overflow: hidden;overflow-y: auto;\">\r\n          <ng-container  *ngFor=\"let item of scoreType\">\r\n            <div class=\"reply-container\" *ngIf=\"item.data[0]\">\r\n              <p class=\"reply-title\">{{item.scoreName}}</p>\r\n              <div class=\"reply-block\">\r\n                <div class=\"reply\" *ngFor=\"let item2 of item.data\" (click)=\"selectedItem(item2)\" [class.selected]=\"item2.id===selectedData.id\" [style]=\"{'background': item2.color}\">\r\n                  <ng-container *ngTemplateOutlet=\"speakTemp; context: {data:item2}\"></ng-container>\r\n                </div>\r\n            </div>\r\n            </div>\r\n          </ng-container>\r\n        </div>\r\n        <div *ngIf=\"taskData.speakwallAll.length === 0\" style=\"margin: 130px auto;width: 300px;\">\r\n          <img src=\"assets/images/no-reply-wall.png\" alt=\"无学生发言\" style=\"width: 100%;\">\r\n        </div>\r\n      </nz-content>\r\n      <nz-sider [nzWidth]=\"440\" class=\"sider full-height white-bg\" *ngIf=\"selectedData.id\">\r\n        <div class=\"sider-header\">\r\n          <div>{{selectedData?.studentName}}</div>\r\n          <!-- 待评分 -->\r\n          <div class=\"gray-bg\" *ngIf=\"selectedData?.resultType === '0' \">{{resultName[selectedData?.resultType]}}</div>\r\n          <!-- 满分 -->\r\n          <div class=\"green-bg\" *ngIf=\"selectedData?.resultType === '3'\">{{resultName[selectedData?.resultType]}}</div>\r\n          <!-- 非满分 -->\r\n          <div class=\"red-bg\" *ngIf=\"selectedData?.resultType !== '0' && selectedData?.resultType !== '3'\">{{resultName[selectedData?.resultType]}}</div>\r\n        </div>\r\n\r\n        <pre class=\"sider-content\" [innerHTML]=\"selectedData?.content\"></pre>\r\n\r\n        <div class=\"sider-attachment\" *ngIf=\"selectedData.children\">\r\n          <ng-container *ngFor=\"let attachment of selectedData.caseAttch\">\r\n            <div class=\"attach-block\" (click)=\"previewAttachment(attachment)\">\r\n              <div class=\"img-block\">\r\n                <img [src]=\"attachment?.showPath\" alt=\"thumbnail\">\r\n              </div>\r\n              <p [title]=\"attachment.attachmentName\">{{ attachment.attachmentName }}</p>\r\n            </div>\r\n          </ng-container>\r\n        </div>\r\n      </nz-sider>\r\n    </nz-layout>\r\n  </ng-container>\r\n</nz-layout>\r\n\r\n<qkc-attachment-show-modal\r\n  [(isShow)]=\"isShow\"\r\n  [url]=\"curShowItem?.attachmentPath\">\r\n</qkc-attachment-show-modal>\r\n\r\n<!--发言展示-->\r\n<ng-template #speakTemp let-item=\"data\">\r\n  <div class=\"reply-header\">\r\n    <img [src]=\"item.photo\" *ngIf=\"item.photo\" >\r\n    <img src=\"assets/images/user.png\" *ngIf=\"!item.photo\" >&nbsp;\r\n    {{item.studentName}}\r\n  </div>\r\n  <pre class=\"reply-body\" [title]=\"item.content\" [innerHTML]=\"item.content\"></pre>\r\n  <div class=\"reply-attachment\">\r\n    <p>附件：{{item.children?.length || 0}}</p>\r\n  </div>\r\n</ng-template>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Output,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  SimpleChange\r\n} from '@angular/core';\r\n// import { Router, ActivatedRoute } from \"@angular/router\";\r\nimport { environment } from 'src/environments/environment';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport * as TASK from 'core/base/task';\r\nimport {TaskCenterService} from 'core/services/task-center.service';\r\nimport {ToolsUtil} from 'core/utils/tools.util';\r\n\r\n@Component({\r\n  selector: 'app-speak-wall',\r\n  templateUrl: './speak-wall.component.html',\r\n  styleUrls: ['./speak-wall.component.less']\r\n})\r\nexport class SpeakWallComponent implements OnInit, OnChanges {\r\n  @Input() id: string;\r\n  @Output() pageChange = new EventEmitter<number>();\r\n\r\n  isGroupLeader = true;\r\n  isLoading = false;\r\n\r\n  speakTypeRemark = TASK.speakTypeRemark;\r\n\r\n  color = ['#ECA392', '#ADADA7', '#96B5D5', '#EFB8D1', '#D68199'];\r\n\r\n  resultName = {\r\n    0: '待评价',\r\n    1: '及格',\r\n    2: '良好',\r\n    3: '优秀',\r\n    99: '无效'\r\n  };\r\n\r\n  scoreName = {\r\n    0: '等待评分',\r\n    1: '优秀（100%）',\r\n    2: '良好（80%）',\r\n    3: '及格（60%）',\r\n    99: '无效'\r\n  };\r\n\r\n  scoreType: any = [[], [], [], []];\r\n\r\n  taskData: any = {\r\n    speakwallAll: []\r\n  };\r\n\r\n  selectedData: any = {};\r\n\r\n  groupSpeak: any = [];\r\n\r\n  curShowItem: any;\r\n  isShow = false;\r\n\r\n\r\n  constructor(\r\n    private taskCenterService: TaskCenterService,\r\n    private nzMsg: NzMessageService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.initScoreType();\r\n  }\r\n  ngOnChanges(changes: { [key: string]: SimpleChange }) {\r\n    if (changes.id) {\r\n      this.getAllSpeak();\r\n    }\r\n  }\r\n  initScoreType() {\r\n    this.scoreType = [0, 1, 2, 3, 4].map(ele => ({\r\n      scoreName: this.scoreName[ele],\r\n      data: []\r\n    }));\r\n  }\r\n\r\n  getOssUrl(url) {\r\n    return ToolsUtil.getOssUrl(url);\r\n  }\r\n\r\n  gotoCase() {\r\n    this.pageChange.emit(0);\r\n  }\r\n\r\n  getAllSpeak() {\r\n    this.isLoading = true;\r\n    this.initScoreType();\r\n    this.taskCenterService.getAllSpeak(this.id).subscribe( res => {\r\n      this.isLoading = false;\r\n      if (res.status === 200) {\r\n        this.taskData = res.data;\r\n        this.taskData.speakwallAll.forEach(item => {\r\n          item.caseAttch = this.initilizeAttachmentData(item);\r\n          item.color = this.color[Math.floor(Math.random() * 5)];\r\n          switch (item.resultType) {\r\n            case '0':\r\n              this.scoreType[0].data.push(item);\r\n              break;\r\n            case '1':\r\n              this.scoreType[3].data.push(item);\r\n              break;\r\n            case '2':\r\n              this.scoreType[2].data.push(item);\r\n              break;\r\n            case '3':\r\n              this.scoreType[1].data.push(item);\r\n              break;\r\n            case '99':\r\n              this.scoreType[4].data.push(item);\r\n              break;\r\n          }\r\n\r\n          if ( this.selectedData.id === item.id ) {\r\n            this.selectedData = item;\r\n          }\r\n        });\r\n\r\n      } else {\r\n        this.nzMsg.error('获取发言墙失败');\r\n      }\r\n    }, err => {\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  initilizeAttachmentData(data) {\r\n    const attchArr: any[] = data.children || [];\r\n    const caseAttch = attchArr\r\n      .filter(el => el.aattachmentExt !== 'mp3')\r\n      .map(el => {\r\n        const attachmentPath = environment.OSS_URL + el.attachmentPath;\r\n        el.showPath = ToolsUtil.getThumbUrl(el.attachmentPath);\r\n        return { ...el, attachmentPath };\r\n      });\r\n    return caseAttch;\r\n  }\r\n  previewAttachment(item: any) {\r\n    this.curShowItem = item;\r\n    this.isShow = true;\r\n  }\r\n  selectedItem(item) {\r\n    this.selectedData = item;\r\n  }\r\n}\r\n","<nz-tabset [nzTabBarStyle]=\"{display:'none'}\" [nzSelectedIndex]=\"tabIdx\">\r\n  <nz-tab nzTitle=\"案例\">\r\n    <app-case-task [data]=\"data\" [id]=\"data.id\"  (pageChange)=\"tabIdx=$event\" (finishTaskCallBack)=\"finishTask()\"></app-case-task>\r\n  </nz-tab>\r\n  <nz-tab nzTitle=\"发言墙\">\r\n    <ng-template nz-tab>\r\n      <app-speak-wall [id]=\"data.id\" (pageChange)=\"tabIdx=$event\"></app-speak-wall>\r\n    </ng-template>\r\n  </nz-tab>\r\n</nz-tabset>\r\n","import { Component, OnInit, Input, OnChanges, SimpleChange, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-case-complex-task',\r\n  templateUrl: './case-complex-task.component.html',\r\n  styleUrls: ['./case-complex-task.component.less']\r\n})\r\nexport class CaseComplexTaskComponent implements OnInit {\r\n\r\n  @Input() data: any;\r\n  @Input() id: string;\r\n  @Output() finishTaskCallBack = new EventEmitter<any>();\r\n\r\n  tabIdx = 0;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  finishTask() {\r\n    this.finishTaskCallBack.emit(this.data);\r\n  }\r\n\r\n}\r\n","<div class=\"radio-box\">\r\n  <ng-container *ngFor=\"let exerciseItem of qcData;let idx=index;\">\r\n    <nz-spin [nzSize]=\"'small'\" [nzSpinning]=\"exerciseItem.exerciseLoading\">\r\n      <div class=\"radio-box-item\"\r\n        [ngClass]=\"raidoClass(exerciseItem)\"\r\n        (click)=\"selectRadio(exerciseItem, idx)\">\r\n        <div class=\"dot\" *ngIf=\"exerciseItem.mode !== 'collection' && !exerciseItem.isEvalute\"></div>\r\n        <div class=\"serial-num\">{{ (idx+1) + '.' }}</div>\r\n        <div class=\"title-wrapper\">\r\n          <div>{{ '【' + exerciseItem.exerciseKindName + '】' }}</div>\r\n          <div class=\"title\" [innerHTML]=\"exerciseItem.title\"></div>\r\n        </div>\r\n        <div class=\"exp\">{{ exerciseItem.originalExp }}分</div>\r\n      </div>\r\n    </nz-spin>\r\n  </ng-container>\r\n</div>\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Exercise } from '../../exercises-lib/model/exercise';\r\n\r\n@Component({\r\n  selector: 'app-exercise-radio',\r\n  templateUrl: './exercise-radio.component.html',\r\n  styleUrls: ['./exercise-radio.component.less']\r\n})\r\n\r\nexport class ExerciseRadioComponent implements OnInit {\r\n\r\n  @Input() qcData: Exercise[];\r\n  @Output() qcSelectChange = new EventEmitter<number>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  raidoClass(exercise: Exercise) {\r\n    if (exercise.status === 'init') {\r\n      return {\r\n        'radio-box-item-selected': exercise.isSelected,\r\n        'radio-box-item-done': exercise.isDone,\r\n        'radio-box-item-undone': !exercise.isDone\r\n      };\r\n    } else {\r\n      if (exercise.mode === 'collection') {\r\n        return {\r\n          'radio-box-item-selected': exercise.isSelected,\r\n        };\r\n      } else {\r\n        return {\r\n          'radio-box-item-selected': exercise.isSelected,\r\n          'radio-box-item-right': exercise.isRight && exercise.isEvalute,\r\n          'radio-box-item-wrong': !exercise.isRight && exercise.isEvalute,\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  selectRadio(item: Exercise, idx: number) {\r\n    this.setItemSelect(item.exerciseId);\r\n    this.qcSelectChange.emit(idx);\r\n  }\r\n\r\n  setItemSelect(quesId: string) {\r\n    this.qcData.forEach((el) => {\r\n      el.isSelected = (el.exerciseId === quesId);\r\n    });\r\n  }\r\n\r\n}\r\n","<nz-layout class=\"l-main\" style=\"width: 100%;height:100%;\">\r\n  <nz-header class=\"section-header border\">\r\n    <div class=\"package-name\">\r\n      <span class=\"section-header-title\">{{ curTask?.taskName || curTask?.name }}</span>\r\n      <span class=\"on-save\" *ngIf=\"isCahceExe\">(自动保存中)</span>\r\n    </div>\r\n\r\n    <div class=\"section-header-btn padding-right\">\r\n      <span *ngIf=\"curTask.endType == 2\">{{ curTask?.endTime | date:'yyyy-MM-dd'}}到期</span>\r\n    </div>\r\n  </nz-header>\r\n  <nz-spin [nzSpinning]=\"passRecord\" [nzDelay]=\"0\" style='height:100%'>\r\n    <!-- 没有习题 -->\r\n    <nz-layout *ngIf=\"exerciseList.length === 0&&!passRecord\" style=\"height: 100%;width:100%\">\r\n      <nz-content>\r\n        <nz-result *ngIf=\"exeMode !== 'wrong'\" nzStatus=\"warning\" nzTitle=\"试卷没有习题\">\r\n        </nz-result>\r\n\r\n        <nz-result *ngIf=\"exeMode === 'wrong'\" nzStatus=\"warning\" nzTitle=\"试卷没有错习题\">\r\n        </nz-result>\r\n      </nz-content>\r\n    </nz-layout>\r\n    <!-- 有习题 -->\r\n    <nz-layout *ngIf=\"exerciseList.length !== 0&&!passRecord\" style=\"height: 100%;width:100%\">\r\n      <nz-sider class=\"exercise-sider\" [nzWidth]=\"300\">\r\n        <app-exercise-radio\r\n          #appExerciseRadio\r\n          [qcData]=\"exerciseList\"\r\n          (qcSelectChange)=\"exerciseChange($event)\">\r\n        </app-exercise-radio>\r\n      </nz-sider>\r\n      <nz-content class=\"white-bg full-height\" style=\"padding-left: 18px;\">\r\n        <div class=\"exercise-content\">\r\n          <nz-tabset [nzSelectedIndex]=\"exeIdx\" [nzTabBarStyle]=\"{display: 'none'}\">\r\n            <nz-tab *ngFor=\"let exerciseItem of exerciseList;let idx=index;\" [nzTitle]=\"idx+1\">\r\n              <nz-spin [nzSpinning]=\"isSaveLoading\" [nzDelay]=\"500\" class=\"full-height\">\r\n                <!-- 单选 多选 判断 -->\r\n                <app-choice-question\r\n                  *ngIf=\"['JudgeChoice', 'SingleChoice', 'MultipleChoice', 'TwiceChoice', 'IndefiniteMultiple'].includes(exerciseItem.exerciseKind)\"\r\n                  [exerciseData]=\"exerciseItem\">\r\n                </app-choice-question>\r\n\r\n                <!-- 填空 -->\r\n                <app-fill-blanks\r\n                  *ngIf=\"exerciseItem.exerciseKind === 'FillBlanks'\"\r\n                  [exerciseData]=\"exerciseItem\">\r\n                </app-fill-blanks>\r\n\r\n                <!-- 表格题 -->\r\n                <app-form-subject\r\n                  *ngIf=\"exerciseItem.exerciseKind === 'FormSubject'\"\r\n                  [exerciseData]=\"exerciseItem\">\r\n                </app-form-subject>\r\n\r\n                <!-- 分录题 -->\r\n                <app-entry-subject\r\n                  *ngIf=\"exerciseItem.exerciseKind === 'EntrySubject'\"\r\n                  [exerciseData]=\"exerciseItem\">\r\n                </app-entry-subject>\r\n\r\n                <!-- 问答 -->\r\n                <app-sketch\r\n                  *ngIf=\"exerciseItem.exerciseKind === 'Sketch'\"\r\n                  [exerciseData]=\"exerciseItem\">\r\n                </app-sketch>\r\n\r\n                <!-- 综合题 -->\r\n                <app-complex\r\n                  *ngIf=\"exerciseItem.exerciseKind === 'Complex'\"\r\n                  [exerciseData]=\"exerciseItem\">\r\n                </app-complex>\r\n              </nz-spin>\r\n            </nz-tab>\r\n          </nz-tabset>\r\n        </div>\r\n\r\n        <div class=\"fix-block\">\r\n          <div>\r\n            <ng-container *ngIf=\"!collectionLoading\">\r\n            <span class=\"collection-wrap\" [class]=\"{ collected: exeCollected }\" (click)=\"handleCollection()\">\r\n              <i nz-icon nzType=\"heart\" [nzTheme]=\"exeCollected ? 'fill' : 'outline'\"></i>\r\n              {{ exeCollected ? '已收藏' : '收藏'}}\r\n            </span>\r\n            </ng-container>\r\n            <span *ngIf=\"collectionLoading\">\r\n            <i nz-icon [nzType]=\"'loading'\"></i>\r\n          </span>\r\n          </div>\r\n          <span *ngIf=\"exeShowAnswer\" class=\"show-answer\" (click)=\"showAnswer()\">\r\n            <img class=\"answer-icon\" src=\"assets/images/show_answer_icon.png\" alt=\"显示答案\" />\r\n            <span class=\"answer-btn\">显示答案</span>\r\n          </span>\r\n          <ng-container *ngIf=\"tikuType !== 3\">\r\n            <!-- 已完成 -->\r\n            <div *ngIf=\"exeStatus === 'selfEvalute' && exeEvalute\">\r\n              <span class=\"evalute-text\">请选择自评结果：</span>\r\n              <button nz-button nzType=\"primary\" (click)=\"showEvaluateModal(true)\">正确</button>\r\n              <button nz-button nzType=\"primary\" class=\"warin-btn\" (click)=\"showEvaluateModal(false)\">错误</button>\r\n            </div>\r\n            <!-- 未完成或者重做 -->\r\n            <div *ngIf=\"exeStatus === 'init'|| exeStatus === 'ongoing'\">\r\n              <button *ngIf=\"lastNum\" nz-button nzType=\"primary\" [nzLoading]=\"isSaveLoading\"\r\n                      (click)=\"nextExercise({direction: 'next'})\">下一题\r\n              </button>\r\n              <button nz-button nzType=\"primary\" class=\"warin-btn\" (click)=\"showConfirmSubmit()\">交卷</button>\r\n            </div>\r\n            <!-- 重做 -->\r\n            <div *ngIf=\"exeStatus === 'finish' && exeMode === ''\">\r\n              <button nz-button nzType=\"default\"\r\n                      [style]=\"{'border-color': '#00AB84', color: '#00AB84', 'border-radius': '6px' }\"\r\n                      (click)=\"redoExecrises()\">\r\n                重新练习\r\n              </button>\r\n            </div>\r\n          </ng-container>\r\n        </div>\r\n      </nz-content>\r\n    </nz-layout>\r\n  </nz-spin>\r\n</nz-layout>\r\n\r\n<!-- 交卷确认-->\r\n<nz-modal [(nzVisible)]=\"isVisible\" [nzClassName]=\"'redo-modal'\" [nzWidth]=\"505\"\r\n          [nzTitle]=\"''\" [nzMaskClosable]=\"false\" (nzOnCancel)=\"isVisible = false\">\r\n  <div class=\"moadl-container\">\r\n    <p class=\"large-title\">{{ exeMode === 'redo' ? '重做交卷' : '交卷' }}</p>\r\n    <div class=\"mask-content\">\r\n      <p class=\"normal-mask\" *ngIf=\"unDoneExeNum === 0\">确定交卷吗</p>\r\n      <p class=\"normal-mask\" *ngIf=\"unDoneExeNum !== 0\">当前还有{{unDoneExeNum}}道题未做完，确定交卷吗？</p>\r\n      <p class=\"gray-mask\" *ngIf=\"exeMode !== 'redo'\">*提交后作业会立刻结束，请谨慎检查</p>\r\n      <p class=\"read-mask\" *ngIf=\"exeMode === 'redo'\">*重做的作业交卷后不能修改</p>\r\n    </div>\r\n\r\n  </div>\r\n  <div *nzModalFooter>\r\n    <div class=\"redo-btn\">\r\n      <button nz-button nzType=\"primary\"\r\n              nzShape=\"round\" nzBlock\r\n              [nzLoading]=\"isSubmitLoading\"\r\n              (click)=\"confirmFinishPaper()\">\r\n        {{ isContainSubjectQues ? '确认交卷并自评' : '确认'}}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</nz-modal>\r\n\r\n<!-- 确认自评 -->\r\n<nz-modal [(nzVisible)]=\"evaluteModal.visible\" [nzClassName]=\"'redo-modal'\" [nzWidth]=\"505\"\r\n          [nzTitle]=\"''\" [nzMaskClosable]=\"false\" (nzOnCancel)=\"evaluteModal.visible = false\">\r\n  <div class=\"moadl-container\">\r\n    <p class=\"large-title\">自评</p>\r\n    <div class=\"mask-content\">\r\n      <p class=\"normal-mask\">\r\n        此题自评为：\r\n        <span [class]=\"{'right-text': evaluteModal.isRight, 'wrong-text': !evaluteModal.isRight }\">\r\n          {{ evaluteModal.isRight ? '正确' : '错误' }}\r\n        </span>\r\n      </p>\r\n      <p class=\"read-mask\">* 确认后不能修改自评结果</p>\r\n    </div>\r\n  </div>\r\n  <div *nzModalFooter>\r\n    <div class=\"redo-btn\">\r\n      <button nz-button nzType=\"primary\"\r\n              nzShape=\"round\" nzBlock\r\n              [nzLoading]=\"isSubmitLoading\"\r\n              (click)=\"confirmEvalute()\">确定\r\n      </button>\r\n    </div>\r\n  </div>\r\n</nz-modal>\r\n\r\n<!-- 状态冲突 -->\r\n<nz-modal [(nzVisible)]=\"statusVisible\" [nzClassName]=\"'redo-modal'\" [nzWidth]=\"505\"\r\n          [nzTitle]=\"''\" [nzMaskClosable]=\"false\" (nzOnCancel)=\"statusVisible = false\">\r\n  <div class=\"moadl-container\">\r\n    <p class=\"large-title\">状态冲突</p>\r\n    <div class=\"mask-content\">\r\n      <p class=\"normal-mask\">\r\n        当前习题的状态与任务栏的状态冲突，是否要修正？\r\n      </p>\r\n    </div>\r\n\r\n  </div>\r\n  <div *nzModalFooter>\r\n    <div class=\"redo-btn\">\r\n      <button nz-button nzType=\"primary\"\r\n              nzShape=\"round\" nzBlock\r\n              [nzLoading]=\"isSubmitLoading\"\r\n              (click)=\"modifyTaskStatus()\">确定</button>\r\n    </div>\r\n  </div>\r\n</nz-modal>\r\n\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  OnDestroy,\r\n  Input,\r\n  OnChanges,\r\n  SimpleChange,\r\n  ViewChild,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\nimport {NzMessageService} from 'ng-zorro-antd/message';\r\nimport {ExerciseRadioComponent} from './exercise-radio/exercise-radio.component';\r\nimport {TikuService} from 'src/app/busi-services/tiku.service';\r\nimport {Exercise, ExerciseKindEnum, ExerciseMode, ExerciseStatus} from '../exercises-lib/model/exercise';\r\nimport {ExerciseTaskService} from './exercise-task.service';\r\nimport {Observable, of} from 'rxjs';\r\nimport {switchMap} from 'rxjs/operators';\r\nimport {Router} from '@angular/router';\r\nimport {TaskCenterService} from 'core/services/task-center.service';\r\nimport {SessionStorageUtil} from 'core/utils/sessionstorage.util';\r\n\r\ninterface FinishTaskOption {\r\n  exe?: Exercise;\r\n  redo: number;\r\n  skipUpdateStatus?: boolean;\r\n  skipSubmitPaper?: boolean;\r\n  status?: number;\r\n  action: 'evalute' | 'finish' | 'cacheExe';\r\n  refresh?: boolean;\r\n  finishCb?: () => void;\r\n}\r\n\r\ninterface IExeDirection {\r\n  direction: 'prev' | 'next' | 'jump';\r\n  index?: number;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-exercise-task',\r\n  templateUrl: './exercise-task.component.html',\r\n  styleUrls: ['./exercise-task.component.less']\r\n})\r\nexport class ExerciseTaskComponent implements OnInit, OnChanges, OnDestroy {\r\n  /** 题库类型： 题库集 1， 错题集：2， 收藏： 3 */\r\n  @Input() tikuType: number;\r\n  /** 题库任务状态，用于题库入口，做完评分 */\r\n  @Input() tikuTaskStatus = -1;\r\n  @Input() data: any;\r\n  @Input() curTask: any;\r\n  @Output() finishTaskCallBack = new EventEmitter<any>();\r\n  @ViewChild('appExerciseRadio') exeRadio: ExerciseRadioComponent;\r\n  // 习题列表\r\n  exerciseList: Exercise[] = [];\r\n  /** 习题数 */\r\n  exeNum = 0;\r\n  /** 未做题数  */\r\n  unDoneExeNum = 0;\r\n  /** 是否包含主观题 */\r\n  isContainSubjectQues = false;\r\n  /** 是否缓存习题 */\r\n  isCahceExe = false;\r\n  isVisible = false;\r\n  statusVisible = false;\r\n  paperInfo: any;\r\n  evaluteModal = {\r\n    visible: false,\r\n    isRight: false\r\n  };\r\n  exeMode: ExerciseMode = '';\r\n  exeStatus: ExerciseStatus = 'init';\r\n  passRecord = true;\r\n  exeIdx = 0;\r\n  isSaveLoading = false;\r\n  isSubmitLoading = false;\r\n\r\n  constructor(\r\n    private tskCenterService: TaskCenterService,\r\n    private nzMsg: NzMessageService,\r\n    private router: Router,\r\n    private exerciseTaskService: ExerciseTaskService,\r\n    private tikuService: TikuService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  ngOnChanges(changes: { [key: string]: SimpleChange }) {\r\n    if (changes.data && !!changes.data.currentValue) {\r\n      this.getExercises();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (['finish', 'selfEvalute'].includes(this.exeStatus)) {\r\n      return;\r\n    }\r\n    this.cacheExercise();\r\n  }\r\n\r\n  getExercisesReal() {\r\n    this.unDoneExeNum = 0;\r\n    this.exeIdx = 0;\r\n    const quesList: any = this.data.quesList;\r\n    const answerList: any = this.data.answerList || [];\r\n    const collectionList = this.data.collectionList || [];\r\n    const errorQuestionList = this.data.errorQuestionList || [];\r\n    const questions = ((quesList.groups || []) as any[]).reduce((pre, cur) => {\r\n      Array.prototype.push.apply(pre, cur.questions || []);\r\n      return pre;\r\n    }, []);\r\n    this.paperInfo = quesList.paper || {};\r\n\r\n    this.exerciseTaskService.formatAnswers(answerList);\r\n    this.exerciseTaskService.exeMode = this.exerciseTaskService.toExerciseMode({\r\n      tikuType: this.tikuType\r\n    }); // wrong collect\r\n    this.exerciseTaskService.exeStatus = this.exerciseTaskService.toExerciseStatus({\r\n      taskInfo: this.curTask,\r\n      tikuType: this.tikuType,\r\n      tikuTaskStatus: this.tikuTaskStatus\r\n    }); // init redo\r\n    this.exeMode = this.exerciseTaskService.exeMode;\r\n    this.exeStatus = this.exerciseTaskService.exeStatus;\r\n    this.exerciseTaskService\r\n      .initialize({questions, answerList, collectionList, errorQuestionList})\r\n      .process([\r\n        {NotComplex: this.exerciseTaskService.optionHandler},\r\n        this.exerciseTaskService.subjectHandler,\r\n      ])\r\n      .process([\r\n        this.exerciseTaskService.doneHandler\r\n      ])\r\n      .process([\r\n        this.exerciseTaskService.commonHandler\r\n      ])\r\n      .processWithComplex([\r\n        this.exerciseTaskService.doneWithWrongExerciseHandler\r\n      ])\r\n      .process([\r\n        this.exerciseTaskService.doneWithRedoHandler\r\n      ])\r\n      .process([\r\n        { NotComplex: this.exerciseTaskService.myAnswerHandler }\r\n      ]);\r\n\r\n    let filterFun;\r\n    if (this.exeMode === 'wrong') { // 错题集\r\n      filterFun = (exe: Exercise) => !exe.isRight;\r\n      // 取传过来的错题列表\r\n      filterFun = (exe: Exercise) => {\r\n        return (errorQuestionList as any[]).some(errQues => {\r\n          if (errQues.parentId === '0') {\r\n            return errQues.questionId === exe.exerciseId;\r\n          } else {\r\n            return errQues.parentId === exe.exerciseId;\r\n          }\r\n        });\r\n      };\r\n    } else if (this.exeMode === 'collection') { // 收藏集\r\n      filterFun = (exe: Exercise) => exe.isCollected;\r\n    } else {\r\n      filterFun = (exe: Exercise) => true;\r\n    }\r\n    this.exerciseList = this.exerciseTaskService\r\n      .filter(filterFun)\r\n      .getFilterExerciseList();\r\n\r\n    console.log(this.exerciseList);\r\n\r\n    this.defaultSelected(this.exeIdx);\r\n    this.exeNum = this.exerciseList.length === 0 ? 0 : this.exerciseList.length - 1;\r\n    this.isContainSubjectQues = this.getSubjectQuesStatus();\r\n    this.passRecord = false;\r\n\r\n  }\r\n\r\n  getExercises() {\r\n    const taskUrl = this.tikuService.getPaperUrl(this.data.resourceId.split('-')[0]);\r\n    this.exerciseTaskService.getExercise(taskUrl).subscribe(resp => {\r\n      this.data.quesList = resp.quesList;\r\n      this.getExercisesReal();\r\n    });\r\n  }\r\n\r\n\r\n  defaultSelected(idx: number) {\r\n    if (this.exerciseList.length > 0) {\r\n      this.exerciseList[idx].isSelected = true;\r\n    }\r\n  }\r\n\r\n  exerciseChange(idx: number) {\r\n    this.nextExercise({direction: 'jump', index: idx});\r\n  }\r\n\r\n  nextExercise(direct: IExeDirection) {\r\n    if (['finish', 'selfEvalute'].includes(this.exeStatus)) {\r\n      this.switchExercise(direct);\r\n      return;\r\n    }\r\n    this.cacheExercise();\r\n    this.switchExercise(direct);\r\n  }\r\n\r\n  cacheExercise(): void {\r\n    if (this.exerciseList.length === 0) {\r\n      return;\r\n    }\r\n    if (this.exeStatus === 'init' || this.exeStatus === 'ongoing') {\r\n      const curExe = this.exerciseList[this.exeIdx];\r\n      const isChange = this.setExerciseStatus(curExe);\r\n      if (this.exeMode !== '') {\r\n        return;\r\n      }\r\n\r\n      if (isChange) {\r\n        this.finishTask({\r\n          redo: 2,\r\n          skipUpdateStatus: false,\r\n          action: 'cacheExe',\r\n          finishCb: () => this.isCahceExe = true\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  setExerciseStatus(exercise: Exercise): boolean {\r\n    let isChange = false;\r\n    if (this.exerciseTaskService.checkExerciseChange(exercise)) {\r\n      this.exerciseTaskService.copyAnswer2Old(exercise);\r\n      this.exerciseTaskService.setExerciseDone(exercise);\r\n      isChange = true;\r\n    }\r\n    return isChange;\r\n  }\r\n\r\n  switchExercise(direct: IExeDirection): void {\r\n    let nextExeIdx = this.exeIdx;\r\n    if (direct.direction === 'prev') {\r\n      nextExeIdx--;\r\n    } else if (direct.direction === 'next') {\r\n      nextExeIdx++;\r\n    } else {\r\n      nextExeIdx = direct.index;\r\n    }\r\n\r\n    if (nextExeIdx < 0) {\r\n      nextExeIdx = 0;\r\n    } else if (nextExeIdx > this.exeNum) {\r\n      nextExeIdx = this.exeNum;\r\n    }\r\n    this.exeIdx = nextExeIdx;\r\n    this.exeRadio.setItemSelect(this.exerciseList[this.exeIdx].exerciseId);\r\n  }\r\n\r\n  checkExerciseValid(exe: Exercise): boolean {\r\n    // 分录不能不填\r\n    let isValid = true;\r\n    if (exe.exerciseKind === ExerciseKindEnum.EntrySubject) {\r\n      // tslint:disable-next-line:prefer-for-of\r\n      for (let i = 0; i < exe.myAnswer.length; i++) {\r\n        if (exe.myAnswer[i].subject === '') {\r\n          this.nzMsg.error('科目不能空');\r\n          isValid = false;\r\n          break;\r\n        } else if (!exe.myAnswer[i].answer) {\r\n          this.nzMsg.error('金额不能空');\r\n          isValid = false;\r\n        } else if (!Number.isFinite(exe.myAnswer[i].answer)) {\r\n          this.nzMsg.error('金额只能是数字');\r\n          isValid = false;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return isValid;\r\n  }\r\n\r\n  setExeNavDone(exeIdx: number) {\r\n    const exeNav = this.exerciseList[exeIdx];\r\n    exeNav.isDone = true;\r\n  }\r\n\r\n  confirmFinishPaper(): void {\r\n    // this.finishTask({\r\n    //   redo: 0,\r\n    //   action: 'finish',\r\n    //   finishCb: () => this.isVisible = false\r\n    // });\r\n    this.isVisible = false;\r\n  }\r\n\r\n\r\n  finishTask(finishOption: FinishTaskOption) {\r\n    this.isSubmitLoading = true;\r\n\r\n    this.exerciseTaskService\r\n      .process([\r\n        this.exerciseTaskService.doneHandlerWithMyAnswer\r\n      ], this.exerciseList)\r\n      .process([\r\n        this.exerciseTaskService.commonHandlerWithSubmit\r\n      ], this.exerciseList);\r\n\r\n    const status = this.getTaskStatus();\r\n    finishOption.status = status;\r\n    this.tikuTaskStatus = status;\r\n\r\n    if (this.exeMode !== '') {\r\n      this.exeStatus = this.exerciseTaskService.toExerciseStatus({\r\n        taskInfo: {\r\n          studentTaskId: 'xxxxx',\r\n          studentTaskStatus: status.toString()\r\n        }\r\n      });\r\n      this.exerciseTaskService.exeStatus = this.exeStatus;\r\n\r\n      this.exerciseTaskService\r\n        .process([\r\n          this.exerciseTaskService.statusHandlerWithSubmit\r\n        ], this.exerciseList);\r\n\r\n      if (status !== 1) {\r\n        finishOption.skipSubmitPaper = true;\r\n      }\r\n    }\r\n\r\n    switch (finishOption.action) {\r\n      case 'cacheExe':\r\n        finishOption.refresh = false;\r\n        const taskStatus = this.curTask.studentTaskId ? this.curTask.studentTaskStatus : this.curTask.status;\r\n        if (parseInt(taskStatus, 10) === 0) {\r\n          finishOption.refresh = status === 4 ? true : false;\r\n        }\r\n        break;\r\n      case 'finish':\r\n        finishOption.refresh = this.exeMode === '';\r\n        finishOption.skipUpdateStatus = this.exeMode === '' ? false : true;\r\n        break;\r\n      case 'evalute':\r\n        finishOption.refresh = this.exeMode === '' ? status === 1 ? true : false : false;\r\n        finishOption.skipUpdateStatus = this.exeMode === '' ? false : true;\r\n        break;\r\n    }\r\n\r\n    const start$ = of({});\r\n    start$.pipe(\r\n      switchMap(() => {\r\n        return finishOption.skipSubmitPaper ? of({}) : this.submitPaper(finishOption);\r\n      }),\r\n      switchMap(() => {\r\n        return finishOption.skipUpdateStatus ? of({}) : this.updateStudentTask(finishOption);\r\n      })\r\n    ).subscribe(() => {\r\n      this.isSubmitLoading = false;\r\n      if (finishOption.refresh) {\r\n        this.finishTaskCallBack.emit({tikuTaskStatus: this.tikuTaskStatus});\r\n      }\r\n      finishOption.finishCb?.();\r\n    }, err => {\r\n      this.isSubmitLoading = false;\r\n      this.nzMsg.error(err);\r\n    });\r\n  }\r\n\r\n  getTaskStatus() {\r\n    // 任务状态：已失效(-1)、未处理(0)，已完成(1), 重做(2), 待自评(3)，进行中(4)\r\n    let status = 0;\r\n    const allDone = this.exerciseList.every(exercise => exercise.isDone);\r\n    const doneBit = this.exerciseTaskService.isDoneBitQuestion(this.exerciseList);\r\n    if (this.exeMode === '') {\r\n      if (allDone) {\r\n        const allEvalute = this.exerciseList.every(exercise => exercise.isEvalute);\r\n        status = allEvalute ? 1 : 3;\r\n      } else if (doneBit) {\r\n        status = 4;\r\n      } else {\r\n        status = 0;\r\n      }\r\n    } else {\r\n      const allEvalute = this.exerciseList.filter(exercise => exercise.isDone).every(exercise => exercise.isEvalute);\r\n      if (allEvalute) {\r\n        status = 1;\r\n      } else {\r\n        status = 3;\r\n      }\r\n    }\r\n    return status;\r\n  }\r\n\r\n\r\n  submitPaper(finishOption?: FinishTaskOption): Observable<{ answers: object }> {\r\n    return new Observable<any>(observer => {\r\n      observer.next({});\r\n      // const {thirdId: uid} = LocalStorageUtil.getUser();\r\n      // const {uuid, param1, param2, param3, param4, param5, param6, param7, param8, param9, param10} = this.paperInfo;\r\n      // const redo = finishOption.redo;\r\n      // this.exerciseTaskService\r\n      //   .process([\r\n      //     this.exerciseTaskService.doneHandlerWithMyAnswer\r\n      //   ], this.exerciseList)\r\n      //   .process([\r\n      //     this.exerciseTaskService.commonHandlerWithSubmit\r\n      //   ], this.exerciseList);\r\n      // const answers = this.exerciseTaskService.toSubmitAnswer(this.exerciseList);\r\n      //\r\n      // // 交卷参数\r\n      // const params: any = {\r\n      //   uid: 888888,\r\n      //   paperUuid: uuid,\r\n      //   answersJson: {\r\n      //     uid: '888888',\r\n      //     paperUuid: uuid,\r\n      //     examId: this.curTask.busId,\r\n      //     redo,\r\n      //     answers,\r\n      //     param1,\r\n      //     param2,\r\n      //     param3,\r\n      //     param4,\r\n      //     param5,\r\n      //     param6,\r\n      //     param7,\r\n      //     param8,\r\n      //     param9,\r\n      //     param10\r\n      //   }\r\n      // };\r\n      // this.tikuService.submitPaper(params).subscribe(res => {\r\n      //   const resCode = parseInt(res.code, 10);\r\n      //   if (resCode !== 200) {\r\n      //     observer.error(res.message || JSON.stringify(res));\r\n      //     return;\r\n      //   }\r\n      //   observer.next({answers});\r\n      // }, err => {\r\n      //   observer.error(JSON.stringify(err));\r\n      // });\r\n    });\r\n  }\r\n\r\n  /// 更新业务状态\r\n  updateStudentTask(finishOption: FinishTaskOption): Observable<void> {\r\n    return new Observable(observer => {\r\n      const exeList = this.exerciseTaskService.getExerciseList();\r\n      const quesNum = exeList.length;\r\n      const undoneNum = exeList.filter(exercise => !exercise.isDone).length;\r\n      const status = finishOption.status;\r\n      const extraParams = exeList.reduce((acc, exe) => {\r\n        if (exe.mode === '') {\r\n          if (exe.isRight) {\r\n            acc.rightQuesNum += 1;\r\n          }\r\n          acc.score += exe.originalExp;\r\n          acc.exp += exe.evaluateExp;\r\n          if (exe.isDone) {\r\n            acc.undoneNum += 1;\r\n          }\r\n        } else {\r\n          if (exe.isDone) {\r\n            acc.undoneNum += 1;\r\n            if (exe.isRight) {\r\n              acc.rightQuesNum += 1;\r\n            }\r\n            acc.score += exe.originalExp;\r\n            acc.exp += exe.evaluateExp;\r\n          } else {\r\n            if (exe.orginalAnswer) {\r\n              if (exe.orginalAnswer.isCorrect === '2') {\r\n                acc.rightQuesNum += 1;\r\n              }\r\n              acc.score += exe.originalExp;\r\n              acc.exp += parseInt(exe.orginalAnswer.score, 10);\r\n            }\r\n          }\r\n        }\r\n        return acc;\r\n      }, {score: 0, exp: 0, rightQuesNum: 0, undoneNum: 0});\r\n      const finishQuesNum = quesNum - extraParams.undoneNum;\r\n      const params: any = {\r\n        id: this.curTask.studentTaskId || this.curTask.id,\r\n        teacherProcStatus: '2', // 教师处理状态：未处理(0)，已处理(1)，不需要处理(2)\r\n        finishQuesNum, // 完成题目数\r\n        quesNum, // 总题目数\r\n        taskType: '2',\r\n        status,\r\n        ...extraParams\r\n      };\r\n      observer.next();\r\n      // this.tskCenterService.updateStudentTask(params).subscribe(res => {\r\n      //   if (res.status === 201) {\r\n      //     observer.next();\r\n      //   } else {\r\n      //     observer.error(res.message || JSON.stringify(res));\r\n      //   }\r\n      // }, err => {\r\n      //   observer.error(JSON.stringify(err));\r\n      // });\r\n    });\r\n  }\r\n\r\n  modifyTaskStatus() {\r\n    // 这个option随便填，只要isFinish = false\r\n    this.isSubmitLoading = true;\r\n    this.updateStudentTask({\r\n      redo: 0,\r\n      action: 'finish'\r\n    }).subscribe(() => {\r\n      this.isSubmitLoading = false;\r\n      this.finishTaskCallBack.emit({tikuTaskStatus: this.tikuTaskStatus});\r\n    }, err => {\r\n      this.isSubmitLoading = false;\r\n    });\r\n  }\r\n\r\n  showConfirmSubmit() {\r\n    this.cacheExercise();\r\n\r\n    this.unDoneExeNum = this.getUndoneExerciseNum();\r\n    this.isVisible = true;\r\n  }\r\n\r\n  getUndoneExerciseNum(): number {\r\n    return this.exerciseTaskService.getExerciseList().filter(exe => !exe.isDone).length;\r\n  }\r\n\r\n  /** 处理综合题答案, 由于后台不存储综合的答案，需要前端在计算一次 */\r\n  handleComplexAnswer(questions: any[], answers: any) {\r\n    if (answers && Object.keys(answers).length === 0) {\r\n      return;\r\n    }\r\n    const complexQuestions = questions.filter(ques => ques.typeId === '23');\r\n    const allComplexAnswers = complexQuestions.reduce((acc, cur) => {\r\n      // 返回的答案本身就有答案，就不在计算\r\n      // if (answers[cur.id]) {\r\n      //   return acc;\r\n      // }\r\n      const questionChildrenList = Array.isArray(cur.questionChildrenList) ? cur.questionChildrenList : [];\r\n      const complexAnswers = {\r\n        typeId: '23',\r\n        userAnswer: '',\r\n        initAnswer: '',\r\n        ...this.getComplexAnswer(questionChildrenList, answers)\r\n      };\r\n      acc[cur.id] = complexAnswers;\r\n      return acc;\r\n    }, {});\r\n    Object.assign(answers, allComplexAnswers);\r\n  }\r\n\r\n  /** 获取综合题的答案 */\r\n  getComplexAnswer(questions: any[], answers: any) {\r\n    return questions.reduce((acc, cur) => {\r\n      const quesId = cur.id;\r\n      const answerItem = answers[quesId] || {};\r\n      const isCorrect = parseInt(answerItem.isCorrect, 10) || 0;\r\n      const score = (parseInt(answerItem.score, 10) || 0);\r\n      const markStatus = (parseInt(answerItem.markStatus, 10) || 0);\r\n      // 完全正确的加分\r\n      if (isCorrect === 2) {\r\n        acc.score = acc.score + score;\r\n      }\r\n      acc.markStatus = (acc.markStatus && markStatus) ? 1 : 0;\r\n      acc.isCorrect = (acc.isCorrect && isCorrect) ? 2 : 0;\r\n      return acc;\r\n    }, {isCorrect: 2, score: 0, markStatus: 1});\r\n  }\r\n\r\n  showEvaluateModal(isRight: boolean): void {\r\n    this.evaluteModal.isRight = isRight;\r\n    this.evaluteModal.visible = true;\r\n  }\r\n\r\n  confirmEvalute() {\r\n    let evaluteExe: Exercise;\r\n    const curExe = this.exerciseList[this.exeIdx];\r\n    if (curExe.exerciseKind === ExerciseKindEnum.Complex) {\r\n      const complexExe = curExe.questionList[curExe.complexExeIdx];\r\n      evaluteExe = complexExe;\r\n    } else {\r\n      evaluteExe = curExe;\r\n    }\r\n\r\n    evaluteExe.isRight = this.evaluteModal.isRight;\r\n    evaluteExe.isEvalute = true;\r\n\r\n    this.setExeEvaluteStatus();\r\n\r\n    this.finishTask({\r\n      redo: 0,\r\n      exe: evaluteExe,\r\n      action: 'evalute',\r\n      finishCb: () => this.evaluteModal.visible = false\r\n    });\r\n  }\r\n\r\n\r\n  setExeEvaluteStatus() {\r\n    const curExe = this.exerciseList[this.exeIdx];\r\n    if (curExe.exerciseKind === ExerciseKindEnum.Complex) {\r\n      const allEvalute = (curExe.questionList as any[]).every(exe => exe.isEvalute);\r\n      curExe.isEvalute = allEvalute;\r\n      curExe.isRight = (curExe.questionList as any[]).every(exe => exe.isRight);\r\n    } else {\r\n      curExe.isEvalute = true;\r\n      curExe.isRight = curExe.isRight;\r\n    }\r\n  }\r\n\r\n\r\n  redoExecrises(): void {\r\n    SessionStorageUtil.putTikuTask(this.curTask);\r\n    this.router.navigateByUrl(`/section/tiku-execrise-task?tikuType=1&from=section`);\r\n  }\r\n\r\n  getSubjectQuesStatus(): boolean {\r\n    return this.exerciseList.filter(exe => exe.isSubject).length === 0 ? false : true;\r\n  }\r\n\r\n  handleCollection() {\r\n    const curExe = this.exerciseList[this.exeIdx];\r\n    if (curExe.collectionLoading) {\r\n      return;\r\n    }\r\n    if (this.exeCollected) {\r\n      this.cancelCollectExecrise(curExe);\r\n    } else {\r\n      this.collectExecrise(curExe);\r\n    }\r\n  }\r\n\r\n  /** 收藏习题 */\r\n  collectExecrise(curExe: Exercise) {\r\n    curExe.isCollected = true;\r\n    // const {thirdId: uid} = LocalStorageUtil.getUser();\r\n    // if (!uid) {\r\n    //   console.log('uid is null');\r\n    //   this.nzMsg.error('保存习题失败，缺少thirdId，解决：此账号请在网校先登录，然后重新登录本应用！');\r\n    //   return;\r\n    // }\r\n    // const {uuid} = this.paperInfo;\r\n    // const params = {\r\n    //   chapterCode: '',\r\n    //   paperUuid: uuid,\r\n    //   productId: 0,\r\n    //   questionId: parseInt(curExe.exerciseId, 10),\r\n    //   remark: '',\r\n    //   subModuleId: '',\r\n    //   userId: parseInt(uid, 10)\r\n    // };\r\n    // curExe.collectionLoading = true;\r\n    // this.tikuService.collectExecrise(params).subscribe(res => {\r\n    //   curExe.collectionLoading = false;\r\n    //   if (res.code === 200) {\r\n    //     curExe.isCollected = true;\r\n    //     curExe.orginalCollection = res.data.myCollection;\r\n    //   } else {\r\n    //     this.nzMsg.error(JSON.stringify(res));\r\n    //   }\r\n    // }, err => {\r\n    //   curExe.collectionLoading = false;\r\n    //   this.nzMsg.error(JSON.stringify(err));\r\n    // });\r\n  }\r\n\r\n  /** 取消收藏习题 */\r\n  cancelCollectExecrise(curExe: Exercise) {\r\n    curExe.isCollected = false;\r\n    curExe.orginalCollection = undefined;\r\n    // const {thirdId: uid} = LocalStorageUtil.getUser();\r\n    // if (!uid) {\r\n    //   console.log('uid is null');\r\n    //   this.nzMsg.error('保存习题失败，缺少thirdId，解决：此账号请在网校先登录，然后重新登录本应用！');\r\n    //   return;\r\n    // }\r\n    // const {id} = curExe.orginalCollection;\r\n    // const params = {\r\n    //   id,\r\n    //   uid: parseInt(uid, 10)\r\n    // };\r\n    // curExe.collectionLoading = true;\r\n    // this.tikuService.cancelCollectExecrise(params).subscribe(res => {\r\n    //   curExe.collectionLoading = false;\r\n    //   if (res.code === 200) {\r\n    //     curExe.isCollected = false;\r\n    //     curExe.orginalCollection = undefined;\r\n    //   } else {\r\n    //     this.nzMsg.error(JSON.stringify(res));\r\n    //   }\r\n    // }, err => {\r\n    //   curExe.collectionLoading = false;\r\n    //   this.nzMsg.error(JSON.stringify(err));\r\n    // });\r\n  }\r\n\r\n\r\n  showAnswer(): void {\r\n    const curExe: any = this.exerciseList[this.exeIdx];\r\n    if (!curExe) {\r\n      return;\r\n    }\r\n    if (curExe.exerciseKind === ExerciseKindEnum.Complex) {\r\n      const complexExe: any = curExe.questionList[curExe.complexExeIdx];\r\n      if (complexExe) {\r\n        this.setExerciseStatus(complexExe);\r\n        this.exerciseTaskService.commonHandlerWithSubmit.NotComplex(complexExe);\r\n        complexExe.status = 'finish';\r\n        complexExe.isShowAnswer = true;\r\n      }\r\n    } else {\r\n      this.setExerciseStatus(curExe);\r\n      this.exerciseTaskService.commonHandlerWithSubmit.NotComplex(curExe);\r\n      curExe.status = 'finish';\r\n      curExe.isShowAnswer = true;\r\n    }\r\n    this.exerciseList[this.exeIdx] = {...curExe};\r\n  }\r\n\r\n  get exeShowAnswer(): boolean {\r\n    if ((this.exeStatus === 'init' || this.exeStatus === 'ongoing') && this.exeMode !== 'collection') {\r\n      const curExe = this.exerciseList[this.exeIdx];\r\n      if (!curExe) {\r\n        return true;\r\n      }\r\n      if (curExe.exerciseKind === ExerciseKindEnum.Complex) {\r\n        const complexExe = curExe.questionList[curExe.complexExeIdx];\r\n        if (complexExe) {\r\n          return !complexExe.isShowAnswer;\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        return !curExe.isShowAnswer;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  get lastNum(): boolean {\r\n    return this.exeIdx !== this.exeNum;\r\n  }\r\n\r\n  get exeEvalute(): boolean {\r\n    const curExe = this.exerciseList[this.exeIdx];\r\n    if (!curExe) {\r\n      return false;\r\n    }\r\n    if (curExe.exerciseKind === ExerciseKindEnum.Complex) {\r\n      const complexExe = curExe.questionList[curExe.complexExeIdx];\r\n      if (complexExe) {\r\n        return complexExe.isSubject ? !complexExe.isEvalute : false;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return curExe.isSubject ? !curExe.isEvalute : false;\r\n    }\r\n  }\r\n\r\n  get exeCollected(): boolean {\r\n    const curExe = this.exerciseList[this.exeIdx];\r\n    if (!curExe) {\r\n      return false;\r\n    }\r\n    return curExe.isCollected;\r\n  }\r\n\r\n  get collectionLoading(): boolean {\r\n    const curExe = this.exerciseList[this.exeIdx];\r\n    if (!curExe) {\r\n      return false;\r\n    }\r\n    return curExe.collectionLoading;\r\n  }\r\n}\r\n","/**\r\n * 绘制刻度盘\r\n * 配置参数\r\n * @method [render]  绘制初始图形\r\n * @method [updatePercent] 示数动画开始\r\n * 使用方法\r\n *  var my_canvas_obj= document.getElementById(\"my-canvas\");\r\n *  var gauge= new SOFAGauge({\r\n *      \"tick_color\": \"#6C7179\", // 未达到的刻度颜色\r\n *      \"tick_on_color\": \"#00AB84\", // // 已达到的刻度颜色\r\n *      \"value\": 120, // 当前数值\r\n *      \"end_num\": 200, // 总数值\r\n *      \"container\": my_canvas_obj || 'my-canvas', // 容器\r\n *      \"center_bottom_text\": '经验值', // 数值底部文案\r\n *      \"center_text_color\": '#6C7179', // 数值字体颜色\r\n *   });\r\n */\r\nfunction Gauge(options) {\r\n  const properties: any = {\r\n    drawStarIf: false,\r\n    drawStartStopNumIf: false, // 是否绘制起始位置数字\r\n    drawTriangleIf: false, // 是否绘制游标\r\n    outRadius: 0, // 外圆环半径\r\n    outStartAngleUnComplete: undefined, // 外圆环未完成开始角度，东边为0，逆时针累加 '0'\r\n    outEndAngleUnComplete: undefined, // 外圆环未完成结束角度，东边为0，顺时针累加 '360'\r\n    innerStartAngleUnComplete: undefined, // 外圆环未完成开始角度，东边为0，逆时针累加 '0'\r\n    innerEndAngleUnComplete: undefined, // 外圆环未完成结束角度，东边为0，顺时针累加 '360'\r\n    grayCircleStartAngleUnComplete: undefined,  // 外圆环未完成开始角度，东边为0，逆时针累加 '0'\r\n    grayCircleEndAngleUnComplete: undefined,   // 外圆环未完成开始角度，东边为0，逆时针累加 '360'\r\n    innerRadius: 0, // 内圆环半径\r\n    unCompleteStrikeBg: '#C0E6DD',  // 外圆环未完成颜色\r\n    completeStrikeBg: '#00AB84', // 外圆环完成颜色\r\n    outLineCap: 'round',   // 外圆环线头\r\n    outLineWidth: 0,  // 外圆环线宽度\r\n    innerLineWidth: 0,  // 内圆环线宽度\r\n    innerLineCap: undefined,  // 内圆环线头\r\n    grayCircleStrikeBg: '#F3FAF8', // 内圆环颜色\r\n    tick_length: 0,  // 短刻度长度\r\n    large_tick_length: 0, // 长刻度长度\r\n    tick_thickness: 1,  // 刻度条宽度\r\n    tick_group_length: 9, // 每组内的短刻度个数\r\n    ticks_groups_begin: 0, // 起始点\r\n    tick_color: '#555962', // 未达到的刻度颜色\r\n    tick_on_color: '#527d98', // 已达到的刻度颜色\r\n    total_tick: 101, // 刻度线总个数\r\n    total_degrees: 360, // 刻度线占比的总角度\r\n    startTickAngle: undefined, // 刻度线旋转开始角度,以西边为0，顺时针增加，选转到结束total_degrees\r\n    num_offset: 10, // 刻度值距离刻度的间隔, 单位px,\r\n    show_num: true, // 是否展示长刻度下的数字\r\n    tick_text_inner: true, // 刻度线文字是否在里面，反之在外面\r\n    num_gap: 1, // 每个刻度之间的间隔值，计算显示数字时需要\r\n    num_begin: 0, // 起始刻度值，和 num_gap成对使用，永远比num_gap小1\r\n    num_font_size: 16, // 刻度值字体大小\r\n    num_font_family: 'HanHei SC,PingFang SC,Helvetica Neue Thin, Helvetica, STHeitiSC-Light, Arial, sans-serif',\r\n    bg_image: null, // 刻度盘的背景图片\r\n    gauge_scale: 1, // 缩放比例\r\n    animation_duration: 550, // 达到目标值的动画时间\r\n    show_center_num: true, // 是否显示中间大的数字\r\n    only_percentage: false,  // 是否仅显示百分比\r\n    show_percent: false,  // 是否仅显示百分比\r\n    center_bottom_text: '', // 中心底部字体文案\r\n    center_bottom_text_color: '', // 中心字体颜色\r\n    center_bottom_font_size: 0, // 中心字体颜色\r\n    center_bottom_font_family: 'HanHei SC,PingFang SC,Helvetica Neue Thin, Helvetica, STHeitiSC-Light, Arial, sans-serif', // 中心字体颜色\r\n    center_text_color: '#5b73f2', // 中心字体颜色\r\n    center_font_size: 0, // 中间数字font-size\r\n    center_num_font_family: 'HanHei SC,PingFang SC,Helvetica Neue Thin, Helvetica, STHeitiSC-Light, Arial, sans-serif',\r\n    center_percentage_font: 16, // 百分比模式数字字体大小\r\n    triangle_height: 0,  // 刻度指示三角形的 高度+triangle_offset\r\n    triangle_width: 16, // 刻度指示三角形的底部宽度\r\n    triangle_offset: 8, // 刻度指示三角形距离刻度的空隙\r\n    start_percent: 0, // 开始跳转数字\r\n    //  end_percent: 50, // 百分比\r\n    value: 0, // 数值\r\n    end_num: 1, // 总数\r\n    container: '',\r\n    origin: {}, // 记录中心原点\r\n    origin_center: false,\r\n    starSize: 0, // 星星大小\r\n    starDistance: 0 // 星星间距\r\n  };\r\n\r\n  if (!options.container) {\r\n    return console.error('container必须');\r\n  } else if (typeof (options.container) === 'string') {\r\n    const container = document.getElementById(options.container);\r\n    if (container) {\r\n      options.container = container;\r\n    } else {\r\n      return console.error('找不到容器元素container，初始化失败');\r\n    }\r\n  } else if (!options.end_num) {\r\n    return console.error('end_num必须');\r\n  } else if (!options.value) {\r\n    return console.error('value必须');\r\n  } else if (typeof (options.value) !== 'number' || typeof (options.end_num) !== 'number') {\r\n    return console.error('起止数字必须是数值');\r\n  } else if (options.value > options.end_num) {\r\n    return console.error('开始数值不能大于结束数值');\r\n  }\r\n\r\n  if (options.end_num === 0) {\r\n    options.end_percent = 0;\r\n    options.end_num = 0;\r\n  } else {\r\n    options.end_percent = (options.value / options.end_num) * 100;\r\n  }\r\n\r\n  // naive Object.keys shim, but I know what the object looks like (it's right above here)\r\n  const objectKeys: any = Object.keys;\r\n\r\n  this._property_list = objectKeys(properties);\r\n\r\n  // set object properties based on options and defaults\r\n  // tslint:disable-next-line:forin\r\n  for (const k in properties) {\r\n    this[k] = options[k] || properties[k];\r\n  }\r\n  // 处理特别字段\r\n  if (options.end_num === 0) {\r\n    this.end_num = 0;\r\n  }\r\n\r\n  // 取容器宽高\r\n  const parentNodeWidth = options.container.offsetWidth || 400;\r\n  this.canvas = document.createElement('canvas');\r\n  this.context = this.canvas.getContext('2d');\r\n\r\n  this.canvas.style.width = parentNodeWidth + 'px';\r\n  this.canvas.style.height = parentNodeWidth + 'px';\r\n  const pRatio = window.devicePixelRatio;\r\n  if (pRatio) {\r\n    this.canvas.width = parentNodeWidth * pRatio;\r\n    this.canvas.height = parentNodeWidth * pRatio;\r\n  } else {\r\n    this.canvas.width = parentNodeWidth;\r\n    this.canvas.height = parentNodeWidth;\r\n  }\r\n  if (!this.tick_length) {\r\n    this.tick_length = this.canvas.width * 0.025; // 设置刻度线长度\r\n  }\r\n  if (!this.large_tick_length) {\r\n    this.large_tick_length = this.tick_length * 1.4; // 设置长刻度线长度\r\n  }\r\n\r\n  this.center_font_size = this.center_font_size || this.canvas.width * 0.2; // 根据视窗设置中心数字大小\r\n  if (!this.triangle_height) {\r\n    this.triangle_height = this.canvas.width * 0.08; // 刻度指示三角形的 高度, 即三角游标的高度\r\n  }\r\n\r\n  this.delatLength = this.large_tick_length - this.tick_length;\r\n  // 计算百分比\r\n  this._percent = options.start_percent || 0;\r\n  this._target_percent = this._percent;\r\n  this.num_offset = this.num_offset + this.triangle_height / 2;\r\n\r\n  options.container.appendChild(this.canvas);\r\n  this.updatePercent(options.end_percent); // animate the gauge to 60%\r\n  return this;\r\n}\r\n\r\nGauge.prototype._requestAnimFrame = (f) => {\r\n  const win: any = window || {};\r\n  const setTimeout = (callback, element) => {\r\n    window.setTimeout(() => {\r\n      // tslint:disable-next-line:new-parens\r\n      callback(+new Date);\r\n    }, 1000 / 60);\r\n  };\r\n  const anim = window.requestAnimationFrame\r\n    || win.webkitRequestAnimationFrame\r\n    || win.mozRequestAnimationFrame\r\n    || win.oRequestAnimationFrame\r\n    || win.msRequestAnimationFrame\r\n    || setTimeout;\r\n  anim(f);\r\n};\r\n\r\nGauge.prototype.getCurrentState = function() {\r\n  const state: any = {};\r\n  // tslint:disable-next-line:forin\r\n  for (const i in this._property_list) {\r\n    const prop = this._property_list[i];\r\n    state[prop] = this[prop];\r\n  }\r\n  state.percent = this._target_percent;\r\n  return state;\r\n};\r\n\r\n// 设置背景\r\nGauge.prototype._applyBG = function() {\r\n  const canvas = this.canvas;\r\n  const context = this.context;\r\n  if (this.bg_color) {\r\n    context.save();\r\n    context.fillStyle = this.bg_color;\r\n    context.fillRect(0, 0, canvas.width, canvas.height);\r\n    context.restore();\r\n  }\r\n  if (this.bg_image) {\r\n    if (!this.bg_image_obj) { // only load the image once\r\n      this.bg_image_obj = new Image();\r\n      const self = this;\r\n      this.bg_image_obj.onload = () => {\r\n        self.bg_image_loaded = true;\r\n        context.drawImage(\r\n          self.bg_image_obj,\r\n          // tslint:disable-next-line:max-line-length\r\n          canvas.width / 2 - self.bg_image.width / 2 + self.bg_image.xoffset, canvas.height - self.bg_image.height - self.bg_image.yoffset,\r\n          self.bg_image.width,\r\n          self.bg_image.height);\r\n      };\r\n      this.bg_image_obj.src = this.bg_image.url;\r\n    } else {\r\n      if (this.bg_image_loaded) {\r\n        context.drawImage(\r\n          this.bg_image_obj,\r\n          canvas.width / 2 - this.bg_image.width / 2 + this.bg_image.xoffset,\r\n          canvas.height - this.bg_image.height - this.bg_image.yoffset\r\n        );\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nGauge.prototype._prepareStage = function() {\r\n  const canvas = this.canvas;\r\n  const context = this.context;\r\n  // clear canvas\r\n  context.clearRect(0, 0, canvas.width, canvas.height);\r\n  // set background\r\n  this._applyBG();\r\n  // set the center of rotation to the bottom/center of the canvas\r\n  let origin;\r\n  if (this.origin_center) {\r\n    origin = {\r\n      x: canvas.width / 2,\r\n      y: canvas.height / 2\r\n    };\r\n  } else {\r\n    origin = {\r\n      x: canvas.width / 2,\r\n      y: canvas.height / 2 - this.tick_thickness / 2 + canvas.height * 0.08, ...this.origin\r\n    };\r\n  }\r\n  context.translate(origin.x, origin.y);\r\n  // set the scale of the gauge (will naturally fill the width of the canvas\r\n  context.scale(1 / this.gauge_scale, 1 / this.gauge_scale);\r\n  // draw center big num\r\n  if (this.show_center_num) {\r\n    if (this.only_percentage) {\r\n      this.drawCenterPercentage();\r\n    } else {\r\n      this.drawCenterNum();\r\n    }\r\n  }\r\n};\r\n\r\n\r\n// 判断100条刻度线哪条是长的\r\nGauge.prototype.isLargeTick = function(currentNum) {\r\n  return (currentNum + this.ticks_groups_begin - 1) % (this.tick_group_length + 1) === 0;\r\n};\r\n\r\n// 中心文案\r\nGauge.prototype.drawCenterNum = function() {\r\n  const context = this.context;\r\n  const canvas = this.canvas;\r\n  context.save();\r\n  context.fillStyle = this.center_text_color;\r\n  context.font = this.center_font_size + 'px ' + this.center_num_font_family;\r\n  context.textAlign = 'center';\r\n  context.textBaseline = 'middle';\r\n  let centerText: string = String(Math.floor((this._percent / 100) * this.end_num * ((this.total_tick - 1) * this.num_gap + this.num_begin) / 100));\r\n  if (this._percent === this._target_percent) {\r\n    if (this.show_percent) {\r\n      centerText = this.value + '%';\r\n    } else {\r\n      centerText = this.value;\r\n    }\r\n  }\r\n  context.fillText(centerText, 0, this.center_bottom_text ? -canvas.width * 0.05 : 0);\r\n  if (this.center_bottom_text) {\r\n    context.fillStyle = this.center_bottom_text_color || this.center_text_color;\r\n    context.font = (this.center_bottom_font_size || this.center_font_size * 0.3) + 'px ' + (this.center_bottom_font_family || this.center_num_font_family);\r\n    context.fillText(this.center_bottom_text, 0, canvas.width * 0.1);\r\n  }\r\n  context.restore();\r\n};\r\n// 中心文案\r\nGauge.prototype.drawCenterPercentage = function() {\r\n  const context = this.context;\r\n  const canvas = this.canvas;\r\n  context.save();\r\n  context.fillStyle = this.center_text_color;\r\n  context.font = (this.center_percentage_font || (this.center_font_size * 0.8)) + 'px ' + this.center_num_font_family;\r\n  context.textAlign = 'center';\r\n  context.textBaseline = 'middle';\r\n  let centerText = Math.floor((this._percent / 100) * this.end_num * ((this.total_tick - 1) * this.num_gap + this.num_begin) / 100);\r\n  if (this._percent === this._target_percent) {\r\n    centerText = this.value;\r\n  }\r\n  context.fillText(centerText + '%', 0, 0);\r\n  context.restore();\r\n};\r\n\r\n// 绘画游标\r\nGauge.prototype.drawTriangle = function(beginX, beginY) {\r\n  const context = this.context;\r\n  context.save();\r\n  context.fillStyle = this._percent < 0.1 ? this.tick_color : this.tick_on_color;\r\n  context.rotate(this._percent * this.total_degrees / 100 * Math.PI / 180);\r\n  context.beginPath();\r\n  context.moveTo(-beginX, -beginY - this.triangle_width / 2);\r\n  context.lineTo(-beginX, -beginY + this.triangle_width / 2);\r\n  context.lineTo(-beginX + this.triangle_height - this.triangle_offset, -beginY);\r\n  context.fill();\r\n  context.restore();\r\n};\r\n\r\n// 表盘数字 （绘制刻度线长度，第几个刻度线）\r\nGauge.prototype.drawGaugeNum = function(tickLength, tickIndex) {\r\n  const canvas = this.canvas;\r\n  const context = this.context;\r\n  const text = this.num_begin + this.num_gap * tickIndex - 1;\r\n  context.save();\r\n  // set the center of rotation to the text middle\r\n  let x;\r\n  if (this.tick_text_inner) {\r\n    x = -1 * (canvas.width / 2) + tickLength + this.triangle_height + this.num_font_size / 2;\r\n  } else {\r\n    x = -(1 * (canvas.width / 2) + tickLength / 2 + this.num_font_size / 2);\r\n  }\r\n  context.translate(x, -this.tick_thickness / 2);\r\n  context.rotate(-90 * Math.PI / 180);\r\n  context.font = this.num_font_size + 'px ' + this.num_font_family;\r\n  context.textAlign = 'center';\r\n  context.textBaseline = 'middle';\r\n  context.fillText(text, 0, this.num_offset);\r\n  context.restore();\r\n};\r\n\r\n// 绘制起止数\r\nGauge.prototype.drawStartStopNum = function() {\r\n  const canvas = this.canvas;\r\n  const context = this.context;\r\n  context.save();\r\n  context.font = this.center_font_size * 0.3 + 'px ' + this.num_font_family;\r\n  context.fillStyle = this.center_text_color;\r\n  context.textAlign = 'center';\r\n  const y = canvas.height / 3.4;\r\n  context.fillText('0', -canvas.width * 0.32, y);\r\n  context.fillText(this.end_num, canvas.width * 0.32, y);\r\n  context.restore();\r\n};\r\n\r\n// 绘制运动圆环\r\nGauge.prototype.drawgroundCircle = function() {\r\n  const canvas = this.canvas;\r\n  const context = this.context;\r\n  const startRadian = -(Math.PI / 180) * (this.outStartAngleUnComplete || 90); // 开始弧度\r\n  const endRadian = (Math.PI / 180) * (this.outEndAngleUnComplete || (this.outStartAngleUnComplete ? (this.outStartAngleUnComplete + 180) : 270)); // 结束弧度\r\n  const radius = this.outRadius || canvas.width / 2 * 0.7; // 半径\r\n  context.save();\r\n  context.strokeStyle = this.unCompleteStrikeBg;\r\n  context.lineWidth = this.outLineWidth || (canvas.width / 22);\r\n  context.lineCap = this.outLineCap;\r\n  context.beginPath();\r\n  context.arc(\r\n    0,\r\n    0,\r\n    radius,\r\n    startRadian,\r\n    endRadian,\r\n    false\r\n  ); // 用于绘制圆弧context.arc(x坐标，y坐标，半径，起始角度，终止角度，顺时针/逆时针)\r\n  context.stroke();\r\n  context.closePath();\r\n  context.restore();\r\n\r\n  const radianPrecent = (Math.PI / 180) * this.total_degrees * (this._percent / 100); // 运动弧度数\r\n  context.save();\r\n  context.strokeStyle = this.completeStrikeBg;\r\n  context.lineWidth = this.outLineWidth || (canvas.width / 22); // 圆弧边框长度\r\n  if (this._percent) {\r\n    context.lineCap = 'round';\r\n  }\r\n  context.beginPath();\r\n  context.arc(\r\n    0,\r\n    0,\r\n    radius,\r\n    this.innerStartAngleUnComplete ? -(Math.PI / 180) * (this.innerStartAngleUnComplete || 90) : startRadian,\r\n    this.innerEndAngleUnComplete ? ((Math.PI / 180) * this.innerEndAngleUnComplete) : (startRadian + radianPrecent),\r\n    false\r\n  )\r\n  ; // 用于绘制圆弧context.arc(x坐标，y坐标，半径，起始角度，终止角度，顺时针/逆时针)\r\n  context.stroke();\r\n  context.closePath();\r\n  context.restore();\r\n};\r\n\r\n// 绘画灰色圆环\r\nGauge.prototype.drawgrayCircle = function(argument) {\r\n  const canvas = this.canvas;\r\n  const context = this.context;\r\n  const radius = this.innerRadius || canvas.width * 0.3; // 半径\r\n  context.save();\r\n  context.strokeStyle = this.grayCircleStrikeBg;\r\n  context.lineWidth = this.innerLineWidth || (canvas.width / 10);  // 圆弧边框长度\r\n  context.lineCap = this.innerLineCap;\r\n  context.beginPath();\r\n\r\n  const startRadian = -(Math.PI / 180) * (this.grayCircleStartAngleUnComplete || 90) || 0; // 开始弧度\r\n  const endRadian = (Math.PI / 180) *\r\n    (this.grayCircleEndAngleUnComplete || (this.grayCircleStartAngleUnComplete ? (this.grayCircleStartAngleUnComplete + 180) : 270))\r\n    || (Math.PI / 180) * 360; // 结束弧度\r\n  context.arc(\r\n    0,\r\n    0,\r\n    radius,\r\n    startRadian,\r\n    endRadian\r\n  ); // 用于绘制圆弧context.arc(x坐标，y坐标，半径，起始角度，终止角度，顺时针/逆时针)\r\n  context.stroke();\r\n  context.closePath();\r\n  context.restore();\r\n};\r\n\r\n// 画星星\r\nGauge.prototype.drawStar = function() {\r\n  const canvas = this.canvas;\r\n  const context = this.context;\r\n  const radius = this.starSize || canvas.width * 0.025; // 半径\r\n  const ratio = this.starDistance || 5; // 宽度比例\r\n  context.save();\r\n\r\n  context.fillStyle = this._percent >= (1 / 3 * 100) ? '#00AB84' : '#C0E6DD';\r\n  context.beginPath();\r\n  // 设置是个顶点的坐标，根据顶点制定路径\r\n  for (let i = 0; i < 5; i++) {\r\n    const line1 = Math.cos((18 + i * 72) / 180 * Math.PI) * radius;\r\n    const line2 = -Math.sin((18 + i * 72) / 180 * Math.PI) * radius;\r\n    const line3 = Math.cos((54 + i * 72) / 180 * Math.PI) * radius / 5 * 2;\r\n    const line4 = -Math.sin((54 + i * 72) / 180 * Math.PI) * radius / 5 * 2;\r\n    context.lineTo(line1 - canvas.width / ratio, line2 + 0);\r\n    context.lineTo(line3 - canvas.width / ratio, line4 + 0);\r\n  }\r\n  context.fill();\r\n  context.closePath();\r\n\r\n  context.fillStyle = this._percent >= (2 / 3 * 100) ? '#00AB84' : '#C0E6DD';\r\n  context.beginPath();\r\n  // 设置是个顶点的坐标，根据顶点制定路径\r\n  for (let i = 0; i < 5; i++) {\r\n    const line1 = Math.cos((18 + i * 72) / 180 * Math.PI) * radius;\r\n    const line2 = -Math.sin((18 + i * 72) / 180 * Math.PI) * radius;\r\n    const line3 = Math.cos((54 + i * 72) / 180 * Math.PI) * radius / 5 * 2;\r\n    const line4 = -Math.sin((54 + i * 72) / 180 * Math.PI) * radius / 5 * 2;\r\n    context.lineTo(line1 + 0, line2 + -canvas.width / ratio);\r\n    context.lineTo(line3 + 0, line4 + -canvas.width / ratio);\r\n  }\r\n  context.fill();\r\n  context.closePath();\r\n\r\n  context.fillStyle = this._percent >= 100 ? '#00AB84' : '#C0E6DD';\r\n  context.beginPath();\r\n  // 设置是个顶点的坐标，根据顶点制定路径\r\n  for (let i = 0; i < 5; i++) {\r\n    const line1 = Math.cos((18 + i * 72) / 180 * Math.PI) * radius;\r\n    const line2 = -Math.sin((18 + i * 72) / 180 * Math.PI) * radius;\r\n    const line3 = Math.cos((54 + i * 72) / 180 * Math.PI) * radius / 5 * 2;\r\n    const line4 = -Math.sin((54 + i * 72) / 180 * Math.PI) * radius / 5 * 2;\r\n    context.lineTo(line1 + canvas.width / ratio, line2 + 0);\r\n    context.lineTo(line3 + canvas.width / ratio, line4 + 0);\r\n  }\r\n  context.fill();\r\n  context.closePath();\r\n\r\n  context.restore();\r\n};\r\n\r\nGauge.prototype.render = function() {\r\n  const canvas = this.canvas;\r\n  const context = this.context;\r\n  context.save(); // save original state of context to that it can be restore after rendering\r\n  this._prepareStage(); // 准备绘画\r\n  if (this.drawStartStopNumIf) {\r\n    this.drawStartStopNum(); // 画起止数字\r\n  }\r\n  this.drawgrayCircle(); // 画灰色圆\r\n  this.drawgroundCircle(); // 画运动圆环\r\n  if (this.drawStarIf) {\r\n    this.drawStar(); // 画星星\r\n  }\r\n  // figure out how many degrees between each tick\r\n  const numTicks = this.total_tick;\r\n  const rotationDeg = this.total_degrees / (numTicks - 1); // 每一份旋转间距\r\n  // adjust for smaller than 180 degree gauges\r\n  const startingDeg = this.startTickAngle || (180 - this.total_degrees) / 2; // 开始角度\r\n  context.rotate(startingDeg * Math.PI / 180); // 以东边为0顺时针根据刻度总值增加\r\n\r\n  // 绘制游标\r\n  if (this.drawTriangleIf) {\r\n    this.drawTriangle(canvas.width / 2, this.tick_thickness / 2, 0);\r\n  }\r\n  // draw all of the ticks\r\n  for (let i = 1; i <= numTicks; i++) {\r\n    // should this tick be on or off?\r\n    const isOn = (((i - 1) / numTicks) * 100 < this._percent);\r\n    // scale the ticks at group split\r\n    const isLargeTick = this.isLargeTick(i);\r\n    // const rect_scale = isLargeTick ? this.large_tick_scale : 1;\r\n    const tickLength = isLargeTick ? this.large_tick_length : this.tick_length;\r\n    // draw tick\r\n    const color = isOn ? this.tick_on_color : this.tick_color;\r\n    context.fillStyle = color;\r\n    if (isLargeTick) { // 只有长的才绘制数字\r\n      context.fillRect(-1 * (canvas.width / 2) + this.triangle_height, -this.tick_thickness / 2, tickLength, this.tick_thickness); // 绘制刻度线\r\n      if (this.show_num) { // 绘制表盘数字\r\n        this.drawGaugeNum(tickLength, i);\r\n      }\r\n    } else {\r\n      const x = -1 * (canvas.width / 2) + this.triangle_height + this.delatLength;\r\n      const y = -this.tick_thickness / 2;\r\n      context.fillRect(\r\n        x,\r\n        y,\r\n        tickLength,\r\n        this.tick_thickness);\r\n    }\r\n\r\n    // rotate for next tick to be placed\r\n    context.rotate(rotationDeg * Math.PI / 180);\r\n  }\r\n  context.restore(); // set back to original state\r\n  return true;\r\n};\r\n\r\n// Gauge.prototype.setTickOnColor = function(colorStr) {\r\n//   this.tick_on_color = colorStr;\r\n// };\r\n// Gauge.prototype.setAnimaDur = function(duration) {\r\n//   this.animation_duration = duration;\r\n// };\r\n\r\nGauge.prototype.updatePercent = function(percent, options) {\r\n  if (percent < 0) {\r\n    return;\r\n  } else if (percent > 100) {\r\n    percent = 100;\r\n  }\r\n  const self = this;\r\n  this._target_percent = percent;\r\n  options = options || {};\r\n  const duration = ('animation_duration' in options) ? options.animation_duration : self.animation_duration;\r\n  if (duration) {\r\n    let lastUpdate = new Date().getTime();\r\n    const start = this._percent;\r\n    const end = this._target_percent;\r\n    const changePerms = (end - start) / duration;\r\n    const increasing = changePerms > 0 ? 1 : 0;\r\n    const update = () => {\r\n      const now = new Date().getTime();\r\n      const elapsed = now - lastUpdate;\r\n      self._percent += elapsed * changePerms;\r\n      lastUpdate = now;\r\n      // check if we've made it to our stopping point\r\n      if ((increasing && self._percent < self._target_percent)\r\n        || (!increasing && self._percent > self._target_percent)) {\r\n        self.render();\r\n        self._requestAnimFrame(update);\r\n      } else {\r\n        self._percent = self._target_percent;\r\n        self.render();\r\n      }\r\n    };\r\n    self._requestAnimFrame(update);\r\n  } else {\r\n    self._percent = percent;\r\n    self.render();\r\n  }\r\n};\r\n\r\nGauge.prototype.refresh = function(value, total) {\r\n  if (typeof value !== 'number' || typeof total !== 'number') {\r\n    console.error('参数必须是number');\r\n    return;\r\n  }\r\n  const percent = total === 0 ? 0 : (value / total) * 100;\r\n  this.value = value;\r\n  this.end_num = total;\r\n  this.updatePercent(percent);\r\n};\r\n\r\nexport default Gauge as any;\r\n","<nz-layout style=\"width: 100%;height:100%;\">\r\n  <nz-header class=\"section-header border\">\r\n    <div class=\"package-name\">\r\n      <span class=\"section-header-title\">{{ data?.taskName }}</span>\r\n    </div>\r\n\r\n    <div class=\"padding-right\">\r\n      <button nz-button nz-popover nzType=\"link\" class=\"gray-text\" [nzSize]=\"'small'\" nzPopoverTitle=\"实训任务说明\" [nzPopoverContent]=\"contentTemplate\" nzPopoverPlacement=\"leftBottom\">\r\n        <i nz-icon nzType=\"question-circle\" nzTheme=\"outline\"></i>\r\n        任务说明\r\n      </button>\r\n      <ng-template #contentTemplate>\r\n        <div class=\"score-explain\" style=\"width: 300px;\">\r\n          <p>实训任务的经验值按照总经验*实训评价分/100计算</p>\r\n          <p>结束时间是当天的23:59自动结束，逾期不能获得经验值</p>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n\r\n  </nz-header>\r\n\r\n  <div class=\"wrapper\">\r\n    <!-- 任务未结束 && 任务未完成 -->\r\n    <div>\r\n      <div id=\"container\" style=\"width: 500px;margin: 0 auto;\"></div>\r\n      <div class=\"remarks\">\r\n        *每天14:00数据更新，最近更新{{ today | date:'MM月dd日' }}14:00\r\n      </div>\r\n    </div>\r\n    <!-- 任务已结束 && 任务未完成 -->\r\n<!--    <ng-container *ngIf=\"data.taskFinish === '1' && data.status === '0'\">-->\r\n<!--      <div class=\"background fail\">-->\r\n<!--        <div class=\"company-name\">{{data.trainStatistic.companyName}}</div>-->\r\n<!--      </div>-->\r\n<!--    </ng-container>-->\r\n<!--    <ng-container *ngIf=\"data.status === '1'\">-->\r\n<!--      <div class=\"background success\">-->\r\n<!--        <div class=\"score\">{{data.trainStatistic.exp}}</div>-->\r\n<!--        <div class=\"company-name\">{{data.trainStatistic.companyName}}</div>-->\r\n<!--      </div>-->\r\n<!--      <div class=\"statistics\">-->\r\n<!--        <div>-->\r\n<!--          <p>{{data.trainStatistic.usedTime}}<span>天</span></p>-->\r\n<!--          <p>总用时</p>-->\r\n<!--        </div>-->\r\n<!--        <div class=\"border-left\">-->\r\n<!--          <p>{{data.trainStatistic.rank}}</p>-->\r\n<!--          <p>击败班级同学</p>-->\r\n<!--        </div>-->\r\n<!--      </div>-->\r\n<!--    </ng-container>-->\r\n    <div class=\"wrapper-btn\">\r\n      <button nz-button nzType=\"primary\" nzShape=\"round\" nzBlock (click)=\"goToTrain()\" >前往实训</button>\r\n    </div>\r\n  </div>\r\n</nz-layout>\r\n","import {Component, OnInit, Input, OnChanges, SimpleChanges} from '@angular/core';\r\nimport Gauge from 'core/dashboard/dashboard';\r\nimport {NzNotificationService} from 'ng-zorro-antd/notification';\r\nimport {TrainManageService} from '@app/busi-services';\r\nimport {NzMessageService} from 'ng-zorro-antd/message';\r\n\r\n@Component({\r\n  selector: 'app-train-task',\r\n  templateUrl: './train-task.component.html',\r\n  styleUrls: ['./train-task.component.less']\r\n})\r\nexport class TrainTaskComponent implements OnInit, OnChanges {\r\n  @Input() data: any = {};\r\n\r\n  today: Date = new Date();\r\n\r\n  constructor(\r\n    private notificationService: NzNotificationService,\r\n    private trainManageService: TrainManageService,\r\n    private nzMesService: NzMessageService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getDay();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    this.initializeDashboard(0, 0);\r\n  }\r\n\r\n  initializeDashboard(value: number, total: number = 0) {\r\n    const d = new Gauge({\r\n      tick_color: '#6C7179', // 未达到的刻度颜色\r\n      tick_on_color: '#00AB84', // // 已达到的刻度颜色\r\n      center_font_size: 40, // 中心数值字体大小\r\n      animation_duration: 1000, // 动画持续时间\r\n      value, // 当前数值\r\n      end_num: total, // 总数值\r\n      container: 'container', // 容器\r\n      center_bottom_text: '进度', // 数值底部文案\r\n      center_text_color: '#6C7179', // 数值字体颜色\r\n    });\r\n  }\r\n\r\n  goToTrain() {\r\n    this.trainManageService.getAccountPeriodId(this.data.resourceId).subscribe(res => {\r\n      if (res.status === 200) {\r\n        const params = {\r\n          id: this.data.resourceId,\r\n          accountId: res.data.accountId,\r\n        };\r\n        const success = (resP: any) => {\r\n          if (resP.status === 200) {\r\n            if (resP.data) {\r\n              window.open(resP.data, '_blank');\r\n            }\r\n          } else {\r\n            this.notificationService.warning('实训任务开通失败，请联系管理员', '');\r\n          }\r\n        };\r\n        const error = (err: any) => {\r\n          this.notificationService.warning('实训任务开通失败，请联系管理员', '');\r\n          // this.nzMesService.create('error', JSON.stringify(err));\r\n        };\r\n        this.trainManageService.getPracticalDetail(params).subscribe(success, error);\r\n      }\r\n    });\r\n    // const {url} = this.data.trainStatistic;\r\n    // if (url) {\r\n    //   window.open(url, '_blank');\r\n    // } else {\r\n    //   this.notificationService.warning('实训任务开通失败，请联系管理员', '');\r\n    // }\r\n  }\r\n\r\n  getDay() {\r\n    if (this.today.getHours() < 14) {\r\n      this.today = new Date(this.today.getTime() - 24 * 60 * 60 * 1000);\r\n    }\r\n  }\r\n\r\n}\r\n","<nz-layout style=\"width: 100%;height:100%;\">\r\n  <nz-header class=\"section-header border\">\r\n    <div class=\"package-name\">\r\n      <span class=\"section-header-title\">{{ data.taskType === '4' ? data.title : data?.taskName }}</span>\r\n    </div>\r\n\r\n    <div class=\"padding-right\">\r\n      <button nz-button nzType=\"link\" class=\"gray-text\" [nzSize]=\"'small'\" *ngIf=\"data.downloadType === '2'\"\r\n              (click)=\"download()\">\r\n        <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n        下载到本地\r\n      </button>\r\n    </div>\r\n  </nz-header>\r\n\r\n  <div class=\"wrapper\">\r\n    <div class=\"test-box\">\r\n      <div class=\"test-title\">\r\n        <h3>考试</h3>\r\n        <h5>{{data.taskFinish == '0' ? '进行中' : data.taskFinish == '1' ? '已结束' : ''}}</h5>\r\n      </div>\r\n      <div class=\"test-info\">\r\n        <ul>\r\n          <li><span>考试类型</span><span>{{getName()}}</span></li>\r\n          <li><span>完成情况</span><span [ngClass]=\"{'red':true}\">未完成</span></li>\r\n          <li><span>结束时间</span><span></span></li>\r\n        </ul>\r\n        <div class=\"test-operation\">\r\n          <div class=\"no-end\" *ngIf=\"((answerTimes >= (data.taskTimes || 0)) || answerTimes === 0)\">\r\n            <p>\r\n              <button nz-button\r\n                      (click)=\"gotoTest()\">前往考试\r\n              </button>\r\n              <span>剩余次数：{{answerTimes == 0 ? '不限次数' : (data.taskTimes || 0) + '/' + answerTimes}}</span>\r\n            </p>\r\n          </div>\r\n          <div class=\"end\" *ngIf=\"!((answerTimes >= (data.taskTimes || 0)) || answerTimes === 0)\">\r\n            <button nz-button>前往考试</button>\r\n            <span>剩余次数：{{answerTimes === 0 ? '不限次数' : (data.taskTimes || 0) + '/' + answerTimes}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</nz-layout>\r\n\r\n","import {Component, OnInit, Input, Output, EventEmitter} from '@angular/core';\r\nimport {NzMessageService} from 'ng-zorro-antd/message';\r\nimport {AliOssService} from 'core/services/ali-oss.service';\r\nimport {LocalStorageUtil} from 'core/utils/localstorage.util';\r\nimport {TaskCenterService} from 'core/services/task-center.service';\r\nimport {environment} from '../../../src/environments/environment';\r\nimport {CourseManageService} from '@app/busi-services';\r\n\r\n@Component({\r\n  selector: 'app-test-task',\r\n  templateUrl: './test-task.component.html',\r\n  styleUrls: ['./test-task.component.less'],\r\n})\r\nexport class TestTaskComponent implements OnInit {\r\n  @Input() curTask: any;\r\n  @Input() data: any;\r\n  @Input() id = '';\r\n  @Output() finishTaskCallBack = new EventEmitter<any>();\r\n  isShow = false;\r\n  url: any;\r\n  isLoading = false;\r\n  attachmentPath = '';\r\n  userInfo = LocalStorageUtil.getUser();\r\n  status = ['未完成', '已完成', '重做'];\r\n  testType = ['阶段考试', '单科考试', '模拟考试', '密押考试', '机考考试', '实操考试'];\r\n  paperType: any;\r\n  answerTimes: any;\r\n  examLength: any;\r\n  isComputer: any;\r\n  isRedo: any;\r\n  resultWay: any;\r\n  passScore: any;\r\n  computerType: any;\r\n\r\n  constructor(\r\n    private message: NzMessageService,\r\n    private aliOss: AliOssService,\r\n    private taskService: TaskCenterService,\r\n    private courseMgService: CourseManageService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.courseMgService.getExamination(this.data.id).subscribe(res => {\r\n      this.paperType = res.data.paperType;\r\n      this.answerTimes = res.data.answerTimes;\r\n      this.examLength = res.data.examLength;\r\n      this.isComputer = res.data.isComputer;\r\n      this.isRedo = res.data.isRedo;\r\n      this.resultWay = res.data.resultWay;\r\n      this.passScore = res.data.passScore;\r\n      this.computerType = res.data.computerType;\r\n    });\r\n  }\r\n\r\n  getName() {\r\n    switch (this.paperType) {\r\n      case '1' :\r\n        return '阶段考试';\r\n      case '2' :\r\n        return '单科考试';\r\n      case '3' :\r\n        return '模拟考试';\r\n      case '4' :\r\n        return '密押考试';\r\n      case '5' :\r\n        return '机考考试';\r\n      case '6' :\r\n        return '实操考试';\r\n      default:\r\n        return '阶段考试';\r\n    }\r\n  }\r\n\r\n  download() {\r\n    const filename = this.data.taskType === '4' ? this.data.title : this.data?.taskName;\r\n    this.aliOss.download({attachmentName: filename, ...this.data});\r\n  }\r\n\r\n  gotoTest() {\r\n    this.a();\r\n  }\r\n\r\n  testTask() {\r\n    const taskId = this.curTask.studentTaskId ? this.curTask.studentTaskId : this.curTask.id;\r\n    this.taskService.previewTestTask(this.curTask.busId, taskId, this.userInfo.id).subscribe((res) => {\r\n      if (res.status === 200) {\r\n        this.data = res.data;\r\n        this.a();\r\n      }\r\n    });\r\n  }\r\n\r\n  a() {\r\n    if (this.answerTimes !== 0 && (this.data.taskTimes === this.answerTimes || this.data.taskTimes > this.answerTimes)) {\r\n      this.message.info('考试次数已用完');\r\n      return false;\r\n    }\r\n    this.data.taskTimes = (this.data.taskTimes || 0) + 1;\r\n    const a = document.createElement('a');\r\n    a.target = '_black';\r\n    a.href = environment.tkPage + '/practice?uuid=' +\r\n      this.data.resourceId.split('-')[0] +\r\n      '&examId=88888888' +\r\n      '&uid=88888888&examDuration=' + this.examLength +\r\n      '&examType=' + (this.computerType === '2' ? 'middle' : 'junior') + '&redo=' + this.isRedo;\r\n    a.click();\r\n  }\r\n}\r\n","<nz-layout style=\"width: 100%;height:100%;\">\r\n  <nz-header class=\"section-header border\">\r\n    <div class=\"package-name\">\r\n      <span class=\"section-header-title\">{{ data.taskType === '4' ? data.title : data?.taskName }}</span>\r\n    </div>\r\n\r\n    <div class=\"padding-right\">\r\n      <button nz-button nzType=\"link\" class=\"gray-text\" [nzSize]=\"'small'\" *ngIf=\"data.downloadType === '2'\" (click)=\"download()\">\r\n        <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n        下载到本地\r\n      </button>\r\n    </div>\r\n  </nz-header>\r\n\r\n  <div class=\"wrapper\">\r\n    <div class=\"test-box\">\r\n      <div class=\"test-title\">\r\n        <h3>{{curTask.taskType === '6'?'调查问卷':'问卷测评'}}</h3>\r\n        <h5>{{data.taskFinish=='0'?'进行中':data.taskFinish=='1'?'已结束':''}}</h5>\r\n      </div>\r\n      <div class=\"test-info\">\r\n        <ul *ngIf=\"curTask.taskType === '7'\">\r\n          <!-- <li><span>考试类型</span><span>{{testType[data.paperType-1]}}</span></li> -->\r\n          <li><span>完成情况</span><span [ngClass]=\"{'red':true}\">{{status[data.status]}}</span></li>\r\n          <!-- <li><span>经验值</span><span [ngClass]=\"{'green':true}\">{{data.stuExp}}/{{data.exp}}</span></li> -->\r\n          <li><span>结束时间</span><span>{{data.endTime | date:'yyyy年MM月dd日'}}</span></li>\r\n        </ul>\r\n        <div class=\"test-operation\" [ngClass]=\"{'check':curTask.taskType === '6'}\">\r\n          <div class=\"no-end\" *ngIf=\"data.taskFinish!=='1'\">\r\n            <p><button nz-button\r\n              (click)=\"gotoTest()\">{{curTask.taskType === '6'?'调查问卷':'问卷测评'}}</button>\r\n            </p>\r\n            <!-- <p><button nz-button (click)=\"gotoTest(true)\">考试记录</button></p> -->\r\n          </div>\r\n          <div class=\"end\" *ngIf=\"data.taskFinish=='1'\">\r\n            <button nz-button >{{curTask.taskType === '6'?'调查问卷':'问卷测评'}}</button>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</nz-layout>\r\n\r\n","import {Component, OnInit, Input, Output, EventEmitter} from '@angular/core';\r\nimport {NzMessageService} from 'ng-zorro-antd/message';\r\nimport {AliOssService} from 'core/services/ali-oss.service';\r\nimport {LocalStorageUtil} from 'core/utils/localstorage.util';\r\nimport {TaskCenterService} from 'core/services/task-center.service';\r\nimport {environment} from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-question-task',\r\n  templateUrl: './question-task.component.html',\r\n  styleUrls: ['./question-task.component.less'],\r\n})\r\nexport class QuestionTaskComponent implements OnInit {\r\n  @Input() curTask: any;\r\n  @Input() data: any;\r\n  @Input() id = '';\r\n  @Output() finishTaskCallBack = new EventEmitter<any>();\r\n  isShow = false;\r\n  url: any;\r\n  isLoading = false;\r\n  question = false;\r\n  attachmentPath = '';\r\n  userInfo = LocalStorageUtil.getUser();\r\n  status = ['未完成', '已完成', '重做'];\r\n  testType = ['阶段考试', '单科考试', '模拟考试', '密押考试', '机考考试', '实操考试'];\r\n\r\n  constructor(\r\n    private message: NzMessageService,\r\n    private aliOss: AliOssService,\r\n    private taskService: TaskCenterService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  download() {\r\n    const pathArr = this.attachmentPath.split('.');\r\n    const filename = this.data.taskType === '4' ? this.data.title : this.data?.taskName;\r\n    const name = filename + '.' + pathArr[pathArr.length - 1];\r\n    this.aliOss.download({attachmentName: filename, ...this.data});\r\n  }\r\n\r\n  gotoTest() {\r\n    if (this.question) {\r\n      this.questionTask();\r\n      return false;\r\n    }\r\n    this.a();\r\n  }\r\n\r\n  questionTask() {\r\n    const taskId = this.curTask.studentTaskId ? this.curTask.studentTaskId : this.curTask.id;\r\n    this.taskService.previewTestTask(this.curTask.busId, taskId, this.userInfo.id).subscribe((res) => {\r\n      if (res.status === 200) {\r\n        this.data = res.data;\r\n        this.a();\r\n      }\r\n    });\r\n  }\r\n\r\n  a() {\r\n    if (this.data.taskFinish === '1') {\r\n      this.message.info(`${this.curTask.taskType === '6' ? '调查问卷已完成' : '问卷测评已完成'}`);\r\n      return false;\r\n    }\r\n    // this.question = true;\r\n    const a = document.createElement('a');\r\n    a.target = '_black';\r\n    a.href =\r\n      environment.tkPage + '/practice?uuid=' +\r\n      this.data.resourceId.split('-')[0] + '&uid=88888888&examId=88888888&redo=1&tikuType='\r\n      + (this.curTask.taskType === '6' ? 4 : 5) + '&linkFromseeai';\r\n    a.click();\r\n  }\r\n}\r\n","<nz-layout class=\"l-main live-container\">\r\n  <nz-header class=\"white-bg\">\r\n    <div class=\"header-box\">\r\n      <div class=\"header-left\">\r\n        <button nz-button nzType=\"link\" class=\"gray-text\" (click)=\"goBack()\">\r\n          <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>\r\n          返回\r\n        </button>\r\n      </div>\r\n      <div class=\"header-tilte\">{{ title }}</div>\r\n      <div class=\"header-status\">\r\n        <p *ngIf=\"lessonPlanType === '11'\">\r\n          <i nz-icon nzType=\"bar-chart\" nzTheme=\"outline\"></i>\r\n          面授{{statusName[status]}}\r\n        </p>\r\n        <ng-container *ngIf=\"lessonPlanType === '21'\">\r\n          <p *ngIf=\"status === '0'\" class=\"ant-btn-link gray-text\">\r\n            直播未开始\r\n          </p>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n  </nz-header>\r\n\r\n  <nz-layout class=\"l-main padding gray-bg\"  style=\"flex-direction: row;\">\r\n    <nz-sider class=\"sider white-bg\" [nzWidth]=\"hideBtn ? 0 :360\" [style]=\"{'margin-right': hideBtn ? '0' : '18px'}\">\r\n      <app-task-list (hideBtnChange)=\"hideBtn = !hideBtn\" (taskItemChanges)=\"setSelect($event)\" [refreshList]=\"refreshList\"></app-task-list>\r\n    </nz-sider>\r\n\r\n    <nz-content  class=\"l-main\" style=\"position: relative;\">\r\n      <nz-spin class=\"spin\" nzSimple  nzTip=\"加载中...\" [nzSpinning]=\"isLoading\"></nz-spin>\r\n      <ng-container *ngIf=\"!isLoading && curTask.selectedItem\">\r\n        <!-- 阅读和课后资料 -->\r\n        <app-read-task\r\n          *ngIf=\"curTask.taskType==='0'\"\r\n          [data]=\"curTask.selectedItem\"\r\n          [id]=\"curTask.id\"\r\n          (finishTaskCallBack)=\"finishTask($event)\">\r\n        </app-read-task>\r\n\r\n        <!-- 案例 -->\r\n        <app-case-complex-task\r\n          *ngIf=\"curTask.taskType==='1'\"\r\n          [data]=\"curTask.selectedItem\"\r\n          (finishTaskCallBack)=\"finishTask($event)\">\r\n        </app-case-complex-task>\r\n\r\n        <!-- 习题 -->\r\n        <app-exercise-task\r\n          *ngIf=\"curTask.taskType==='2'\"\r\n          [curTask]=\"curTask\"\r\n          [data]=\"curTask.selectedItem\"\r\n          (finishTaskCallBack)=\"finishTask($event)\">\r\n        </app-exercise-task>\r\n\r\n        <!-- 实训 -->\r\n        <app-train-task\r\n          *ngIf=\"curTask.taskType==='3'\"\r\n          [data]=\"curTask.selectedItem\" >\r\n        </app-train-task>\r\n\r\n         <!-- 考试 -->\r\n        <app-test-task\r\n          *ngIf=\"curTask.taskType==='4'\"\r\n          [curTask]=\"curTask\"\r\n          [data]=\"curTask.selectedItem\"\r\n          [id]=\"curTask.id\"\r\n        >\r\n        </app-test-task>\r\n         <!-- 问卷  测评 -->\r\n        <app-question-task\r\n          *ngIf=\"curTask.taskType==='6' || curTask.taskType==='7'\"\r\n          [curTask]=\"curTask\"\r\n          [data]=\"curTask.selectedItem\"\r\n          [id]=\"curTask.id\">\r\n        </app-question-task>\r\n      </ng-container>\r\n      <!-- 没选择任务 -->\r\n      <!-- <ng-container *ngIf=\"curTask.taskType === '-999'\">\r\n        <app-default-task></app-default-task>\r\n      </ng-container> -->\r\n    </nz-content>\r\n  </nz-layout>\r\n</nz-layout>\r\n\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport {MyClassService} from 'src/app/busi-services/my-class.service';\r\nimport {NzMessageService} from 'ng-zorro-antd/message';\r\nimport {Subject, Observable, forkJoin, of} from 'rxjs';\r\nimport {switchMap, catchError, map} from 'rxjs/operators';\r\nimport {TikuService} from 'src/app/busi-services/tiku.service';\r\nimport {ExerciseTaskService} from './exercise-task/exercise-task.service';\r\nimport {TaskCenterService} from 'core/services/task-center.service';\r\nimport {LocalStorageUtil} from 'core/utils/localstorage.util';\r\nimport {SessionStorageUtil} from 'core/utils/sessionstorage.util';\r\nimport {ApiService} from 'core/services/api.service';\r\nimport {NotifyService} from 'core/services/notify.service';\r\nimport {CourseManageService, KnowledgeManageService} from '@app/busi-services';\r\n\r\n@Component({\r\n  selector: 'app-section-task',\r\n  templateUrl: './section-task.component.html',\r\n  styleUrls: ['./section-task.component.less'],\r\n  providers: [ExerciseTaskService]\r\n})\r\nexport class SectionTaskComponent implements OnInit {\r\n  // 标题\r\n  title = '';\r\n  // 状态名\r\n  statusName = ['未开始', '正在进行', '已结束'];\r\n  status = '0';\r\n  isLoading = false;\r\n  // 参数，用来定位上一级菜单\r\n  fromParams = '';\r\n  selectedTask$ = new Subject<any>();\r\n  // 当前选择任务\r\n  curTask: any = {\r\n    taskType: '-999',\r\n    selectedItem: {}\r\n  };\r\n  // 课次id\r\n  lessonTimeId = ''; // 任务\r\n  // 授课类别\r\n  lessonPlanType = '0';\r\n  lessonTimeData: any = {};\r\n  // 直播的\r\n  liveStudioId = '';\r\n  urlParams: any = {};\r\n  userInfo: any = {};\r\n  liveAddress = '';\r\n  showLiveBtn = true;\r\n  lessonPlanId = '';\r\n  hideBtn = false;\r\n  refreshList = false;\r\n  recordUrl = '';\r\n  private handouts: any; // 接下所有\r\n  private taskList: any;\r\n  private selectedId: string;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private taskService: TaskCenterService,\r\n    private message: NzMessageService,\r\n    private myClassService: MyClassService,\r\n    private apiService: ApiService,\r\n    private notifyService: NotifyService,\r\n    private tikuService: TikuService,\r\n    private exerciseTaskService: ExerciseTaskService,\r\n    private courseMgService: CourseManageService,\r\n    private knowledgeManageService: KnowledgeManageService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.urlParams = LocalStorageUtil.getBaseParams();\r\n    this.selectedId = LocalStorageUtil.getDefaultTask();\r\n    this.userInfo = LocalStorageUtil.getUser();\r\n    this.lessonTimeId = this.urlParams.lessonTimeId;\r\n    this.lessonPlanType = this.urlParams.lessonPlanType;\r\n    this.title = this.urlParams.OutlineData.sectionName;\r\n    this.getInfoList();\r\n  }\r\n\r\n  getInfoList() {\r\n    this.isLoading = true;\r\n    forkJoin([this.getTaskListInfo()]).subscribe(([source2]) => {\r\n      if (source2.status === 200) {\r\n        if (source2.data && source2.data.length) {\r\n          this.taskList = source2.data;\r\n          this.taskList.forEach((data, i) => {\r\n            this.taskList[i].isDownloadType = data.downloadType === '1' ? true : false;\r\n            this.taskList[i].isNeed = data.isNeed === '1' ? true : false;\r\n          });\r\n        } else {\r\n          this.taskList = [];\r\n        }\r\n      }\r\n      this.taskList = this.taskList.concat(this.urlParams.OutlineData.mainFileTaskList);\r\n      this.getDetail(this.selectedId);\r\n      this.selectTask();\r\n      this.getLive();\r\n      this.isLoading = false;\r\n    }, err => {\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  // 讲义列表\r\n  private getHandoutFiles() {\r\n    return this.courseMgService.sectionFileList_courseSectionFile(this.urlParams.courseSectionId);\r\n  }\r\n\r\n  // 任务列表\r\n  private getTaskListInfo() {\r\n    return this.knowledgeManageService.getTaskList({\r\n      courseSectionId: this.urlParams.courseSectionId\r\n    });\r\n  }\r\n\r\n\r\n  getLive() {\r\n    this.liveAddress = SessionStorageUtil.getLiveAddress();\r\n    this.notifyService.showLive.subscribe(res => {\r\n      this.liveAddress = res.liveAddress;\r\n    });\r\n  }\r\n\r\n\r\n  private getDetail(id) {\r\n    this.taskList.every(h => {\r\n      if (h.id === id) {\r\n        this.curTask.id = h.id;\r\n        this.curTask.selectedItem = h; //\r\n        this.curTask.taskType = h.taskType;\r\n        this.curTask.selectedItem.downloadType = h.downloadType ? h.downloadType : this.curTask.downloadType; //\r\n      } else {\r\n        return true;\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  // tslint-disable\r\n  selectTask() {\r\n    // taskType：0：阅读，1：案例，2：习题，3：实训, 考试(4)、实战(5)\r\n    this.selectedTask$.subscribe(res => {\r\n      // switch (res.taskType) {\r\n      //   case '2': // 作业任务\r\n      //   case '3': // 实训任务\r\n      //   case '4':  // 考试\r\n      //   case '6': // 问卷\r\n      //   case '7':  // 调研\r\n      //   case '0':  // 阅读库\r\n      //   case '1': // 案例库\r\n      // }\r\n      if (res.taskType === '2') {\r\n        this.curTask.status = '2';\r\n        this.exerciseTaskService.exeMode = this.exerciseTaskService.toExerciseMode({}); // 重做，收藏，错题，一般\r\n        this.exerciseTaskService.exeStatus = this.exerciseTaskService.toExerciseStatus({taskInfo: this.curTask});\r\n      }\r\n      this.getDetail(res.id);\r\n    });\r\n    //   .subscribe((res: any) => {\r\n    //     if (this.curTask.taskType === '3') { // 实训\r\n    //       const trainStatistic = res.data;\r\n    //       this.curTask.selectedItem = {...this.curTask, trainStatistic};\r\n    //     } else if (this.curTask.taskType === '2') {  // 练习\r\n    //       this.curTask.selectedItem = res.data;\r\n    //     } else { // 阅读\r\n    //       this.curTask.selectedItem = res.data; //\r\n    //       this.curTask.selectedItem.taskType = this.curTask.taskType; //\r\n    //       this.curTask.selectedItem.downloadType = res.data.downloadType ? res.data.downloadType : this.curTask.downloadType; //\r\n    //     }\r\n    //   }\r\n    // );\r\n  }\r\n\r\n  goBack() {\r\n    LocalStorageUtil.setDefaultTask('');\r\n    LocalStorageUtil.putBaseParams({});\r\n    this.router.navigateByUrl(`/of/outline-fl`);\r\n  }\r\n\r\n\r\n  // 任务选择\r\n  setSelect(item) {\r\n    this.curTask = {...item};\r\n    const params = {\r\n      taskType: item.taskType, // 任务类型\r\n      id: item.id, // 任务id\r\n    };\r\n    this.selectedTask$.next(params);\r\n  }\r\n\r\n  // 作业完成的回调\r\n  finishTask(data) {\r\n    if (this.curTask.taskType === '0') {\r\n      this.curTask.exp = this.curTask.totalExp;\r\n    }\r\n    setTimeout(() => {\r\n      this.isLoading = true;\r\n      this.refreshList = !this.refreshList;\r\n    }, 1000);\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <nz-collapse \r\n    [style]=\"{ border: 'none', 'background-color': '#f0f1f3'}\">\r\n    <nz-collapse-panel\r\n      *ngFor=\"let node of nodes;let idx=index;\"\r\n      class=\"collapse-panel\"\r\n      [(nzActive)]=\"node.active\"\r\n      [nzShowArrow]=\"false\"\r\n      [nzHeader]=\"panelHeaderTpl\"\r\n      [nzExtra]=\"extraTpl\"\r\n      (nzActiveChange)=\"sectionChange(node)\">\r\n      <ng-template #panelHeaderTpl>\r\n        <span style=\"margin-right: 20px;\">第{{ idx + 1}}章</span><span>{{ node.chapterName}}</span>\r\n      </ng-template>\r\n      <ng-template #extraTpl>\r\n        <img *ngIf=\"!node.loading\" [class]=\"{'arrow-direction': node.active }\" src=\"assets/images/up.png\" atl=\"up\" />\r\n        <i nz-icon *ngIf=\"node.loading\" [nzType]=\"'loading'\"></i>\r\n      </ng-template>\r\n      <div *ngIf=\"node.children && node.children.length === 0 && !node.loading\">\r\n        <nz-empty></nz-empty>\r\n      </div>\r\n      <div class=\"list\">\r\n        <div class=\"list-item\" *ngFor=\"let item of node.children;let sectionIdx=index;\" cdkDrag>\r\n          <div>\r\n            <span class=\"section-name\">{{ item.sectionIdxName}}</span>\r\n            <span class=\"task-name\">{{ item.name}}</span>\r\n          </div>\r\n          <div class=\"action-group\">\r\n            <ng-container>\r\n              <span class=\"exe-num\">{{ statusName[item.studentTaskStatus || item.status] }}</span>\r\n              <button nz-button nzType=\"default\" \r\n                class=\"action-btn\" \r\n                [class]=\"{'action-btn-disabled' : !item.taskStautsResult.status}\" \r\n                (click)=\"redoExecrise(item)\">\r\n                练习\r\n              </button>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nz-collapse-panel>\r\n  </nz-collapse>\r\n</div>","import { Component, OnInit, Input, OnChanges, SimpleChange } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { MyClassService } from 'src/app/busi-services/my-class.service';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { forkJoin, Observable, Subscriber } from 'rxjs';\r\nimport {LocalStorageUtil} from 'core/utils/localstorage.util';\r\nimport {SessionStorageUtil} from 'core/utils/sessionstorage.util';\r\nimport {TaskCenterService} from 'core/services/task-center.service';\r\n@Component({\r\n  selector: 'app-tiku-exercise-set',\r\n  templateUrl: './tiku-exercise-set.component.html',\r\n  styleUrls: ['./tiku-exercise-set.component.less']\r\n})\r\nexport class TikuExerciseSetComponent implements OnInit, OnChanges {\r\n\r\n  @Input() nodes: any[] = [];\r\n  @Input() selectedCourse: any;\r\n  statusName = ['未完成', '已完成', '重做', '待自评'];\r\n  constructor(\r\n    private router: Router,\r\n    private nzMsg: NzMessageService,\r\n    private taskService: TaskCenterService,\r\n    private myClassService: MyClassService) { }\r\n\r\n  ngOnChanges(changes: {[key: string]: SimpleChange}): void {\r\n    const { selectedCourse } = changes;\r\n    if (selectedCourse && selectedCourse.currentValue) {\r\n     this.getStudyOutline(this.selectedCourse.coursePacketId);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getStudyOutline(coursePacketId: string): void {\r\n    this.myClassService.getStudyOutline(coursePacketId).subscribe(res => {\r\n      if (res.status === 200) {\r\n        this.nodes = res.data.chapterList;\r\n        if (this.nodes .length > 0) {\r\n          this.nodes[0].active = true;\r\n          this.getChapterTask(this.nodes[0]);\r\n        }\r\n      } else {\r\n        this.nzMsg.error(JSON.stringify(res));\r\n      }\r\n    });\r\n  }\r\n\r\n  sectionChange(chapter: any) {\r\n    if (chapter.loading) {\r\n      return;\r\n    }\r\n    if (!chapter.children || chapter.children.length === 0) {\r\n      this.getChapterTask(chapter);\r\n    }\r\n  }\r\n\r\n  getChapterTask(chapter: any) {\r\n    const chapterId = chapter.chapterId;\r\n    const { id: orderDetailId } = this.selectedCourse;\r\n    if (!orderDetailId) {\r\n      return;\r\n    }\r\n    const params = {\r\n      orderDetailId,\r\n      chapterId\r\n    };\r\n    chapter.loading = true;\r\n    this.myClassService.getTask(params).subscribe(res => {\r\n      if (res.status === 200) {\r\n        const sections: any[] = res.data;\r\n        const taskList: any[] = sections.reduce((pre, cur, index) => {\r\n          const mainFileTaskList: any[] = Array.isArray(cur.mainFileTaskList) ? cur.mainFileTaskList : [];\r\n          const maintasks = mainFileTaskList.map(task => ({\r\n            ...task,\r\n            taskName: task.name,\r\n            sectionIdxName: `第${index + 1}节`,\r\n            sectionName: cur.sectionName\r\n          }));\r\n          pre.push(maintasks);\r\n          const sectionTaskList: any[] = Array.isArray(cur.taskList) ? cur.taskList : [];\r\n          const tasks = sectionTaskList.map(task => ({\r\n            ...task,\r\n            taskName: task.name,\r\n            sectionIdxName: `第${index + 1}节`,\r\n            sectionName: cur.sectionName\r\n          }));\r\n          pre.push(tasks);\r\n          return pre;\r\n        }, []).flat(1).filter(task => (task.taskType === '2' || task.taskType === '4') && task.taskStatus !== '2'); // 作业任务，试卷，状态不是撤回\r\n        if (taskList.length === 0) {\r\n          chapter.children = [];\r\n          chapter.loading = false;\r\n          return;\r\n        }\r\n        this.getExamTaskInfo(taskList).subscribe(taskInfo => {\r\n          chapter.children = taskList.map(task => {\r\n            return {\r\n              ...task,\r\n              taskStautsResult: this.getTaskStatus(task)\r\n            };\r\n          });\r\n          chapter.loading = false;\r\n        }, err => {\r\n          chapter.children = [];\r\n          chapter.loading = false;\r\n          this.nzMsg.error(JSON.stringify(res));\r\n        });\r\n      } else {\r\n        chapter.children = [];\r\n        chapter.loading = false;\r\n        this.nzMsg.error(JSON.stringify(res));\r\n      }\r\n    });\r\n  }\r\n\r\n  getExamTaskInfo(taskList: any[]) {\r\n    return new Observable((observer: Subscriber<any>) => {\r\n      const examTaskList = taskList.filter((task: any) => task.taskType === '4');\r\n      if (examTaskList.length === 0) {\r\n        observer.next();\r\n        observer.complete();\r\n        return;\r\n      }\r\n      const userInfo = LocalStorageUtil.getUser();\r\n      const examTasks$ = examTaskList.map(examTask => {\r\n        const id = examTask.studentTaskId ? examTask.studentTaskId : examTask.id;\r\n        return this.taskService.previewTestTask(examTask.busId, id, userInfo.id);\r\n      });\r\n      forkJoin(examTasks$).subscribe(res => {\r\n        // @ts-ignore\r\n        const successRes = res.filter(s => s.status === 200);\r\n        for (const examTaskRes of successRes) {\r\n          // @ts-ignore\r\n          const task = examTaskList.find(taskEle => taskEle.taskUrl === examTaskRes.data.taskUrl);\r\n          if (task) {\r\n            // @ts-ignore\r\n            task.examTaskPreview = examTaskRes.data;\r\n          }\r\n        }\r\n        observer.next();\r\n        observer.complete();\r\n      }, err => {\r\n        observer.error(err);\r\n      });\r\n    });\r\n  }\r\n\r\n  redoExecrise(task: any): void {\r\n    if (task.taskType === '4') {\r\n      if (!task.taskStautsResult.status) {\r\n        this.nzMsg.error(task.taskStautsResult.mes);\r\n        return;\r\n      }\r\n      // examRedo=1重做，examRedo=0不重做，展示做题记录\r\n      let taskUrl = `${task.taskUrl}&tikuType=1&examRedo=1`;\r\n      if (!taskUrl.startsWith('https') && !taskUrl.startsWith('http')) {\r\n        taskUrl = window.location.protocol + taskUrl;\r\n      }\r\n      window.open(taskUrl, '__blank');\r\n      return;\r\n    }\r\n    SessionStorageUtil.putTikuTask(task);\r\n    this.router.navigateByUrl(`/section/tiku-execrise-task?tikuType=${1}`);\r\n  }\r\n\r\n  getTaskStatus(task: any) {\r\n    const { examTaskPreview } = task;\r\n    if (examTaskPreview) {\r\n      // 考试次数： 不限次，不管什么时候都能进\r\n      // 限制次数， 次数用完了不能进, 结束了不能进\r\n      // -- 真奇葩的逻辑 --\r\n      if (examTaskPreview.totalTimes === 0) {\r\n        return { mes: '不限次，不管什么时候都能进', status: true};\r\n      } else {\r\n        if (examTaskPreview.taskFinish === '1') {\r\n          return { mes: '任务已结束', status: false};\r\n        } else {\r\n          if (examTaskPreview.totalTimes - examTaskPreview.taskTimes > 0) {\r\n            return { mes: '考试重做', status: true };\r\n          } else {\r\n            return { mes: '暂无考试次数', status: false};\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      return { mes: '非考试任务暂不处理', status: true };\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n  <nz-collapse \r\n    [style]=\"{ border: 'none', 'background-color': '#f0f1f3'}\">\r\n    <nz-collapse-panel\r\n      *ngFor=\"let node of nodes;let idx=index;\"\r\n      class=\"collapse-panel\"\r\n      [(nzActive)]=\"node.active\"\r\n      [nzShowArrow]=\"false\"\r\n      [nzHeader]=\"panelHeaderTpl\"\r\n      [nzExtra]=\"extraTpl\"\r\n      (nzActiveChange)=\"sectionChange(node)\">\r\n      <ng-template #panelHeaderTpl>\r\n        <span style=\"margin-right: 20px;\">第{{ idx + 1}}章</span><span>{{ node.chapterName}}</span>\r\n      </ng-template>\r\n      <ng-template #extraTpl>\r\n        <img *ngIf=\"!node.loading\" [class]=\"{'arrow-direction': node.active }\" src=\"assets/images/up.png\" atl=\"up\" />\r\n        <i nz-icon *ngIf=\"node.loading\" [nzType]=\"'loading'\"></i>\r\n      </ng-template>\r\n      <div *ngIf=\"node.children && node.children.length === 0 && !node.loading\">\r\n        <nz-empty></nz-empty>\r\n      </div>\r\n      <div class=\"list\">\r\n        <div class=\"list-item\" *ngFor=\"let item of node.children;let sectionIdx=index;\" cdkDrag>\r\n          <div>\r\n            <span class=\"section-name\">{{ item.sectionIdxName}}</span>\r\n            <span class=\"task-name\">{{ item.name}}</span>\r\n          </div>\r\n          <div class=\"action-group\">\r\n            <ng-container>\r\n              <span class=\"exe-num\">{{ item?.errorExeNum || 0}}题</span>\r\n              <button nz-button nzType=\"default\" class=\"action-btn\" (click)=\"redoExecrise(item)\">\r\n                重做\r\n              </button>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nz-collapse-panel>\r\n  </nz-collapse>\r\n</div>","import { Component, OnInit, Input, OnChanges, SimpleChange } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { MyClassService } from 'src/app/busi-services/my-class.service';\r\nimport { TikuService } from 'src/app/busi-services/tiku.service';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport {LocalStorageUtil} from '../../../core/utils/localstorage.util';\r\nimport {SessionStorageUtil} from '../../../core/utils/sessionstorage.util';\r\n@Component({\r\n  selector: 'app-tiku-wrong-exercise-set',\r\n  templateUrl: './tiku-wrong-exercise-set.component.html',\r\n  styleUrls: ['./tiku-wrong-exercise-set.component.less']\r\n})\r\nexport class TikuWrongExerciseSetComponent implements OnInit, OnChanges {\r\n\r\n  @Input() nodes: any[] = [];\r\n  @Input() selectedCourse: any;\r\n  constructor(\r\n    private router: Router,\r\n    private nzMsg: NzMessageService,\r\n    private tikuService: TikuService,\r\n    private myClassService: MyClassService) { }\r\n\r\n  ngOnChanges(changes: {[key: string]: SimpleChange}): void {\r\n    const { selectedCourse } = changes;\r\n    if (selectedCourse && selectedCourse.currentValue) {\r\n      this.getStudyOutline(this.selectedCourse.coursePacketId);\r\n     }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getStudyOutline(coursePacketId: string): void {\r\n    this.myClassService.getStudyOutline(coursePacketId).subscribe(res => {\r\n      if (res.status === 200) {\r\n        this.nodes = res.data.chapterList;\r\n        if (this.nodes .length > 0) {\r\n          this.nodes[0].active = true;\r\n          this.getChapterTask(this.nodes[0]);\r\n        }\r\n      } else {\r\n        this.nzMsg.error(JSON.stringify(res));\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  sectionChange(chapter: any) {\r\n    if (chapter.loading) {\r\n      return;\r\n    }\r\n    if (!chapter.children || chapter.children.length === 0) {\r\n      this.getChapterTask(chapter);\r\n    }\r\n  }\r\n\r\n  getChapterTask(chapter: any) {\r\n    const chapterId = chapter.chapterId;\r\n    const { id: orderDetailId } = this.selectedCourse;\r\n    if (!orderDetailId) {\r\n      return;\r\n    }\r\n    const params = {\r\n      orderDetailId,\r\n      chapterId\r\n    };\r\n    chapter.loading = true;\r\n    this.myClassService.getTask(params).subscribe(res => {\r\n      if (res.status === 200) {\r\n        const sections: any[] = res.data;\r\n        const taskList: any[] = sections.reduce((pre, cur, index) => {\r\n          const mainFileTaskList: any[] = Array.isArray(cur.mainFileTaskList) ? cur.mainFileTaskList : [];\r\n          const maintasks = mainFileTaskList.map(task => ({\r\n            ...task,\r\n            taskName: task.name,\r\n            sectionIdxName: `第${index + 1}节`,\r\n            sectionName: cur.sectionName\r\n          }));\r\n          pre.push(maintasks);\r\n          const sectionTaskList: any[] = Array.isArray(cur.taskList) ? cur.taskList : [];\r\n          const tasks = sectionTaskList.map(task => ({\r\n            ...task,\r\n            taskName: task.name,\r\n            sectionIdxName: `第${index + 1}节`,\r\n            sectionName: cur.sectionName\r\n          }));\r\n          pre.push(tasks);\r\n          return pre;\r\n        }, []).flat(1).filter(task => (task.taskType === '2' || task.taskType === '4') && task.taskStatus !== '2'); // 作业任务，试卷，状态不是撤回\r\n\r\n        if (taskList.length === 0) {\r\n          chapter.loading = false;\r\n          chapter.children = [];\r\n          chapter.active = true;\r\n          return;\r\n        }\r\n\r\n        const uuids = taskList.map(task => task.uuid).join(',');\r\n        const examIds = taskList.map(task => task.busId).join(',');\r\n        const { thirdId: uid } = LocalStorageUtil.getUser();\r\n        this.tikuService.getErrorExecrise(parseInt(uid, 10), uuids, examIds).subscribe(errDoRes => {\r\n          chapter.loading = false;\r\n          if (errDoRes.code === 200) {\r\n            const errorRedo: object = errDoRes.data.errorRedo;\r\n            const errorRedoKeys = Object.keys(errorRedo);\r\n            errorRedoKeys.forEach(errKey => {\r\n              const task = taskList.find(taskEle => `${taskEle.uuid}_${taskEle.busId}` === errKey);\r\n              if (task) {\r\n                task.errorExeNum = errorRedo[errKey].parentQuestionCount || 0;\r\n\r\n                // 错题列表\r\n                const errorQuestionList = new Set<string>();\r\n                const errorList = errorRedo[errKey].errorQuestionList;\r\n                // tslint:disable-next-line:prefer-for-of\r\n                for (let i = 0; i < errorList.length; i++) {\r\n                  if (errorList[i].parentId === '0') {\r\n                    errorQuestionList.add(errorList[i].questionId);\r\n                  } else { // 综合题里小题取 parentId\r\n                    errorQuestionList.add(errorList[i].parentId);\r\n                  }\r\n                }\r\n                task.errorQuestionList = [...errorQuestionList];\r\n              }\r\n            });\r\n\r\n            chapter.children = taskList.filter(task => task.errorExeNum > 0);\r\n          } else {\r\n            chapter.children = [];\r\n            this.nzMsg.error(JSON.stringify(errDoRes));\r\n          }\r\n        });\r\n      } else {\r\n        this.nzMsg.error(JSON.stringify(res));\r\n      }\r\n    });\r\n  }\r\n\r\n  redoExecrise(task: any): void {\r\n    if (task.taskType === '4') {\r\n      let taskUrl = `${task.taskUrl}&tikuType=2`;\r\n      if (!taskUrl.startsWith('https') && !taskUrl.startsWith('http')) {\r\n        taskUrl = window.location.protocol + taskUrl;\r\n      }\r\n      window.open(taskUrl, '__blank');\r\n      return;\r\n    }\r\n    SessionStorageUtil.putTikuTask(task);\r\n    this.router.navigateByUrl(`/section/tiku-execrise-task?tikuType=${2}`);\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n  <nz-collapse \r\n    [style]=\"{ border: 'none', 'background-color': '#f0f1f3'}\">\r\n    <nz-collapse-panel\r\n      *ngFor=\"let node of nodes;let idx=index;\"\r\n      class=\"collapse-panel\"\r\n      [(nzActive)]=\"node.active\"\r\n      [nzShowArrow]=\"false\"\r\n      [nzHeader]=\"panelHeaderTpl\"\r\n      [nzExtra]=\"extraTpl\"\r\n      (nzActiveChange)=\"sectionChange(node)\">\r\n      <ng-template #panelHeaderTpl>\r\n        <span style=\"margin-right: 20px;\">第{{ idx + 1}}章</span><span>{{ node.chapterName}}</span>\r\n      </ng-template>\r\n      <ng-template #extraTpl>\r\n        <img *ngIf=\"!node.loading\" [class]=\"{'arrow-direction': node.active }\" src=\"assets/images/up.png\" atl=\"up\" />\r\n        <i nz-icon *ngIf=\"node.loading\" [nzType]=\"'loading'\"></i>\r\n      </ng-template>\r\n      <div *ngIf=\"node.children && node.children.length === 0 && !node.loading\">\r\n        <nz-empty></nz-empty>\r\n      </div>\r\n      <div class=\"list\">\r\n        <div class=\"list-item\" *ngFor=\"let item of node.children;let sectionIdx=index;\" cdkDrag>\r\n          <div>\r\n            <span class=\"section-name\">{{ item.sectionIdxName}}</span>\r\n            <span class=\"task-name\">{{ item.name}}</span>\r\n          </div>\r\n          <div class=\"action-group\">\r\n            <ng-container>\r\n              <span class=\"exe-num\">{{ item?.collectionExeNum || 0}}题</span>\r\n              <button nz-button nzType=\"default\" class=\"action-btn\" (click)=\"redoExecrise(item)\">\r\n                查看\r\n              </button>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nz-collapse-panel>\r\n  </nz-collapse>\r\n</div>","import { Component, OnInit, Input, OnChanges, SimpleChange } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { MyClassService } from 'src/app/busi-services/my-class.service';\r\nimport { TikuService } from 'src/app/busi-services/tiku.service';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport {LocalStorageUtil} from 'core/utils/localstorage.util';\r\nimport {SessionStorageUtil} from 'core/utils/sessionstorage.util';\r\n\r\n@Component({\r\n  selector: 'app-tiku-collection',\r\n  templateUrl: './tiku-collection.component.html',\r\n  styleUrls: ['./tiku-collection.component.less']\r\n})\r\nexport class TikuCollectionComponent implements OnInit, OnChanges {\r\n\r\n  @Input() nodes: any[] = [];\r\n  @Input() selectedCourse: any;\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private nzMsg: NzMessageService,\r\n    private tikuService: TikuService,\r\n    private myClassService: MyClassService) { }\r\n\r\n  ngOnChanges(changes: {[key: string]: SimpleChange}): void {\r\n    const { selectedCourse } = changes;\r\n    if (selectedCourse && selectedCourse.currentValue) {\r\n      this.getStudyOutline(this.selectedCourse.coursePacketId);\r\n     }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getStudyOutline(coursePacketId: string): void {\r\n    this.myClassService.getStudyOutline(coursePacketId).subscribe(res => {\r\n      if (res.status === 200) {\r\n        this.nodes = res.data.chapterList;\r\n        if (this.nodes .length > 0) {\r\n          const node = this.getDefaultChapter();\r\n          this.getChapterTask(node);\r\n        }\r\n      } else {\r\n        this.nzMsg.error(JSON.stringify(res));\r\n      }\r\n    });\r\n  }\r\n\r\n  sectionChange(chapter: any) {\r\n    if (chapter.loading) {\r\n      return;\r\n    }\r\n    if (!chapter.children || chapter.children.length === 0) {\r\n      this.getChapterTask(chapter);\r\n    }\r\n  }\r\n\r\n  getChapterTask(chapter: any) {\r\n    const chapterId = chapter.chapterId;\r\n    const { id: orderDetailId } = this.selectedCourse;\r\n    if (!orderDetailId) {\r\n      return;\r\n    }\r\n    const params = {\r\n      orderDetailId,\r\n      chapterId\r\n    };\r\n    chapter.loading = true;\r\n    this.myClassService.getTask(params).subscribe(res => {\r\n      if (res.status === 200) {\r\n        const sections: any[] = res.data;\r\n        const taskList: any[] = sections.reduce((pre, cur, index) => {\r\n          const mainFileTaskList: any[] = Array.isArray(cur.mainFileTaskList) ? cur.mainFileTaskList : [];\r\n          const maintasks = mainFileTaskList.map(task => ({\r\n            ...task,\r\n            taskName: task.name,\r\n            sectionIdxName: `第${index + 1}节`,\r\n            sectionName: cur.sectionName\r\n          }));\r\n          pre.push(maintasks);\r\n          const sectionTaskList: any[] = Array.isArray(cur.taskList) ? cur.taskList : [];\r\n          const tasks = sectionTaskList.map(task => ({\r\n            ...task,\r\n            taskName: task.name,\r\n            sectionIdxName: `第${index + 1}节`,\r\n            sectionName: cur.sectionName\r\n          }));\r\n          pre.push(tasks);\r\n          return pre;\r\n        }, []).flat(1).filter(task => (task.taskType === '2' || task.taskType === '4') && task.taskStatus !== '2'); // 作业任务，试卷，状态不是撤回\r\n\r\n        if (taskList.length === 0) {\r\n          chapter.loading = false;\r\n          chapter.children = [];\r\n          chapter.active = true;\r\n          return;\r\n        }\r\n\r\n        const uuids = taskList.map(task => task.uuid).join(',');\r\n        const { thirdId: uid } = LocalStorageUtil.getUser();\r\n        this.tikuService.getCollectionByUidPids(parseInt(uid, 10), uuids).subscribe(collectionRes => {\r\n          chapter.loading = false;\r\n          if (collectionRes.code === 200) {\r\n            const myCollections: object = collectionRes.data.myCollections;\r\n            const collectionKeys = Object.keys(myCollections);\r\n            collectionKeys.forEach(collectKey => {\r\n              const task = taskList.find(taskEle => taskEle.uuid === collectKey);\r\n              if (task) {\r\n                task.collectionExeNum = myCollections[collectKey].count || 0;\r\n              }\r\n            });\r\n            chapter.children = taskList.filter(task => task.collectionExeNum > 0);\r\n          } else {\r\n            chapter.children = [];\r\n            this.nzMsg.error(JSON.stringify(collectionRes));\r\n          }\r\n          chapter.active = true;\r\n        });\r\n      } else {\r\n        this.nzMsg.error(JSON.stringify(res));\r\n      }\r\n    });\r\n  }\r\n\r\n  redoExecrise(task: any): void {\r\n    task.taskUrl = this.tikuService.getPaperUrl(task.uuid);\r\n    SessionStorageUtil.putTikuTask(task);\r\n    this.router.navigateByUrl(`/section/tiku-execrise-task?tikuType=${3}`);\r\n  }\r\n\r\n  getDefaultChapter(): any {\r\n    const courseChapterId = this.route.snapshot.queryParamMap.get('courseChapterId');\r\n    const chapter = this.nodes.find(node => node.chapterId === courseChapterId);\r\n    if (chapter) {\r\n      return chapter;\r\n    } else {\r\n      return this.nodes[0];\r\n    }\r\n  }\r\n}\r\n","<nz-layout class=\"l-main\">\r\n  <nz-header class=\"tiku-header\">\r\n    <div>\r\n      <button nz-button nzType=\"link\" nzGhost\r\n        class=\"back-action\"\r\n        (click)=\"goBack()\">\r\n        <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>返回\r\n      </button>\r\n    </div>\r\n  </nz-header>\r\n  <nz-layout class=\"l-main padding gray-bg\">\r\n    <nz-layout class=\"center-layout\">\r\n      <nz-sider style=\"background-color: transparent;\">\r\n        <div class=\"course\">\r\n          <nz-select nzSize=\"large\"\r\n            class=\"course-select\"\r\n            nzBorderless\r\n            [nzLoading]=\"loading\"\r\n            [(ngModel)]=\"coursePacketId\" \r\n            (ngModelChange)=\"courseChange($event)\">\r\n            <nz-option *ngFor=\"let course of courseList\" [nzValue]=\"course.coursePacketId\" [nzLabel]=\"course.coursePacketName\"></nz-option>\r\n          </nz-select>\r\n        </div>\r\n        <ul class=\"menu-list\">\r\n          <li *ngFor=\"let menu of menusNav\" \r\n            class=\"menu-item\"\r\n            [class]=\"{selected: curMenu.id === menu.id}\"\r\n            (click)=\"selectMenu(menu)\">\r\n            {{ menu.name }}\r\n          </li>\r\n        </ul>\r\n      </nz-sider>\r\n      <nz-content>\r\n        <app-tiku-exercise-set *ngIf=\"curMenu.id === 0\" [nodes]=\"chapters\" [selectedCourse]=\"selectedCourse\"></app-tiku-exercise-set>\r\n        <app-tiku-wrong-exercise-set *ngIf=\"curMenu.id === 1\" [nodes]=\"chapters\" [selectedCourse]=\"selectedCourse\"></app-tiku-wrong-exercise-set>\r\n        <app-tiku-collection *ngIf=\"curMenu.id === 2\" [nodes]=\"chapters\" [selectedCourse]=\"selectedCourse\"></app-tiku-collection>\r\n      </nz-content>\r\n    </nz-layout>\r\n  </nz-layout>\r\n</nz-layout>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { MyClassService } from 'src/app/busi-services/my-class.service';\r\nimport {LocalStorageUtil} from 'core/utils/localstorage.util';\r\n\r\n@Component({\r\n  selector: 'app-tiku-profile',\r\n  templateUrl: './tiku-profile.component.html',\r\n  styleUrls: ['./tiku-profile.component.less']\r\n})\r\nexport class TikuProfileComponent implements OnInit {\r\n  backUrl = 'p/structure?flat=new';\r\n  courseList = [];\r\n  coursePacketId = '';\r\n  chapters = [];\r\n  selectedCourse: any;\r\n  menusNav = [{ id: 0, name: '题库集' }, { id: 1, name: '错题集' }, { id: 2, name: '收藏'}];\r\n  // 选中菜单， 初始化默认为第一\r\n  curMenu = { id: 0, name: '题库集' };\r\n  loading = false;\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private myClassService: MyClassService) { }\r\n\r\n  ngOnInit(): void {\r\n    const classMarketData = LocalStorageUtil.getClassMarketData();\r\n    const orderId = classMarketData.id;\r\n    this.defaultSelectMenu();\r\n    this.getCourse(orderId);\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigateByUrl(this.backUrl);\r\n  }\r\n\r\n  /** 获取课程列表 */\r\n  getCourse(orderId: string) {\r\n    this.loading = true;\r\n    this.myClassService.getCourses(orderId).subscribe(res => {\r\n      this.loading = false;\r\n      if (res.status === 200) {\r\n        this.courseList = res.data.orderDetails;\r\n        if (this.courseList.length > 0) {\r\n          const coursePacktet = this.defaultCoursePacket();\r\n          this.coursePacketId = coursePacktet.coursePacketId;\r\n          this.courseChange(this.coursePacketId);\r\n        }\r\n      }\r\n    }, error => {\r\n      this.loading = false;\r\n    });\r\n  }\r\n\r\n  courseChange(coursePacketId: string): void {\r\n    this.selectedCourse = this.courseList.find(course => course.coursePacketId === this.coursePacketId);\r\n  }\r\n\r\n  selectMenu(menu: any): void {\r\n    this.curMenu = menu;\r\n  }\r\n\r\n  defaultSelectMenu() {\r\n    const tikuType = parseInt(this.route.snapshot.queryParamMap.get('tikuType'), 10);\r\n    if (Number.isFinite(tikuType)) {\r\n      this.selectMenu({id: tikuType - 1});\r\n    }\r\n  }\r\n\r\n  defaultCoursePacket(): any {\r\n    const coursePacketId = this.route.snapshot.queryParamMap.get('coursePacketId');\r\n    const coursePacktet = this.courseList.find(course => course.coursePacketId === coursePacketId);\r\n    if (coursePacktet) {\r\n      return coursePacktet;\r\n    } else {\r\n      return this.courseList[0];\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"box\">\r\n  <div class=\"title flex-title\">\r\n    <p class=\"task-name\" [title]=\"qcData?.taskName || qcData?.name\">\r\n      {{ qcData?.taskName || qcData?.name}} \r\n    </p>\r\n    <!-- <p class=\"end-time\" [class]=\"{'end-bg': qcData?.status === '1', 'self-evalute': qcData?.status === '3'}\">\r\n      <span>{{ statusName[qcData?.status] }}</span>\r\n    </p> -->\r\n  </div>\r\n \r\n  <div class=\"desc\" >\r\n    <div [class]=\"{'orange-text': qcData?.status !== '1'}\">\r\n      <p style=\"padding-right: 24px;\">\r\n        <span class=\"gray-text\">{{ taskTypeName[qcData?.taskType] }} • </span>\r\n        <span *ngIf=\"qcData?.status !== '2'\">{{ getDaysDiffBetweenDates(qcData?.planEndTime, qcData?.taskFinish) }}</span>\r\n        <span *ngIf=\"qcData?.status === '2'\">{{ statusName[qcData?.status] }} {{ getDaysDiffBetweenDates(qcData?.endTime) }}</span>\r\n        <span style=\"float: right;font-size: 20px; color: red;\" *ngIf=\"qcData?.unreadCount > 0\">•</span>\r\n      </p>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit, Input, ViewChild, ElementRef, HostListener, Output, EventEmitter } from '@angular/core';\r\nimport * as TASK from 'core/base/task';\r\n\r\n@Component({\r\n  selector: 'app-tiku-task-item',\r\n  templateUrl: './tiku-task-item.component.html',\r\n  styleUrls: ['./tiku-task-item.component.less']\r\n})\r\nexport class TikuTaskItemComponent implements OnInit {\r\n\r\n  @Input() qcData: any = {\r\n    taskType: ''\r\n  };\r\n\r\n  @Output() selectChange = new EventEmitter<any>();\r\n  statusRemark = TASK.statusRemark;\r\n  speakTypeRemark = TASK.speakTypeRemark;\r\n\r\n  statusName = ['未完成', '已完成', '重做', '待自评'];\r\n  statusName1 = ['未完成', '已完成', '未解锁任务'];\r\n  taskTypeName = ['阅读', '案例', '作业', '实训', '考试', '实战' ];\r\n\r\n  constructor(\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  // 获取两个日期相差几天\r\n  getDaysDiffBetweenDates(endTime, taskFinish = '0') {\r\n    if ( taskFinish === '1' ) {\r\n      return '已结束';\r\n    } else if (taskFinish === '0' ) {\r\n      if (endTime) {\r\n        const dateFinal: any = new Date();\r\n        const dateInitial: any = new Date(endTime);\r\n        const diffDate = ((dateInitial - dateFinal) / (1000 * 3600 * 24));\r\n        if (diffDate >= 1) {\r\n          return `剩余${Math.floor(diffDate)}天结束`;\r\n        } else {\r\n          const diffTime = (dateInitial - dateFinal) / 1000;\r\n          const hour = Math.floor(diffTime / 3600);\r\n          if (diffTime <= 0) {\r\n            return '已结束';\r\n          }\r\n          if ( hour >= 1) {\r\n            return `剩余${hour}小时结束`;\r\n          } else {\r\n            return `剩余${Math.floor(diffTime / 60)}分结束`;\r\n          }\r\n        }\r\n      } else {\r\n        return '正在进行';\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","<nz-layout class=\"l-main live-container\">\r\n  <nz-header class=\"white-bg\">\r\n    <div class=\"header-box\">\r\n      <div class=\"header-left\">\r\n        <button nz-button nzType=\"link\" class=\"gray-text\" (click)=\"goBack()\">\r\n          <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>\r\n          返回\r\n        </button>\r\n      </div>\r\n      <div class=\"header-tilte\">{{ pageTitle }}</div>\r\n      <div class=\"header-status\">\r\n      </div>\r\n    </div>\r\n  </nz-header>\r\n\r\n  <nz-layout class=\"l-main padding gray-bg\"  style=\"flex-direction: row;\">\r\n    <ng-container *ngIf=\"tikuType === 1\">\r\n      <!-- 收缩按钮 -->\r\n      <div class=\"hide-btn\" *ngIf=\"!hideBtn\" (click)=\"hideBtn=true;\"><i nz-icon nzType=\"left\" nzTheme=\"outline\"></i></div>\r\n      <div class=\"hide-btn\" *ngIf=\"hideBtn\" (click)=\"hideBtn=false;\"><i nz-icon nzType=\"right\"></i></div>\r\n  \r\n      <nz-sider class=\"white-bg\" \r\n        [nzWidth]=\"hideBtn ? 0 :360\"\r\n        [class]=\"{'tiku-sider': hideBtn }\"\r\n        [style]=\"{ opacity: hideBtn ? '0' : '1'}\">\r\n        <app-tiku-task-item [qcData]=\"taskInfo\"></app-tiku-task-item>\r\n        <div class=\"task-remark\">\r\n          <i nz-icon nzType=\"info-circle\" nzTheme=\"outline\"></i>\r\n          <span style=\"margin-left: 5px;\">作业任务有效期内重新交卷会覆盖之前的成绩</span>\r\n        </div>\r\n      </nz-sider>\r\n    </ng-container>\r\n    \r\n    <nz-content  class=\"l-main\" style=\"position: relative;\">\r\n      <nz-spin class=\"spin\" nzSimple  nzTip=\"加载中...\" [nzSpinning]=\"isLoading\"></nz-spin>\r\n      <ng-container>\r\n        <app-exercise-task\r\n          *ngIf=\"!isLoading\"\r\n          [curTask]=\"taskInfo\"\r\n          [tikuType]=\"tikuType\"\r\n          [tikuTaskStatus]=\"tikuTaskStatus\"\r\n          [data]=\"taskInfo.selectedItem\"\r\n          (finishTaskCallBack)=\"finishTask($event)\">\r\n        </app-exercise-task>\r\n      </ng-container>\r\n    </nz-content>\r\n  </nz-layout>\r\n</nz-layout>\r\n\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { ExerciseTaskService } from '../exercise-task/exercise-task.service';\r\nimport {SessionStorageUtil} from '../../../core/utils/sessionstorage.util';\r\n\r\n@Component({\r\n  selector: 'app-tiku-exercise-task',\r\n  templateUrl: './tiku-exercise-task.component.html',\r\n  styleUrls: ['./tiku-exercise-task.component.less'],\r\n  providers: [ ExerciseTaskService ]\r\n})\r\nexport class TikuExerciseTaskComponent implements OnInit {\r\n  @Input() nodes: any[] = [];\r\n  @Input() selectedCourse: any;\r\n  hideBtn = false;\r\n  taskInfo: any;\r\n  tikuType = -1;\r\n  isLoading = false;\r\n  /** 题库任务状态，用于题库入口，做完评分 */\r\n  tikuTaskStatus = -1;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private exerciseTaskService: ExerciseTaskService,\r\n    private nzMsg: NzMessageService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.route.queryParamMap.subscribe(queryParam => {\r\n      this.tikuType = parseInt(queryParam.get('tikuType'), 10);\r\n      if (this.tikuType === 3) {\r\n        this.tikuTaskStatus = 1;\r\n      }\r\n      this.taskInfo = SessionStorageUtil.getTikuTask();\r\n      this.loadData();\r\n    });\r\n  }\r\n\r\n  loadData() {\r\n    const { studentTaskId, id,  busId, taskUrl, errorQuestionList } = this.taskInfo;\r\n    this.exerciseTaskService.exeMode = this.exerciseTaskService.toExerciseMode({\r\n      taskInfo: this.taskInfo,\r\n      tikuType: this.tikuType,\r\n      tikuTaskStatus: this.tikuTaskStatus\r\n    });\r\n    this.exerciseTaskService.exeStatus = this.exerciseTaskService.toExerciseStatus({\r\n      taskInfo: this.taskInfo,\r\n      tikuType: this.tikuType,\r\n      tikuTaskStatus: this.tikuTaskStatus\r\n    });\r\n    this.isLoading = true;\r\n    this.exerciseTaskService.getExercise(taskUrl).subscribe(res => {\r\n      this.isLoading = false;\r\n      if (this.tikuType === 2) { // 错题集传送错题列表\r\n        res.errorQuestionList = errorQuestionList || [];\r\n      }\r\n      this.taskInfo.selectedItem = res;\r\n    }, err => {\r\n      this.isLoading = false;\r\n      this.nzMsg.error(err);\r\n    });\r\n  }\r\n\r\n  goBack() {\r\n    if (this.route.snapshot.queryParamMap.get('from') === 'section') {\r\n      window.history.go(-1);\r\n    } else {\r\n      this.router.navigateByUrl(`/section/tiku-profile\r\n      ?tikuType=${this.tikuType}&coursePacketId=${this.taskInfo.coursePacketId}&courseChapterId=${this.taskInfo.courseChapterId}`);\r\n    }\r\n  }\r\n\r\n  get pageTitle(): string {\r\n    switch (this.tikuType) {\r\n      case 1:\r\n        return '题库集';\r\n      case 2:\r\n        return '错题集';\r\n      case 3:\r\n        return '收藏';\r\n      default:\r\n        return '';\r\n    }\r\n  }\r\n\r\n  finishTask(data: any) {\r\n    this.tikuTaskStatus = data.tikuTaskStatus;\r\n    this.loadData();\r\n  }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\n\r\nimport {NzEmptyModule} from 'ng-zorro-antd/empty';\r\nimport {NzButtonModule} from 'ng-zorro-antd/button';\r\nimport {NzMessageModule} from 'ng-zorro-antd/message';\r\nimport {NzSpinModule} from 'ng-zorro-antd/spin';\r\nimport {NzAvatarModule} from 'ng-zorro-antd/avatar';\r\nimport {NzLayoutModule} from 'ng-zorro-antd/layout';\r\nimport {NzInputModule} from 'ng-zorro-antd/input';\r\nimport {NzIconModule} from 'ng-zorro-antd/icon';\r\nimport {NzGridModule} from 'ng-zorro-antd/grid';\r\nimport {NzTabsModule} from 'ng-zorro-antd/tabs';\r\nimport {NzUploadModule} from 'ng-zorro-antd/upload';\r\nimport {NzDividerModule} from 'ng-zorro-antd/divider';\r\nimport {NzPopoverModule} from 'ng-zorro-antd/popover';\r\nimport {NzResultModule} from 'ng-zorro-antd/result';\r\nimport {NzModalModule} from 'ng-zorro-antd/modal';\r\nimport {NzNotificationModule} from 'ng-zorro-antd/notification';\r\nimport {NzBadgeModule} from 'ng-zorro-antd/badge';\r\nimport {NzToolTipModule} from 'ng-zorro-antd/tooltip';\r\n\r\n\r\nimport {ExercisesLibModule} from './exercises-lib/exercises-lib.module';\r\n\r\n\r\nimport {SectionTaskComponent} from './section-task.component';\r\nimport {ExerciseTaskComponent} from './exercise-task/exercise-task.component';\r\nimport {SectionTaskItemComponent} from './task-list/section-task-item/section-task-item.component';\r\nimport {CaseTaskComponent} from './case-complex-task/case-task/case-task.component';\r\nimport {ReadTaskComponent} from './read-task/read-task.component';\r\nimport {ExerciseRadioComponent} from './exercise-task/exercise-radio/exercise-radio.component';\r\nimport {SpeakWallComponent} from './case-complex-task/speak-wall/speak-wall.component';\r\nimport {SectionTabBarComponent} from './task-list/section-tab-bar/section-tab-bar.component';\r\nimport {CaseComplexTaskComponent} from './case-complex-task/case-complex-task.component';\r\nimport {DefaultTaskComponent} from './default-task/default-task.component';\r\nimport {TrainTaskComponent} from './train-task/train-task.component';\r\nimport {TaskListComponent} from './task-list/task-list.component';\r\nimport {TestTaskComponent} from './test-task/test-task.component';\r\nimport {QuestionTaskComponent} from './question-task/question-task.component';\r\nimport {TikuProfileComponent} from './tiku-profile/tiku-profile.component';\r\nimport {NzCollapseModule, NzSelectModule} from 'ng-zorro-antd';\r\nimport {TikuExerciseTaskComponent} from './tiku-exercise-task/tiku-exercise-task.component';\r\nimport {TikuWrongExerciseSetComponent} from './tiku-wrong-exercise-set/tiku-wrong-exercise-set.component';\r\nimport {TikuCollectionComponent} from './tiku-collection/tiku-collection.component';\r\nimport {TikuExerciseSetComponent} from './tiku-exercise-set/tiku-exercise-set.component';\r\nimport {TikuTaskItemComponent} from './tiku-task-item/tiku-task-item.component';\r\nimport {\r\n  AttachmentShowModalModule,\r\n  QkcLiveModalModule,\r\n  QkcMediaModule,\r\n  QkcMenuModule,\r\n  QkcUploadModule\r\n} from '../../components-qkc';\r\nimport {ScrollModule} from '../../core/directive';\r\n\r\nconst ZORRO_MODULES = [\r\n  NzButtonModule,\r\n  NzSpinModule,\r\n  NzEmptyModule,\r\n  NzLayoutModule,\r\n  NzInputModule,\r\n  NzAvatarModule,\r\n  NzIconModule,\r\n  NzMessageModule,\r\n  NzGridModule,\r\n  NzTabsModule,\r\n  NzUploadModule,\r\n  NzDividerModule,\r\n  NzPopoverModule,\r\n  NzResultModule,\r\n  NzModalModule,\r\n  NzNotificationModule,\r\n  NzBadgeModule,\r\n  NzCollapseModule,\r\n  NzSelectModule,\r\n  NzResultModule,\r\n  NzToolTipModule,\r\n];\r\n\r\n\r\nconst routes: Routes = [\r\n  {path: '', component: SectionTaskComponent},\r\n  {path: 'tiku-profile', component: TikuProfileComponent},\r\n  {path: 'tiku-execrise-task', component: TikuExerciseTaskComponent}\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SectionTaskComponent,\r\n    ExerciseTaskComponent,\r\n    SectionTaskItemComponent,\r\n    CaseTaskComponent,\r\n    ReadTaskComponent,\r\n    ExerciseRadioComponent,\r\n    SpeakWallComponent,\r\n    SectionTabBarComponent,\r\n    CaseComplexTaskComponent,\r\n    DefaultTaskComponent,\r\n    TrainTaskComponent,\r\n    TaskListComponent,\r\n    TestTaskComponent,\r\n    QuestionTaskComponent,\r\n    TikuProfileComponent,\r\n    TikuExerciseTaskComponent,\r\n    TikuWrongExerciseSetComponent,\r\n    TikuCollectionComponent,\r\n    TikuExerciseSetComponent,\r\n    TikuTaskItemComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ...ZORRO_MODULES,\r\n    ExercisesLibModule,\r\n    QkcLiveModalModule,\r\n    QkcMenuModule,\r\n    AttachmentShowModalModule,\r\n    ScrollModule,\r\n    QkcUploadModule,\r\n    QkcMediaModule,\r\n\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class SectionTaskModule {\r\n}\r\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.20';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading and trailing whitespace. */\n  var reTrim = /^\\s+|\\s+$/g,\n      reTrimStart = /^\\s+/,\n      reTrimEnd = /\\s+$/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, '');\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrim, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimEnd, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","import { Injectable } from '@angular/core';\r\nimport { HttpService } from 'core/services/http.service';\r\nimport { ToolsUtil } from 'core/utils/tools.util';\r\nimport { LocalStorageUtil } from 'core/utils/localstorage.util';\r\nimport {environment} from '../../environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MyClassService {\r\n\r\n  constructor(private http: HttpService) { }\r\n\r\n  /**\r\n   * 学生端点击获取课程列表\r\n   * @param status '课程状态(1:正常,0:结课)',\r\n   */\r\n  getCourses(id) {\r\n    return this.http.get('tch/classMarketStudent/getCourses', {id}, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 学生端点击获取课程列表，不包含课次信息\r\n  listStudentOrderDetail(id) {\r\n    return this.http.get('tch/classMarketStudent/listStudentOrderDetail', {id}, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  /**\r\n   * 学生端点击获取课次列表\r\n   * @param status '课程状态(1:正常,0:结课)',\r\n   * @param lessonPlanId 排课计划 id\r\n   * @param classMarketId 版型id\r\n   */\r\n  getCourseTimeList(orderDetailId) {\r\n    return this.http.get('tsk/v2/getClassTimes', {orderDetailId}, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  /**\r\n   * 学生端点击获取课次任务列表\r\n   * @param lessonTimeId 课次id\r\n   */\r\n  getTasks(lessonTimeId) {\r\n    return this.http.get('tsk/v2/getTasks', {lessonTimeId}, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  getStuCourseTotalExp(lessonPlanId: string) {\r\n    return this.http.post(`tsk/stuApp/queryStuCourseTotalExp/${lessonPlanId}`, { }, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  /**\r\n   * 学情统计\r\n   * @param classId 班级id\r\n   * @param taskType  阅读任务(0)、案例任务(1)、作业任务(2)、签到任务(5), 实训（3）\r\n   *\r\n   * @param page 页码\r\n   * @param limit 限制\r\n   */\r\n  getStuExpSourceList(taskType: string, lessonPlanId: string, page: number, limit: number, classId: string) {\r\n    // tslint:disable-next-line:max-line-length\r\n    return this.http.post('tsk/studentTask/getStuExpSourceList', { taskType, lessonPlanId,  page, limit, classId }, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 获取直播间参数\r\n  getLiveStudioId(liveStudioId) {\r\n    return this.http.post('tsk/stuCourseTime/goLiveStudio', {liveStudioId}, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  getAllUnreadTask(id) {\r\n    return this.http.post(`tsk/stuApp/getAllUnreadTask/${id}`, {}, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  clearUnreadMsg(params) {\r\n    return this.http.postBody(`tsk/stuApp/clearUnreadMsg`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 获取节下的素材（视频）列表\r\n  getVideoResource(params) {\r\n    return this.http.get(`pkg/courseSectionResource/getVideoResource/chapterId`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // （录播）智适应通过课包id查询学习大纲与非智适应下获取章节信息公用\r\n  getStudyProgram(params) {\r\n    return this.http.postBody(`stu/studyTimeSection/getStudyProgram`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 进入课程初始化页面（录播）（查询学习计划，判断是否已选择学习计划公用此接口）\r\n  getStudyPlan(params) {\r\n    return this.http.postBody(`stu/studyPlan/getStudyPlan`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 定制专属计划（录播）\r\n  addPlan(params) {\r\n    return this.http.postBody(`stu/studyPlan/addPlan`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 改变学习计划（录播）\r\n  changeStudyPlan(params) {\r\n    return this.http.postBody(`stu/studyPlan/changeStudyPlan`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 获取距离考试天数，计算段阶\r\n  getExamDayStage(id) {\r\n    return this.http.get(`pkg/coursePacketConfig/getExamDayStage`, {id}, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  /**\r\n   * 学生端点击获取学习大纲\r\n   * @param packetId 课包ID\r\n   */\r\n  getStudyOutline(packetId) {\r\n    return this.http.get('pkg/courseChapter/outline', {packetId}, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 学生端点击获取学习大纲，会返回第一章数据\r\n  listFirstChapterTask(orderDetailId) {\r\n    return this.http.get('tsk/v2/listFirstChapterTask', {orderDetailId}, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 章-任务列表\r\n  getTask(params) {\r\n    return this.http.get('tsk/v2/chapter/getTask', params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 【智适应首页】考点总数与掌握率\r\n  personPointInfo(params) {\r\n    return this.http.get('stu/studentKnowledge/personPointInfo', params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 【智适应首页】待加强知识点列表\r\n  stuPoints(params) {\r\n    return this.http.get(`stu/studentKnowledge/intelligentPush`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 【知识点学习】知识点掌握度\r\n  stuPoints1(params) {\r\n    return this.http.get(`stu/studentKnowledge/stuPoints?knowledgePointCode=${params.knowledgePointCode}`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 章节学习页主接口（录播）\r\n  getSectionLearn(params) {\r\n    return this.http.postBody(`pkg/courseSection/getSectionLearn`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // (录播)更改默认指导讲师前查询课包所有讲师接口\r\n  getAllTeachByoursePacketId(params) {\r\n    return this.http.get(`pkg/courseSectionResource/getAllTeachByoursePacketId/${params}`, {}, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 章节学习页主接口（录播）\r\n  saveHalfWayOutVideo(params) {\r\n    return this.http.postBody(`pkg/courseSection/saveHalfWayOutVideo`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // （录播）节更改默认指导讲师接口\r\n  changeDefaultTeach(params) {\r\n    return this.http.postBody(`stu/studyPlan/changeDefaultTeach`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 一个节下的所有资料\r\n  listBySectionId(params) {\r\n    return this.http.get(`pkg/courseSectionResource/listBySectionId`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 一个课包下的所有资料\r\n  listBycoursePacketId(params) {\r\n    return this.http.get(`pkg/courseSectionResource/listBycoursePacketId`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 一个章下的所有资料\r\n  sectionResourceList(params) {\r\n    return this.http.get(`pkg/courseSectionResource/sectionResourceList`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n\r\n  // 获取替换长链接需要的tempCode\r\n  getTempCode(params) {\r\n    return this.http.postBody(`https://tylive.beta.hqjy.com/third/getTempCode`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 智适应获取周数\r\n  getWeeks(params) {\r\n    return this.http.get(`pkg/coursePacketConfig/getWeeks/${params}`, {}, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 知识点明细 (知识点学习页)\r\n  knowledgeDetail(params) {\r\n    return this.http.get(`res/knowledge-point/detail/${params}`, {}, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 智适应抽题\r\n  selectQuestion(params, stage) {\r\n    if (stage) {\r\n      if (stage.includes('精讲')) {\r\n        params['phase'] = 2;\r\n      } else if (stage.includes('冲刺')) {\r\n        params['phase'] = 3;\r\n      } else if (stage.includes('密押')) {\r\n        params['phase'] = 4;\r\n      }\r\n    }\r\n    params['studentId'] = LocalStorageUtil.getUserId();\r\n    return this.http.get(`smart/adaptiveLearning/generateAdaptiveExam`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  getsubModule(coursePacketId) {\r\n    return this.http.get(`pkg/coursePacketQuebank/list?coursePacketId=${coursePacketId}`, {}, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 排课下的任务进度\r\n  listTasksByPlan(params) {\r\n    return this.http.get(`tch/studentTask/listTasksByPlan`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 排课下1个学生的签到率\r\n  countStudentSign(params) {\r\n    return this.http.get(`tch/studentSign/countStudentSign`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 排课下1个学生的出勤率\r\n  duration(params) {\r\n    return this.http.get(`stu/duration/select/duration`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 学员做题统计接口\r\n  findPaperStatistic(params) {\r\n    return this.http.postBody(`${environment.questionBankApi}tkApi/pc/paperStatistic/findPaperStatistic`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 查询1个排课中，教师所发布的任务列表。\r\n  listTeachCourseTask(params) {\r\n    return this.http.get(`tsk/v2/listTeachCourseTask`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 获取保利威视频信息\r\n  getVideoMsg(param, userid) {\r\n    const url = environment.polywayApi + 'v2/video/' + userid + '/get-video-msg';\r\n    return this.http.get(url, param, {});\r\n  }\r\n  /**\r\n   * 签到记录\r\n   */\r\n  getStudentSignByPage(params: any) {\r\n    return this.http.post('tch/studentSign/getStudentSignByPage', params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 查询学习计划状态\r\n  getStudyPlanStatus(id) {\r\n    return this.http.get(`stu/studyPlan/getStudyPlanStatus/${id}`, {}, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 存uuid\r\n  saveSectionLearnUUID(params: any) {\r\n    return this.http.postBody('pkg/courseSection/saveSectionLearnUUID', params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 更新最后用户时间\r\n  updateLastUsedTime(id: string) {\r\n    return this.http.get(`tch/orderDetail/updateLastUsedTime?id=${id}`, {}, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 课包建设是否完整\r\n  getIsUserd(id: string) {\r\n    return this.http.get(`pkg/coursePacket/getIsUserd/${id}`, {}, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 1个月的课时情况\r\n  isClassTime(params) {\r\n    return this.http.get(`tsk/v2/getMonthIs/isClassTime`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 1天的课时列表\r\n  byDate(params) {\r\n    return this.http.get(`tsk/v2/getClassTimes/byDate`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 学员未完成任务列表\r\n  todoTask(params) {\r\n    return this.http.get(`tsk/v2/todoTask`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 录播视频播放后，回调\r\n  insertPlaybackRecord(params) {\r\n    return this.http.postBody(`stu/studyTimeSection/insertPlaybackRecord`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 关卡列表\r\n  cardList(params) {\r\n    return this.http.get(`tsk/card/list`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 关卡奖励\r\n  cardResources(params) {\r\n    return this.http.get(`tsk/card/resources`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 考试相关详情\r\n  testDetail(params) {\r\n    return this.http.get(`${environment.questionBankApi}tkApi/seeai/sublibrary/exam/one`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 获取最新的已做题记录\r\n  getExamedRecord(params) {\r\n    return this.http.get(`${environment.questionBankApi}api/getExamedRecord`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 进入考试详情页\r\n  getTikuParams(params) {\r\n    return this.http.get(`tsk/card/getTikuParams`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 99实训列表数据\r\n  student99trainLogList(params) {\r\n    return this.http.get(`tsk/student99trainLog/list`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 进入99实训\r\n  student99trainLogInto(params) {\r\n    return this.http.get(`tsk/student99trainLog/into`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 统计报告个人-出勤数据\r\n  findStudentAttendanceData(params) {\r\n    return this.http.get(`bi/stu/study/report/findStudentAttendanceData`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 统计报告个人-阶段参考率和作业达标率\r\n  getStudentTaskAndExamRate(params) {\r\n    return this.http.get(`bi/stu/study/report/getStudentTaskAndExamRate`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 统计报告个人-战斗力和知识点掌握\r\n  findStudentHistoryAndPoint(params) {\r\n    return this.http.get(`bi/stu/study/report/findStudentHistoryAndPoint`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 查询排课时间\r\n  selectLessonPlanStartTimeInfo(params) {\r\n    return this.http.get(`bi/stu/study/report/selectLessonPlanStartTimeInfo`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 根据月份查询，排课开始到传的月份所有数据\r\n  findStudentHistoryBattlePower(params) {\r\n    return this.http.get(`bi/stu/study/report/findStudentHistoryBattlePower`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n  // 【押题宝】学员进入首页检查押题宝领取状态\r\n  adaptiveExamBetCheck(params) {\r\n    return this.http.get(`smart/adaptiveExamBet/check`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 【押题宝】学员领取或打开押题宝\r\n  adaptiveExamBetReceive(params) {\r\n    return this.http.get(`smart/adaptiveExamBet/receive`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 【押题宝】学员进入押题卷\r\n  adaptiveExamBetPaper(params) {\r\n    return this.http.get(`smart/adaptiveExamBet/paper`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 【押题宝】学员知识点详细\r\n  adaptiveExamBetKnowledgePointDetail(params) {\r\n    return this.http.get(`smart/adaptiveExamBet/knowledgePointDetail`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 【押题宝】学员知识点详细\r\n  adaptiveExamBetStudent(params) {\r\n    return this.http.get(`smart/adaptiveExamBet/student`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 【押题宝】学员智适应个人统计\r\n  personSmartInfo(params) {\r\n    return this.http.get(`tsk/ytb/personInfo`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 查询准考证\r\n  examInfoGet(params) {\r\n    return this.http.get(`tsk/examInfo/get`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 保存准考证\r\n  examInfoSave(params) {\r\n    return this.http.postBody(`tsk/examInfo/save`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 地区\r\n  areaList() {\r\n    return this.http.get(`sys/area/list`, {}, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 学期列表\r\n  termList(params) {\r\n    return this.http.get(`tsk/zk/termList`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 当前学期排课信息\r\n  lessonPlanList(params) {\r\n    return this.http.get(`tsk/zk/lessonPlanList`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 学习规划\r\n  studyPlanning(params) {\r\n    return this.http.get(`tsk/zk/studyPlan`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 查分链接\r\n  examInfoScoreGet(params) {\r\n    return this.http.get(`tsk/examInfoScore/get`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n  // 查分链接\r\n  examInfoScoreSave(params) {\r\n    return this.http.postBody(`tsk/examInfoScore/save`, params, ToolsUtil.getHttpOptions());\r\n  }\r\n\r\n}\r\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n"]}