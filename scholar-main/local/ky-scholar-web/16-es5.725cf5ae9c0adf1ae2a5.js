function _slicedToArray(n,e){return _arrayWithHoles(n)||_iterableToArrayLimit(n,e)||_unsupportedIterableToArray(n,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(n,e){if(n){if("string"==typeof n)return _arrayLikeToArray(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(n,e):void 0}}function _arrayLikeToArray(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function _iterableToArrayLimit(n,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n)){var t=[],i=!0,c=!1,o=void 0;try{for(var r,a=n[Symbol.iterator]();!(i=(r=a.next()).done)&&(t.push(r.value),!e||t.length!==e);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==a.return||a.return()}finally{if(c)throw o}}return t}}function _arrayWithHoles(n){if(Array.isArray(n))return n}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{QuTh:function(n,e,t){"use strict";t.r(e),t.d(e,"StudyOutlineModule",(function(){return A}));var i=t("mwdn"),c=t("PCNd"),o=t("tyNb"),r=t("R0Ic"),a=t("Vhue"),l=t("cp0P"),s=t("fXoL"),u=t("PScX"),d=t("b5Nk"),f=t("ofXK"),h=t("dEAy"),g=t("FwiY"),p=t("C2AL");function m(n,e){1&n&&s.Vb(0,"i",9)}function b(n,e){1&n&&s.Vb(0,"i",10)}function C(n,e){if(1&n&&(s.ac(0,"span",21),s.Pc(1),s.Zb()),2&n){var t=s.lc().$implicit;s.Eb(1),s.Rc("",t.knowledgePointCount||0,"\u4e2a\u77e5\u8bc6\u70b9")}}function y(n,e){if(1&n){var t=s.bc();s.ac(0,"span",22),s.ic("click",(function(){s.Ec(t);var n=s.lc().$implicit;return s.lc(3).showData(n)})),s.Vb(1,"i",23),s.ac(2,"span"),s.Pc(3,"\u8d44\u6599"),s.Zb(),s.Zb()}}var v=function(){return{color:"#3A3C42"}};function O(n,e){if(1&n){var t=s.bc();s.ac(0,"div",24),s.ic("click",(function(){s.Ec(t);var n=e.$implicit,i=s.lc().$implicit;return s.lc(3).goToBreakthrough(n,i)})),s.Vb(1,"i",25),s.ac(2,"div",26),s.ac(3,"span",27),s.Pc(4),s.Zb(),s.ac(5,"span",28),s.Pc(6),s.Zb(),s.Zb(),s.Zb()}if(2&n){var i=e.$implicit;s.Eb(3),s.tc("ngStyle",s.wc(3,v)),s.Eb(1),s.Qc(i.title),s.Eb(2),s.Rc("",i.videoLength||0,"\u5206\u949f")}}function _(n,e){if(1&n&&(s.ac(0,"div",13),s.ac(1,"div",14),s.ac(2,"span"),s.ac(3,"span",15),s.Pc(4),s.Zb(),s.Nc(5,C,2,1,"span",16),s.Zb(),s.Nc(6,y,4,0,"span",17),s.Zb(),s.ac(7,"div",18),s.ac(8,"div",19),s.Nc(9,O,7,4,"div",20),s.Zb(),s.Zb(),s.Zb()),2&n){var t=e.$implicit,i=e.index,c=s.lc(3);s.Eb(4),s.Sc("\u7b2c",c.chineseNumber[i],"\u8282\uff1a",t.name,""),s.Eb(1),s.tc("ngIf","1"==c.courseData.isSmart),s.Eb(1),s.tc("ngIf",null==t||null==t.handoutsMaterial?null:t.handoutsMaterial.length),s.Eb(3),s.tc("ngForOf",t.handoutsRecording)}}function P(n,e){if(1&n&&(s.ac(0,"div",11),s.Nc(1,_,10,5,"div",12),s.Zb()),2&n){var t=s.lc().$implicit;s.Eb(1),s.tc("ngForOf",t.children)}}var M=function(n){return{close:n}};function w(n,e){if(1&n){var t=s.bc();s.ac(0,"div",4),s.ac(1,"div",5),s.ic("click",(function(){s.Ec(t);var n=e.$implicit,i=e.index;return s.lc().switchChapters(n,i)})),s.ac(2,"span"),s.Pc(3),s.Zb(),s.Nc(4,m,1,0,"i",6),s.Nc(5,b,1,0,"i",7),s.Zb(),s.Nc(6,P,2,1,"div",8),s.Zb()}if(2&n){var i=e.$implicit,c=e.index,o=s.lc();s.Eb(1),s.tc("ngClass",s.xc(6,M,i.open||!i.children)),s.Eb(2),s.Sc("\u7b2c",o.chineseNumber[c],"\u7ae0\uff1a",i.name,""),s.Eb(1),s.tc("ngIf",i.open),s.Eb(1),s.tc("ngIf",!i.open),s.Eb(1),s.tc("ngIf",i.children&&i.children.length>0&&i.open)}}function k(n,e){1&n&&s.Pc(0," \u8d44\u6599 ")}function z(n,e){if(1&n){var t=s.bc();s.ac(0,"li",31),s.ic("click",(function(){s.Ec(t);var n=e.$implicit;return s.lc(2).download(n)})),s.Vb(1,"img",32),s.Pc(2),s.Zb()}if(2&n){var i=e.$implicit;s.Eb(2),s.Rc(" ",i.attachmentName," ")}}function E(n,e){if(1&n&&(s.ac(0,"div",29),s.ac(1,"ul"),s.Nc(2,z,3,1,"li",30),s.Zb(),s.Zb()),2&n){var t=s.lc();s.Eb(2),s.tc("ngForOf",t.handoutsMaterial)}}var T,x,S,I=((T=function(){function n(e,t,i){_classCallCheck(this,n),this.message=e,this.courseMgService=t,this.aliOss=i,this.courseData=a.a.getPacketInfo(),this.outline=[],this.isVisible=!1,this.chineseNumber=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c","\u5341\u4e09","\u5341\u56db","\u5341\u4e94","\u5341\u516d","\u5341\u4e03","\u5341\u516b","\u5341\u4e5d","\u4e8c\u5341","\u4e8c\u5341\u4e00","\u4e8c\u5341\u4e8c","\u4e8c\u5341\u4e09","\u4e8c\u5341\u56db","\u4e8c\u5341\u4e94","\u4e8c\u5341\u516d","\u4e8c\u5341\u4e03","\u4e8c\u5341\u516b","\u4e8c\u5341\u4e5d","\u4e09\u5341"],this.handouts=[],this.handoutsMaterial=[],this.handoutsRecording=[]}return _createClass(n,[{key:"ngOnInit",value:function(){this.getChapter()}},{key:"switchChapters",value:function(n,e){this.outline[e].open=!this.outline[e].open,n.children||this.chapterChange(this.outline[e])}},{key:"showData",value:function(n){if(this.isVisible=!this.isVisible,!n)return!1;this.handoutsMaterial=n.handoutsMaterial}},{key:"download",value:function(n){this.aliOss.download(n)}},{key:"goToBreakthrough",value:function(n,e){window.open("#/chapter-study/".concat(e.id,"/2").concat(n.attachmentPath?"/"+n.attachmentPath:""))}},{key:"getChapter",value:function(){var n=this;this.courseMgService.getList_courseChapter(this.courseData.id).subscribe((function(e){200===e.status&&(e.data.forEach((function(n){n.open=!1})),n.outline=e.data,n.outline.length>0&&(n.outline[0].open=!0,n.outline[0].children&&0!==n.outline[0].children.length||n.chapterChange(n.outline[0])))}))}},{key:"chapterChange",value:function(n){var e=this;Object(l.a)([this.courseMgService.getList_courseSection(n.id),this.courseMgService.sectionFileList_courseSectionFile(null,n.id)]).subscribe((function(t){var i=_slicedToArray(t,2),c=i[0],o=i[1];if(200===c.status&&(n.children=c.data||[],n.children.length)){var r=[];n.children.forEach((function(n){r.push(n.id)})),e.courseMgService.countTheNumberOfKnowledgePoints(r).subscribe((function(e){200===e.status&&e.data.forEach((function(e,t){n.children.every((function(t,i){if(t.id!==e.courseSectionId)return!0;n.children[i].knowledgePointCount=e.knowledgePointCount}))}))}))}if(200===o.status){var a=o.data||[];n.handoutsMaterial=a.filter((function(n){return"102"===n.type})),n.handoutsRecording=a.filter((function(n){return"103"===n.type})).sort((function(n,e){return n.seq>e.seq?-1:n.seq<e.seq?1:0})),e.setExtendData(n,"handoutsMaterial"),e.setExtendData(n,"handoutsRecording")}}))}},{key:"setExtendData",value:function(n,e){n[e].forEach((function(t){n.children.length&&n.children.every((function(i,c){if(i.id!==t.courseSectionId)return!0;n.children[c][e]?n.children[c][e].push(t):n.children[c][e]=[t]}))}))}}]),n}()).\u0275fac=function(n){return new(n||T)(s.Ub(u.e),s.Ub(i.b),s.Ub(d.a))},T.\u0275cmp=s.Ob({type:T,selectors:[["app-study-outline-recorded"]],decls:6,vars:5,consts:[["class","outline-container",4,"ngFor","ngForOf"],["nzClassName","data",3,"nzVisible","nzTitle","nzContent","nzFooter","nzVisibleChange","nzOnCancel"],["modalTitle",""],["modalContent",""],[1,"outline-container"],[1,"item",3,"ngClass","click"],["nz-icon","","nzType","up","nzTheme","outline",4,"ngIf"],["nz-icon","","nzType","down","nzTheme","outline",4,"ngIf"],["class","outline-detail",4,"ngIf"],["nz-icon","","nzType","up","nzTheme","outline"],["nz-icon","","nzType","down","nzTheme","outline"],[1,"outline-detail"],["class","chapters",4,"ngFor","ngForOf"],[1,"chapters"],[1,"section-name"],[1,"name"],["class","size",4,"ngIf"],["class","document",3,"click",4,"ngIf"],[1,""],[1,"section"],["class","item",3,"click",4,"ngFor","ngForOf"],[1,"size"],[1,"document",3,"click"],["nz-icon","","nzType","folder","nzTheme","outline"],[1,"item",3,"click"],["nz-icon","","nzType","play-circle","nzTheme","outline"],[1,"description"],[1,"name",3,"ngStyle"],[1,"time"],[1,"box-inner"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["src","assets/images/file.png","alt",""]],template:function(n,e){if(1&n&&(s.Nc(0,w,7,8,"div",0),s.ac(1,"nz-modal",1),s.ic("nzVisibleChange",(function(n){return e.isVisible=n}))("nzOnCancel",(function(){return e.showData("")})),s.Nc(2,k,1,0,"ng-template",null,2,s.Oc),s.Nc(4,E,3,1,"ng-template",null,3,s.Oc),s.Zb()),2&n){var t=s.Cc(3),i=s.Cc(5);s.tc("ngForOf",e.outline),s.Eb(1),s.tc("nzVisible",e.isVisible)("nzTitle",t)("nzContent",i)("nzFooter",null)}},directives:[f.m,h.a,f.l,f.n,p.a,g.a,f.o],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}h2[_ngcontent-%COMP%]{width:1200px;text-align:left;padding-left:2rem;font-size:26px;color:#3a3c42;margin-top:3rem}.outline-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#000;width:1200px;border-radius:1rem;margin:auto auto 1rem}.outline-container[_ngcontent-%COMP%] > .item[_ngcontent-%COMP%]{background:rgba(204,245,223,.63);padding:1rem 2.5rem;font-size:1.2rem;display:flex;align-items:center;justify-content:space-between;border-radius:1rem;cursor:pointer}.outline-container[_ngcontent-%COMP%] > .item.close[_ngcontent-%COMP%]{border-radius:1rem 1rem 0 0}.outline-container[_ngcontent-%COMP%] > .item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00ab84}.outline-detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#fafafa;padding:0 2rem;border-radius:0 0 1rem 1rem;overflow:hidden}.outline-detail[_ngcontent-%COMP%]   .chapters[_ngcontent-%COMP%]:last-child{padding-bottom:1rem}.section-name[_ngcontent-%COMP%]{padding:2rem .5rem 1rem;display:flex;align-items:center;justify-content:space-between}.section-name[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-right:1rem;font-size:1.2rem;color:#555}.section-name[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{color:#999}.section-name[_ngcontent-%COMP%]   .document[_ngcontent-%COMP%]{color:#00ab84;cursor:pointer}.section-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;cursor:pointer}.section[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{background-color:#fff;border-radius:.3rem;padding:1rem 2rem;margin:.5rem;box-shadow:0 0 20px hsla(0,0%,88.2%,.522);display:flex;width:calc(33.33333% - 1rem)}.section[_ngcontent-%COMP%]   .item.lock[_ngcontent-%COMP%], .section[_ngcontent-%COMP%]   .item.lock[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#ccc}.section[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:.3rem .5rem 0 0}.section[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.section[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:#3a3c42}.section[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{margin-top:.5rem;color:#a3abb8}"],data:{animation:[Object(r.l)("collapse",[Object(r.i)("open",Object(r.j)({height:0})),Object(r.i)("close",Object(r.j)({height:"auto"})),Object(r.k)("open <=> close",[Object(r.e)("0.3s")])])]}}),T),Z=t("Lfe1"),N=[{path:"outline",pathMatch:"full",component:I},{path:"outline-fl",component:t("CVFo").a},{path:"**",component:Z.a,data:{title:"404"}}],j=((S=function n(){_classCallCheck(this,n)}).\u0275mod=s.Sb({type:S}),S.\u0275inj=s.Rb({factory:function(n){return new(n||S)},imports:[[o.l.forChild(N)],o.l]}),S),A=((x=function n(){_classCallCheck(this,n)}).\u0275mod=s.Sb({type:x}),x.\u0275inj=s.Rb({factory:function(n){return new(n||x)},providers:[i.b],imports:[[j,c.a]]}),x)}}]);
//# sourceMappingURL=16-es5.725cf5ae9c0adf1ae2a5.js.map